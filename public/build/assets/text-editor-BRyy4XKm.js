import{r as m,j as n}from"./app-BOmU1wmL.js";import{E as p}from"./editor-CO3KJCTx.js";import{c as s}from"./lexical-headless-CJI_HsZI.js";import"./app-VvtKnDwK.js";import"./nodes-CImg-T9u.js";import"./tooltip-B-9YRlG5.js";import"./index-DdNxHDY2.js";import"./index-CtUadT9n.js";import"./index-BdIQ-kbR.js";import"./index-C6gdkV91.js";import"./index-CXwkwjvO.js";import"./index-B-fAkSq4.js";import"./index-DTrOkFw6.js";import"./index-Bs-2WC09.js";import"./utils-e8IeQt0G.js";import"./content-editable-zq9nIIPc.js";import"./createLucideIcon-DUOuwx2-.js";import"./dialog-4kNTCLrK.js";import"./index-CTyL-A3x.js";import"./x-Cxqud0xV.js";import"./command-0ugShPvD.js";import"./search-CS9TKoj2.js";import"./button-BXeYMGgI.js";import"./index-sq8JxwLA.js";import"./index-CyaJm5Nq.js";import"./input-BasXNOLM.js";import"./label-dU9c1Gas.js";import"./index-1aSE4XS9.js";import"./index-XA1OJB6Q.js";import"./popover-CW35KCFR.js";import"./check-D2RIYBP2.js";import"./trash-ZyzuEw0V.js";import"./separator-C2_OsKSl.js";import"./index-CaVr11ya.js";import"./index-CBdR2yVO.js";import"./chevron-up-CD7H7HTg.js";import"./chevron-down-Cr3D6SAa.js";import"./list-DNO3BUta.js";import"./image-BFEHe2fM.js";const e={root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}};function X({isNew:o=!1}){const[r,a]=m.useState(()=>{if(typeof window>"u")return e;try{const t=localStorage.getItem(o?"textContentState":"textEditContentState"),i=t?JSON.parse(t):e;return console.log("savedState",i),i.root.children.length===0?e:i}catch{return e}});return m.useEffect(()=>{localStorage.setItem(o?"textContentState":"textEditContentState",JSON.stringify(r)),(async()=>{try{const t=await s(JSON.stringify(r));localStorage.setItem(o?"textHtmlContentState":"textEditHtmlContentState",t)}catch(t){console.error("Failed to convert editor state to HTML",t)}})()},[r,o]),n.jsx(p,{editorSerializedState:r,onSerializedChange:t=>a(t)})}export{X as default,e as initialValue};
