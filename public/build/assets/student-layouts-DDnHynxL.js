import{c as te,r as K,u as re,j as s,L as O,H as le}from"./app-BOmU1wmL.js";import{P as ae}from"./page-banner-C7OHPqMr.js";import{A as ie}from"./app-logo-icon-CK9aNDB_.js";import{D as ne}from"./divider-BBgeuDb2.js";import{D as oe}from"./profile-svg-Bwy5UQEi.js";import{P as Q,A as de}from"./user-profile-trigger-BYgeGczA.js";import{B as ce}from"./button-BXeYMGgI.js";import{a as xe,b as me}from"./dropdown-menu-DRIWHMxB.js";import{L as Y}from"./logout-user-HcNmiAIC.js";import{r as ue,c as fe}from"./utils-e8IeQt0G.js";import{d as he}from"./index-8GFiKN7D.js";import{i as pe}from"./index-DMEIf3eg.js";import{D as ge}from"./index-BwiOEFi6.js";import{p as Z,s as je}from"./nav-items-CaazlHcg.js";import{X as V}from"./x-Cxqud0xV.js";import{M as be}from"./menu-VI9xwiLb.js";function ve(o){const e=te.c(80),{children:P}=o,[T,$]=K.useState("lg:ml-[300px]");window.addEventListener("resize",function(){window.innerWidth<1024?(a(!1),$("")):window.innerWidth>=1024&&(a(!0),$("lg:ml-[300px]"))});const A=re(),{auth:t}=A.props,[i,d]=K.useState(!1),[l,ee]=K.useState(window.innerWidth>=1024),a=ee;let n;if(e[0]!==t.user){if(n=[],t.user!=null&&t.user.account_role=="student"){let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={title:"Mes Cours",href:pe()},e[2]=r):r=e[2],n.push(r)}e[0]=t.user,e[1]=n}else n=e[1];let B;e[3]!==i||e[4]!==d?(B=function(){d(!i)},e[3]=i,e[4]=d,e[5]=B):B=e[5];const c=B;let E;e[6]!==a?(E=function(){window.innerWidth<1024&&a(!1)},e[6]=a,e[7]=E):E=e[7];const q=E;let H;e[8]!==l||e[9]!==a?(H=function(){a(!l),l||window.innerWidth<1024?$(""):$("lg:ml-[300px]")},e[8]=l,e[9]=a,e[10]=H):H=e[10];const x=H;let R;e[11]===Symbol.for("react.memo_cache_sentinel")?(R=he(),e[11]=R):R=e[11];let U;e[12]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx("div",{className:"order-last p-2 shadow-sm lg:order-first dark:bg-clcard",children:s.jsx(O,{href:R,className:"flex items-center gap-2",children:s.jsx(ie,{className:"h-[30px]"})})}),e[12]=U):U=e[12];let m;e[13]!==x||e[14]!==l?(m=!l&&s.jsx(be,{className:"dark:text-gray-400",onClick:x}),e[13]=x,e[14]=l,e[15]=m):m=e[15];let u;e[16]!==m?(u=s.jsxs("div",{className:"flex items-center gap-6",children:[U,m]}),e[16]=m,e[17]=u):u=e[17];let f;e[18]!==n?(f=s.jsx("div",{className:"hidden lg:flex lg:items-center lg:gap-8",children:n.map(Ne)}),e[18]=n,e[19]=f):f=e[19];let F;e[20]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(de,{}),e[20]=F):F=e[20];let h;e[21]!==t.user||e[22]!==d?(h=t.user!=null&&s.jsx("div",{className:"hidden lg:block",children:s.jsxs(ge,{children:[s.jsx(xe,{asChild:!0,children:s.jsx(ce,{variant:"ghost",className:"size-10 rounded-full p-1 dark:border-gray-300",children:s.jsx(Q,{user:t.user})})}),s.jsx(me,{className:"w-56 transition-all duration-300 ease-in-out dark:bg-cdcard",align:"end",children:s.jsxs("div",{children:[Z.map(r=>{const W=r.icon;return s.jsxs(O,{href:r.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{d(!1)},children:[s.jsx(W,{size:16}),r.title]},r.href)}),s.jsx(Y,{})]})})]})}),e[21]=t.user,e[22]=d,e[23]=h):h=e[23];let p;e[24]!==h?(p=s.jsxs("div",{className:"flex items-center gap-4",children:[F,h]}),e[24]=h,e[25]=p):p=e[25];let g;e[26]!==t.user||e[27]!==i?(g=i?s.jsx(V,{size:24}):s.jsx("div",{children:t.user==null?s.jsx(oe,{}):s.jsx(Q,{user:t.user})}),e[26]=t.user,e[27]=i,e[28]=g):g=e[28];let j;e[29]!==c||e[30]!==g?(j=s.jsx("button",{onClick:c,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100 lg:hidden",children:g}),e[29]=c,e[30]=g,e[31]=j):j=e[31];let b;e[32]!==p||e[33]!==j||e[34]!==f?(b=s.jsxs("div",{className:"flex items-center",children:[f,p,j]}),e[32]=p,e[33]=j,e[34]=f,e[35]=b):b=e[35];let v;e[36]!==b||e[37]!==u?(v=s.jsx("nav",{className:"h-[56px] border-b border-gray-200 bg-white shadow-sm dark:bg-cdark",children:s.jsx("div",{className:"mx-auto px-4 sm:w-full sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u,b]})})}),e[36]=b,e[37]=u,e[38]=v):v=e[38];let y;e[39]!==t.user||e[40]!==c||e[41]!==i||e[42]!==n||e[43]!==d?(y=i&&s.jsxs("div",{children:[s.jsx("div",{onClick:c,className:"fixed top-0 z-40 h-full w-full bg-black/50 transition-all duration-300 ease-in-out"}),s.jsxs("div",{className:`fixed right-0 bottom-0 z-50 w-full animate-in gap-4 overflow-y-auto rounded-t-lg bg-white p-4 shadow-lg transition-all duration-300 ease-in-out dark:bg-cdcard ${i?"slide-in-from-bottom":"slide-out-to-bottom"}`,children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:c,children:s.jsx(V,{size:24,className:"dark:text-gray-300"})})}),n.map(ye),t.user!=null&&s.jsxs("div",{children:[s.jsx(ne,{}),s.jsxs("div",{className:"mb-3 flex items-center gap-3 px-4 py-2",children:[s.jsx(Q,{user:t.user}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:t.user.first_name==null&&t.user.last_name==null?s.jsxs("span",{children:[t.user.first_name," ",t.user.last_name]}):s.jsx("span",{children:t.user.username})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:t.user.email})]})]}),Z.map(r=>{const W=r.icon;return s.jsxs(O,{href:r.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{d(!1)},children:[s.jsx(W,{size:16}),r.title]},r.href)}),s.jsx(Y,{})]})]})]}),e[39]=t.user,e[40]=c,e[41]=i,e[42]=n,e[43]=d,e[44]=y):y=e[44];let N;e[45]!==v||e[46]!==y?(N=s.jsxs("div",{className:"sticky top-0 right-0 left-0 z-40 sm:z-50",children:[v,y]}),e[45]=v,e[46]=y,e[47]=N):N=e[47];let k;e[48]!==a?(k=()=>a(!1),e[48]=a,e[49]=k):k=e[49];const G=`fixed top-0 left-0 z-50 h-full w-full bg-black/50 transition-all duration-300 ease-in-out sm:top-[56px] sm:z-40 lg:hidden ${l?"visible opacity-100":"invisible opacity-0"}`;let w;e[50]!==k||e[51]!==G?(w=s.jsx("div",{onClick:k,className:G}),e[50]=k,e[51]=G,e[52]=w):w=e[52];const J=`fixed top-0 left-0 z-50 h-full overflow-y-auto border-t border-r bg-white px-6 text-black shadow-sm transition-all duration-300 ease-in-out sm:top-[56px] dark:bg-cdark ${l?"w-full translate-x-0 sm:w-[300px]":"-translate-x-full"}`;let S;e[53]!==t.user||e[54]!==x||e[55]!==l?(S=l&&s.jsxs("div",{className:"my-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase dark:text-gray-200",children:t.user.username}),s.jsx(V,{size:24,className:"dark:text-gray-200",onClick:x})]}),e[53]=t.user,e[54]=x,e[55]=l,e[56]=S):S=e[56];let C;e[57]!==q||e[58]!==A.url?(C=je.map((r,W)=>{const se=r.icon;return s.jsxs(O,{href:r.href,className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300 ${A.url.startsWith(ue(r.href))?"!bg-cblue !text-white":""}`,onClick:q,children:[s.jsx(se,{size:16}),r.title]},W)}),e[57]=q,e[58]=A.url,e[59]=C):C=e[59];let z;e[60]!==C?(z=s.jsx("ul",{children:C}),e[60]=C,e[61]=z):z=e[61];let M;e[62]!==S||e[63]!==z?(M=s.jsxs("div",{className:"mb-4",children:[S,z]}),e[62]=S,e[63]=z,e[64]=M):M=e[64];let I;e[65]!==J||e[66]!==M?(I=s.jsx("div",{className:J,children:M}),e[65]=J,e[66]=M,e[67]=I):I=e[67];let _;e[68]!==w||e[69]!==I?(_=s.jsxs("div",{children:[w,I]}),e[68]=w,e[69]=I,e[70]=_):_=e[70];let D;e[71]!==T?(D=fe("p-2 transition-all duration-300 sm:p-4",T),e[71]=T,e[72]=D):D=e[72];let L;e[73]!==P||e[74]!==D?(L=s.jsx("div",{className:D,children:P}),e[73]=P,e[74]=D,e[75]=L):L=e[75];let X;return e[76]!==N||e[77]!==_||e[78]!==L?(X=s.jsxs(s.Fragment,{children:[N,_,L]}),e[76]=N,e[77]=_,e[78]=L,e[79]=X):X=e[79],X}function ye(o,e){return s.jsx(O,{href:o.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-300",children:o.title},e)}function Ne(o,e){return s.jsx(O,{href:o.href,className:"line-clamp-1 text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-200",children:o.title},e)}const Be=({children:o,title:e,breadcrumbs:P,...T})=>s.jsxs(ve,{breadcrumbs:P,...T,children:[s.jsx(le,{title:e}),s.jsx(ae,{title:e}),o]});export{Be as S};
