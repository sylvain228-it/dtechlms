import{j as e,R as o,L as g,a as M}from"./app-BzXwBPBx.js";import{B as p}from"./button-DpCkL2lj.js";import{D as R,a as S,b as D,d as N,e as r,f as y,g as c}from"./dropdown-menu-DlZS67It.js";import{I as T}from"./input-Dbi88rSi.js";import{u as F,T as P,a as V,b as m,c as z,f as x,d as E,e as h,E as _,g as k,h as H,i as I,j as L}from"./table-BPRttfHj.js";import{s as u}from"./tasks-BTAmnlgm.js";import{n as B}from"./type-DhUEUhhk.js";import{s as K,e as q,d as A}from"./index-CU8SWGOj.js";import{F as O}from"./index-BGGtLgwn.js";import{F as G}from"./index-DJeoZDrq.js";import{M as J}from"./index-DF2umSuw.js";import"./app-BlAWqAGg.js";import"./index-D1DaFm8C.js";import"./index-CmvPZPYG.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-VdYImSg5.js";import"./index-BWbkfBfC.js";import"./index-BZwf-zK1.js";import"./index-CJlYDfk2.js";import"./index-B2cDW95s.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BucdvD4Q.js";import"./index-BRTuzqyl.js";import"./check-BHZKRPmL.js";import"./createLucideIcon-BboBuA9R.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-DaF8M3S2.js";import"./nodes-CSrlFqt9.js";import"./iconBase-BH9TG5R0.js";const j=[{id:"actions",enableHiding:!1,cell:({row:s})=>{const l=s.original;function n(d){d.preventDefault(),confirm("Êtes-vous sûr de vouloir supprimer ce quize ?")&&M.delete(A([l?.parent_course?.id??"",l.id]))}return e.jsxs(R,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(p,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Ouvrir"}),e.jsx(_,{})]})}),e.jsxs(D,{align:"end",children:[e.jsx(N,{children:"Actions"}),e.jsx(r,{onClick:()=>navigator.clipboard.writeText(l.title),children:"Copier le titre"}),e.jsx(y,{}),e.jsx(g,{href:K([l?.parent_course?.slug??"",l.slug]),children:e.jsxs(r,{children:["Détails",e.jsx(c,{children:e.jsx(G,{className:"text-blue-500"})})]})}),e.jsx(g,{href:q([l?.parent_course?.slug??"",l.slug]),children:e.jsxs(r,{children:["Modifier",e.jsx(c,{children:e.jsx(O,{className:"text-blue-500"})})]})}),e.jsxs(r,{onClick:n,children:["Supprimer",e.jsx(c,{children:e.jsx(J,{className:"text-red-500"})})]})]})]})}},{accessorKey:"title",header:"Titre",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:u(s.getValue("title"),0,30)})},{accessorKey:"description",header:"Description",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:u(s.getValue("description"),0,50)})},{accessorKey:"evaluation_type",header:"Type",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:u(B(s.getValue("evaluation_type")),0,20)})}];function Se({evaluations:s}){const[l,n]=o.useState([]),[d,f]=o.useState([]),[w,v]=o.useState({}),[b,C]=o.useState({}),t=F({data:s,columns:j,onSortingChange:n,onColumnFiltersChange:f,getCoreRowModel:L(),getPaginationRowModel:I(),getSortedRowModel:H(),getFilteredRowModel:k(),onColumnVisibilityChange:v,onRowSelectionChange:C,state:{sorting:l,columnFilters:d,columnVisibility:w,rowSelection:b}});return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-3 flex w-full flex-col justify-between gap-2 lg:flex-row lg:gap-4",children:e.jsx(T,{placeholder:"Filtrer par titre...",value:t.getColumn("title")?.getFilterValue()??"",onChange:i=>t.getColumn("title")?.setFilterValue(i.target.value),className:"w-full"})}),e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(P,{children:[e.jsx(V,{children:t.getHeaderGroups().map(i=>e.jsx(m,{children:i.headers.map(a=>e.jsx(z,{children:a.isPlaceholder?null:x(a.column.columnDef.header,a.getContext())},a.id))},i.id))}),e.jsx(E,{children:t.getRowModel().rows?.length?t.getRowModel().rows.map(i=>e.jsx(m,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(a=>e.jsx(h,{children:x(a.column.columnDef.cell,a.getContext())},a.id))},i.id)):e.jsx(m,{children:e.jsx(h,{colSpan:j.length,className:"h-24 text-center",children:"Pas de résultats."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[t.getFilteredSelectedRowModel().rows.length," sur"," ",t.getFilteredRowModel().rows.length," ligne(s) sélectionné(s)."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"Précédent"}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:"Suivant"})]})]})]})}export{j as columns,Se as default};
