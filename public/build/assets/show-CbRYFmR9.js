import{c as ze,u as Te,j as t,L as Ve,a as He}from"./app-klcUL3EL.js";import{D as Ae}from"./divider-Dzwd8ovy.js";import{T as Ee}from"./teacher-layouts-iHncLP1a.js";import{G as Be}from"./get-html-content-kWJlVSU-.js";import{h as Oe}from"./tasks-akZpNf8L.js";import{g as Re,a as Ge}from"./type-BKOnXlFr.js";import{f as Pe}from"./utils-e8IeQt0G.js";import{s as $e}from"./index-D-fKvoRm.js";import{e as Ue,d as Fe}from"./index-DH9SVvWg.js";import{a as qe}from"./index-CJeVcETn.js";import{A as Ie}from"./arrow-right-BYBwp2mR.js";import"./app-Ci7uHgFL.js";import"./page-banner-DONW1mv1.js";import"./button-Bh8WI1Ty.js";import"./index-A7wesXx6.js";import"./index-Ds5qzORP.js";import"./index-CyaJm5Nq.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-BQcbsxov.js";import"./iconBase-BVw07lCS.js";import"./arrow-left-DMV9iy1g.js";import"./createLucideIcon-DknjQr1d.js";import"./app-logo-icon-ijSwabQD.js";import"./user-profile-trigger-BnF5rMVz.js";import"./sun-UD3V7mlH.js";import"./avatar-BdB_hIma.js";import"./index-C7Q-OePl.js";import"./index-DATr0Fl4.js";import"./index-DkAn70oM.js";import"./avatar-fallback-BDH5mD5T.js";import"./use-initials-GDEZD6-s.js";import"./profile-svg-BWG5dZ33.js";import"./dropdown-menu-Buaj86n5.js";import"./index-hw-50Y8m.js";import"./index-D7xMndjq.js";import"./index-BrvB-LOg.js";import"./index-C9hgHX-E.js";import"./index-CPeTD8AP.js";import"./index-qHu87rw-.js";import"./check-9HY1vcbG.js";import"./logout-user-CTkV5_42.js";import"./spinner-2t8r_D1R.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-uPqsp4v0.js";import"./index-ClAXPadg.js";import"./index-DMEIf3eg.js";import"./index-B5Wz6g3U.js";import"./index-B_X-8rh8.js";import"./index-BSbDLIwT.js";import"./index-CU8SWGOj.js";import"./index-BD3HuK-g.js";import"./index-C4OL-TuX.js";import"./index-Bwrcs2qz.js";import"./index-DerrCcFj.js";import"./index-Drn0ezkX.js";import"./index-DmWZapw3.js";import"./gauge-BODaeFnF.js";import"./calendar-CUp6x8Fo.js";import"./book-open-qbgfrGvc.js";import"./settings-C4I39P2J.js";import"./x-DGooslga.js";import"./menu-CTQlVSPW.js";import"./lexical-headless-BoxOyP-N.js";import"./nodes-CfCS7w2W.js";function ns(){const e=ze.c(152),{module:s}=Te().props;let Z;e[0]!==s.course.slug||e[1]!==s.id?(Z=()=>{confirm("Confirmer la suppression de cette section ?")&&He.delete(Fe([s.course.slug,s.id]))},e[0]=s.course.slug,e[1]=s.id,e[2]=Z):Z=e[2];const be=Z;let ee;e[3]!==s.sequences?(ee=s.sequences??[],e[3]=s.sequences,e[4]=ee):ee=e[4];const l=ee,r=l.length;let te;e[5]!==l?(te=l.filter(Qe),e[5]=l,e[6]=te):te=e[6];const Ne=te.length;let se;e[7]!==l?(se=l.filter(Ke),e[7]=l,e[8]=se):se=e[8];const ve=se.length;let le;e[9]!==l?(le=l.reduce(Je,0),e[9]=l,e[10]=le):le=e[10];const ke=le;let ie;e[11]!==s.course||e[12]!==s.id?(ie=s.course?Ue([s.course?.slug??"",s.id]).url:"#",e[11]=s.course,e[12]=s.id,e[13]=ie):ie=e[13];const _e=ie,we=`Module : ${s.title}`;let m;e[14]!==s.course.slug?(m=$e(s.course.slug),e[14]=s.course.slug,e[15]=m):m=e[15];let a;e[16]!==m?(a=t.jsx(Ve,{href:m,className:"text-sm text-blue-600 hover:underline",children:"Cours"}),e[16]=m,e[17]=a):a=e[17];let re;e[18]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("span",{className:"text-sm text-gray-400",children:"/"}),e[18]=re):re=e[18];let o;e[19]!==s.title?(o=t.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:s.title}),e[19]=s.title,e[20]=o):o=e[20];let n;e[21]!==o||e[22]!==a?(n=t.jsxs("div",{className:"flex items-center gap-3",children:[a,re,o]}),e[21]=o,e[22]=a,e[23]=n):n=e[23];const Se=s.description??"";let c;e[24]!==Se?(c=t.jsx("p",{className:"mt-2 line-clamp-1 max-w-2xl text-sm text-gray-600",children:Se}),e[24]=Se,e[25]=c):c=e[25];let d;e[26]!==s.module_type?(d=Re(s.module_type),e[26]=s.module_type,e[27]=d):d=e[27];let x;e[28]!==d?(x=t.jsxs("span",{className:"inline-flex items-center rounded bg-indigo-50 px-2 py-1 text-xs font-medium text-indigo-700",children:["Type: ",d]}),e[28]=d,e[29]=x):x=e[29];let f;e[30]!==s.modality?(f=Ge(s.modality),e[30]=s.modality,e[31]=f):f=e[31];let u;e[32]!==f?(u=t.jsxs("span",{className:"inline-flex items-center rounded bg-sky-50 px-2 py-1 text-xs font-medium text-sky-700",children:["Mode: ",f]}),e[32]=f,e[33]=u):u=e[33];const Ce=s.version??1;let p;e[34]!==Ce?(p=t.jsxs("span",{className:"inline-flex items-center rounded bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700",children:["Version: ",Ce]}),e[34]=Ce,e[35]=p):p=e[35];let h;e[36]!==s.is_visible?(h=s.is_visible&&t.jsx("span",{className:"inline-flex items-center rounded bg-green-50 px-2 py-1 text-xs font-medium text-green-700",children:"Visible"}),e[36]=s.is_visible,e[37]=h):h=e[37];let g;e[38]!==s.order?(g=t.jsxs("span",{className:"inline-flex items-center rounded bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700",children:["Ordre: ",s.order]}),e[38]=s.order,e[39]=g):g=e[39];let y;e[40]!==x||e[41]!==u||e[42]!==p||e[43]!==h||e[44]!==g?(y=t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[x,u,p,h,g]}),e[40]=x,e[41]=u,e[42]=p,e[43]=h,e[44]=g,e[45]=y):y=e[45];let j;e[46]!==n||e[47]!==c||e[48]!==y?(j=t.jsxs("div",{children:[n,c,y]}),e[46]=n,e[47]=c,e[48]=y,e[49]=j):j=e[49];let b;e[50]!==_e||e[51]!==s.syllabus?(b=t.jsx("button",{onClick:i=>Oe(i,s.syllabus??"",_e),className:"rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium hover:bg-gray-50",children:"Modifier"}),e[50]=_e,e[51]=s.syllabus,e[52]=b):b=e[52];let N;e[53]!==be?(N=t.jsx("button",{onClick:be,className:"rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Supprimer"}),e[53]=be,e[54]=N):N=e[54];let v;e[55]!==s.course||e[56]!==s.id?(v=s.course?qe.index([s.course.slug,s.id]):"#",e[55]=s.course,e[56]=s.id,e[57]=v):v=e[57];let me;e[58]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Ie,{size:18,className:"ml-2"}),e[58]=me):me=e[58];let _;e[59]!==v?(_=t.jsxs(Ve,{href:v,className:"flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:["Séquences ",me]}),e[59]=v,e[60]=_):_=e[60];let w;e[61]!==b||e[62]!==N||e[63]!==_?(w=t.jsxs("div",{className:"flex items-center gap-3",children:[b,N,_]}),e[61]=b,e[62]=N,e[63]=_,e[64]=w):w=e[64];let S;e[65]!==j||e[66]!==w?(S=t.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[j,w]}),e[65]=j,e[66]=w,e[67]=S):S=e[67];let ae;e[68]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Description"}),e[68]=ae):ae=e[68];let C;e[69]!==s.description?(C=s.description??t.jsx("span",{className:"text-gray-400",children:"Aucune description fournie."}),e[69]=s.description,e[70]=C):C=e[70];let M;e[71]!==C?(M=t.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[ae,t.jsx("div",{className:"my-3 text-sm text-gray-700",children:C})]}),e[71]=C,e[72]=M):M=e[72];let L;e[73]!==r?(L=t.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Séquences (",r,")"]}),e[73]=r,e[74]=L):L=e[74];const Me=(s.estimated_hours??ke)*60;let D;e[75]!==Me?(D=Pe(Me),e[75]=Me,e[76]=D):D=e[76];let V;e[77]!==D?(V=t.jsxs("div",{className:"text-sm text-gray-500",children:["Durée totale:"," ",D]}),e[77]=D,e[78]=V):V=e[78];let k;e[79]!==L||e[80]!==V?(k=t.jsxs("div",{className:"flex items-center justify-between",children:[L,V]}),e[79]=L,e[80]=V,e[81]=k):k=e[81];let q;e[82]!==s.course.slug||e[83]!==s.id||e[84]!==l?(q=l.length===0?t.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"Aucune séquence pour ce module."}):l.map(i=>t.jsxs("div",{className:"flex items-start gap-4 py-4",children:[t.jsxs("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded bg-gray-100 p-2 text-gray-600",children:[i.sequence_type==="practice"&&t.jsx("svg",{className:"h-full w-full text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M4 6c0-1.1.9-2 2-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm6.5 8.5V9l5 2.75-5 2.75z"})}),i.sequence_type==="project"&&t.jsx("svg",{className:"h-full w-full text-indigo-500",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zm0 6.5L4.24 7 12 3.5 19.76 7 12 8.5zM4 9.5v5.5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9.5L12 14 4 9.5z"})}),["document","text","resource"].includes(i.sequence_type)&&t.jsx("svg",{className:"h-full w-full text-yellow-500",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16l6-3 6 3V4a2 2 0 00-2-2z"})})]}),t.jsx("div",{className:"flex w-full flex-col",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Ve,{href:qe.show([s.course?.slug??"",s.id,i.id]),className:"text-sm font-medium text-gray-900 hover:underline",children:i.title}),t.jsx("div",{className:"mt-1 text-xs text-gray-500",children:i.description??""})]}),t.jsxs("div",{className:"text-right text-xs text-gray-500",children:[t.jsxs("div",{className:"font-medium text-gray-900",children:[i.estimated_hours??"-"," ","h"]}),t.jsx("div",{className:"mt-1",children:i.is_visible?t.jsx("span",{className:"inline-flex items-center rounded bg-green-50 px-2 py-1 text-xs font-medium text-green-700",children:"Visible"}):t.jsx("span",{className:"inline-flex items-center rounded bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700",children:"Masqué"})})]})]})})]},i.id)),e[82]=s.course.slug,e[83]=s.id,e[84]=l,e[85]=q):q=e[85];let z;e[86]!==q?(z=t.jsx("div",{className:"mt-4 divide-y",children:q}),e[86]=q,e[87]=z):z=e[87];let T;e[88]!==k||e[89]!==z?(T=t.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[k,z]}),e[88]=k,e[89]=z,e[90]=T):T=e[90];let oe;e[91]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(Ae,{}),e[91]=oe):oe=e[91];let H;e[92]!==s.syllabus?(H=s.syllabus&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-800",children:"Contenu du module"}),t.jsx(Be,{contentHtml:s.syllabus})]}),e[92]=s.syllabus,e[93]=H):H=e[93];let A;e[94]!==H?(A=t.jsx("div",{className:"my-5",children:H}),e[94]=H,e[95]=A):A=e[95];let E;e[96]!==M||e[97]!==T||e[98]!==A?(E=t.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[M,T,oe,A]}),e[96]=M,e[97]=T,e[98]=A,e[99]=E):E=e[99];let ne;e[100]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Statistiques"}),e[100]=ne):ne=e[100];let ce;e[101]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("dt",{className:"text-gray-500",children:"Total séquences"}),e[101]=ce):ce=e[101];let B;e[102]!==r?(B=t.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[ce,t.jsx("dd",{className:"font-medium text-gray-900",children:r})]}),e[102]=r,e[103]=B):B=e[103];let de;e[104]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("dt",{className:"text-gray-500",children:"Visibles"}),e[104]=de):de=e[104];let O;e[105]!==Ne?(O=t.jsxs("div",{className:"flex items-center justify-between",children:[de,t.jsx("dd",{className:"font-medium text-gray-900",children:Ne})]}),e[105]=Ne,e[106]=O):O=e[106];let xe;e[107]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("dt",{className:"text-gray-500",children:"Durée (h)"}),e[107]=xe):xe=e[107];const Le=s.estimated_hours??ke;let R;e[108]!==Le?(R=t.jsxs("div",{className:"flex items-center justify-between",children:[xe,t.jsx("dd",{className:"font-medium text-gray-900",children:Le})]}),e[108]=Le,e[109]=R):R=e[109];let fe;e[110]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("dt",{className:"text-gray-500",children:"Documents"}),e[110]=fe):fe=e[110];let G;e[111]!==ve?(G=t.jsxs("div",{className:"flex items-center justify-between",children:[fe,t.jsx("dd",{className:"font-medium text-gray-900",children:ve})]}),e[111]=ve,e[112]=G):G=e[112];let P;e[113]!==B||e[114]!==O||e[115]!==R||e[116]!==G?(P=t.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[ne,t.jsxs("dl",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-600",children:[B,O,R,G]})]}),e[113]=B,e[114]=O,e[115]=R,e[116]=G,e[117]=P):P=e[117];let ue;e[118]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Paramètres"}),e[118]=ue):ue=e[118];let pe;e[119]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("span",{className:"font-medium text-gray-800",children:"Visible:"}),e[119]=pe):pe=e[119];const De=s.is_visible?"Oui":"Non";let $;e[120]!==De?($=t.jsxs("li",{children:[pe," ",De]}),e[120]=De,e[121]=$):$=e[121];let he;e[122]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("span",{className:"font-medium text-gray-800",children:"Ordre:"}),e[122]=he):he=e[122];let U;e[123]!==s.order?(U=t.jsxs("li",{children:[he," ",s.order]}),e[123]=s.order,e[124]=U):U=e[124];let ge;e[125]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("span",{className:"font-medium text-gray-800",children:"Créée:"}),e[125]=ge):ge=e[125];let F;e[126]!==s.created_at?(F=new Date(s.created_at??"").toLocaleString(),e[126]=s.created_at,e[127]=F):F=e[127];let I;e[128]!==F?(I=t.jsxs("li",{children:[ge," ",F]}),e[128]=F,e[129]=I):I=e[129];let ye;e[130]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("span",{className:"font-medium text-gray-800",children:"Dernière modification:"}),e[130]=ye):ye=e[130];let J;e[131]!==s.updated_at?(J=new Date(s.updated_at??"").toLocaleString(),e[131]=s.updated_at,e[132]=J):J=e[132];let K;e[133]!==J?(K=t.jsxs("li",{children:[ye," ",J]}),e[133]=J,e[134]=K):K=e[134];let Q;e[135]!==$||e[136]!==U||e[137]!==I||e[138]!==K?(Q=t.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[ue,t.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-gray-600",children:[$,U,I,K]})]}),e[135]=$,e[136]=U,e[137]=I,e[138]=K,e[139]=Q):Q=e[139];let W;e[140]!==P||e[141]!==Q?(W=t.jsxs("aside",{className:"space-y-4",children:[P,Q]}),e[140]=P,e[141]=Q,e[142]=W):W=e[142];let X;e[143]!==E||e[144]!==W?(X=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[E,W]}),e[143]=E,e[144]=W,e[145]=X):X=e[145];let Y;e[146]!==S||e[147]!==X?(Y=t.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[S,X]}),e[146]=S,e[147]=X,e[148]=Y):Y=e[148];let je;return e[149]!==we||e[150]!==Y?(je=t.jsx(Ee,{title:we,children:Y}),e[149]=we,e[150]=Y,e[151]=je):je=e[151],je}function Je(e,s){return e+(s.estimated_hours??0)}function Ke(e){return["document","text","resource"].includes(e.sequence_type)}function Qe(e){return e.is_visible==1}export{ns as default};
