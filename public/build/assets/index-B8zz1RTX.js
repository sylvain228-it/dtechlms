import{c as y,u as _,R as k,j as e,L as d}from"./app-CjIWy3eH.js";import{a as L,A as S,b as A}from"./avatar-8Q0-AYNg.js";import{u as C}from"./use-initials-GDEZD6-s.js";import{s as h}from"./tasks-gWUZeaAY.js";import{d as u}from"./index-DMEIf3eg.js";import{S as z}from"./student-layouts-pAsDbnCY.js";import"./app-DfLmVDUM.js";import"./index-OYVf1Zwz.js";import"./index-BnYBuebb.js";import"./index-DnZUlvAx.js";import"./index-Cx1mEBwh.js";import"./utils-AnTb9DBe.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-BCA5NgA9.js";import"./nodes-B8QjlgCe.js";import"./page-banner-IgGXIOfs.js";import"./button-CExzQmZc.js";import"./index-C4soMqjN.js";import"./index-CHnKU68i.js";import"./iconBase-ZLoFHiO_.js";import"./arrow-left-DAnQtW-a.js";import"./createLucideIcon-i13MEz2U.js";import"./app-logo-icon-hvVxL52x.js";import"./divider-D-eLoZ7M.js";import"./profile-svg-Cv26bH6a.js";import"./user-profile-trigger-CmjyThd_.js";import"./avatar-fallback-DKyWtIhb.js";import"./dropdown-menu-DUsmAPKS.js";import"./index-aXAQScOB.js";import"./index-CgNbq55-.js";import"./index-CPWTBhsT.js";import"./index-DdCDBdhx.js";import"./index-DIo9abDA.js";import"./index-DLvqQGle.js";import"./check-C6ufmhQW.js";import"./logout-user-BBug3-28.js";import"./spinner-Bb2x751J.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-Bz_ayeBV.js";import"./index-5dwg6Nh6.js";import"./index-BCspIYgb.js";import"./index-V0aQkvK_.js";import"./index-DXT9ONqy.js";import"./index-lBAoiumE.js";import"./index-Di1vi8wQ.js";import"./gauge-au9SJ6qx.js";import"./book-D1z74oI7.js";import"./calendar-Bfdj--jJ.js";import"./message-circle-CqdwJGEq.js";import"./settings-P3TSVHSR.js";import"./x-CvJE1FTX.js";import"./menu-F5M2EXT6.js";function Re(){const t=y.c(13),{enrollments:j}=_().props,[a,v]=k.useState(""),f=[];j.forEach(r=>{f.push(r.course)});const g=f.filter(r=>r.title?.toLowerCase().includes(a.toLowerCase())||(r.description??"").toLowerCase().includes(a.toLowerCase())),b=C(),p=z,N="Mes cours",w="mx-auto mt-6 max-w-6xl px-4";let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes cours"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Accédez à vos cours, suivez votre progression et retrouvez vos enseignants."})]}),t[0]=o):o=t[0];let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=r=>v(r.target.value),t[1]=m):m=t[1];let s;t[2]!==a?(s=e.jsx("input",{type:"text",value:a,onChange:m,placeholder:"Rechercher un cours...",className:"w-72 rounded-md border border-gray-200 bg-white px-4 py-2 text-sm shadow-sm placeholder:text-gray-400"}),t[2]=a,t[3]=s):s=t[3];let n;t[4]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z"})})}),t[4]=n):n=t[4];let i;t[5]!==s?(i=e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between sm:flex-row",children:[o,e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"relative",children:[s,n]})})]}),t[5]=s,t[6]=i):i=t[6];const x=g.length===0?e.jsxs("div",{className:"rounded-lg border bg-white p-8 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aucun cours trouvé"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Vous n'êtes inscrit à aucun cours pour le moment. Explorez la plateforme pour trouver des cours intéressants."}),e.jsx("div",{className:"mt-4",children:e.jsx(d,{href:"/",className:"inline-flex items-center rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Explorer les cours"})})]}):e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:g.map(r=>e.jsxs("article",{className:"group rounded-lg border bg-white p-4 shadow-sm transition hover:shadow-md",children:[e.jsxs("div",{className:"relative h-40 overflow-hidden rounded-md",children:[e.jsx(d,{href:u(r.slug),children:e.jsx("img",{src:r.cover_url??"/assets/course-placeholder.png",alt:r.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"})}),r.is_free?e.jsx("div",{className:"absolute top-3 left-3 rounded-full bg-green-600 px-3 py-1 text-xs font-semibold text-white",children:"Gratuit"}):e.jsx("div",{className:"absolute top-3 left-3 rounded-full bg-yellow-600 px-3 py-1 text-xs font-semibold text-white",children:"Payant"})]}),e.jsxs("div",{className:"mt-3 flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(d,{href:u(r.slug),children:e.jsx("h3",{className:"text-md font-semibold text-gray-900",children:h(r.title??"",0,50)})}),e.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-gray-500",children:h(r.description??"",0,100)})]}),e.jsx("div",{className:"flex-shrink-0 text-right",children:e.jsx(d,{href:u(r.slug),className:"mt-3 inline-block rounded bg-blue-600 px-3 py-1 text-sm font-medium text-white hover:bg-blue-700",children:"Accéder"})})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex -space-x-2",children:r.teacher&&r.teacher.profile_picture_url&&e.jsx("img",{src:r.teacher.profile_picture_url??"/assets/avatar-placeholder.png",alt:`${r.teacher.first_name} ${r.teacher.last_name}`,className:"h-8 w-8 rounded-full shadow-xs ring-1 ring-white"},r.teacher.id)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Dernière mise à jour:"," ",new Date(r.updated_at??"").toLocaleDateString()]})]}),e.jsx("div",{className:"mt-1 border-t px-4 pt-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{className:"cursor-pointer overflow-hidden rounded-full",children:[r.profile_picture_url!=null&&e.jsx(S,{src:r.teacher?.profile_picture_url??"",alt:r.teacher?.first_name}),e.jsx(A,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:b(r.teacher?.first_name??r.teacher?.last_name??"")})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[h(r.teacher?.first_name??"",0,15)," "]})]})})]},r.id))});let l;t[7]!==i||t[8]!==x?(l=e.jsxs("div",{className:w,children:[i,x]}),t[7]=i,t[8]=x,t[9]=l):l=t[9];let c;return t[10]!==p||t[11]!==l?(c=e.jsx(p,{title:N,children:l}),t[10]=p,t[11]=l,t[12]=c):c=t[12],c}export{Re as default};
