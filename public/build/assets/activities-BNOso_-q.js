import{c as Oe,r as me,j as t,L as fe}from"./app-BOmU1wmL.js";import{S as ie}from"./form-Cdl3Pe45.js";import{B as E}from"./badge-BRg0hAT0.js";import{s as B}from"./tasks-WJQL2uDA.js";import{o as Ee,q as Be,t as De,u as Re,j as be,v as ye,a as je}from"./type-DDACwUq3.js";import{d as ve,f as Ne}from"./utils-e8IeQt0G.js";import{s as we}from"./index-CU8SWGOj.js";import{X as ze}from"./x-Cxqud0xV.js";import{C as ae}from"./calendar-B0CvDZ_G.js";import{C as de}from"./clock-ghieVZHB.js";import{A as _e}from"./arrow-right-CBOQb_Du.js";import{V as Ce,G as Ge,M as qe}from"./video-ivbZ5t5t.js";import{S as Se}from"./search-CS9TKoj2.js";import{C as Pe}from"./chevron-down-Cr3D6SAa.js";import{L as Ie}from"./list-DNO3BUta.js";import{M as Te}from"./map-pin-DZB8YUnN.js";import"./app-VvtKnDwK.js";import"./index-sq8JxwLA.js";import"./index-CtUadT9n.js";import"./index-CyaJm5Nq.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-CJI_HsZI.js";import"./nodes-CImg-T9u.js";import"./createLucideIcon-DUOuwx2-.js";function wt(i){const e=Oe.c(104),{activities:r}=i;let D;e[0]===Symbol.for("react.memo_cache_sentinel")?(D={search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""},e[0]=D):D=e[0];const[s,xe]=me.useState(D),[m,he]=me.useState("grid"),[c,Le]=me.useState(!1);let R;if(e[1]!==r||e[2]!==s.activityType||e[3]!==s.activity_status||e[4]!==s.modality||e[5]!==s.search||e[6]!==s.status||e[7]!==s.visibility){let l;e[9]!==s.activityType||e[10]!==s.activity_status||e[11]!==s.modality||e[12]!==s.search||e[13]!==s.status||e[14]!==s.visibility?(l=o=>{const ce=o.title.toLowerCase().includes(s.search.toLowerCase())||o.description?.toLowerCase().includes(s.search.toLowerCase()),ke=!s.activityType||o.activity_type===s.activityType,Ae=!s.status||o.status===s.status,Me=!s.activity_status||o.activity_status===s.activity_status,Ve=!s.visibility||o.visibility===s.visibility,$e=!s.modality||o.modality===s.modality;return ce&&ke&&Ae&&Me&&Ve&&$e},e[9]=s.activityType,e[10]=s.activity_status,e[11]=s.modality,e[12]=s.search,e[13]=s.status,e[14]=s.visibility,e[15]=l):l=e[15],R=r.filter(l),e[1]=r,e[2]=s.activityType,e[3]=s.activity_status,e[4]=s.modality,e[5]=s.search,e[6]=s.status,e[7]=s.visibility,e[8]=R}else R=e[8];const a=R;let z;e[16]===Symbol.for("react.memo_cache_sentinel")?(z=(l,o)=>{xe(ce=>({...ce,[l]:o}))},e[16]=z):z=e[16];const O=z;let G;e[17]===Symbol.for("react.memo_cache_sentinel")?(G=()=>{xe({search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""})},e[17]=G):G=e[17];const Fe=G,n=Object.values(s).some(We),ue=Ue,pe=Qe,ge=Ke;let q;e[18]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("div",{className:"mb-8 flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendrier des activités"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Gérez et organisez vos activités pédagogiques"})]})}),e[18]=q):q=e[18];let P;e[19]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),e[19]=P):P=e[19];let d;e[20]!==r.length?(d=t.jsxs("div",{children:[P,t.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:r.length})]}),e[20]=r.length,e[21]=d):d=e[21];let I;e[22]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ae,{className:"h-10 w-10 text-blue-100"}),e[22]=I):I=e[22];let x;e[23]!==d?(x=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[d,I]})}),e[23]=d,e[24]=x):x=e[24];let X;e[25]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À venir"}),e[25]=X):X=e[25];let h;e[26]!==r?(h=r.filter(Je),e[26]=r,e[27]=h):h=e[27];let u;e[28]!==h.length?(u=t.jsxs("div",{children:[X,t.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-600",children:h.length})]}),e[28]=h.length,e[29]=u):u=e[29];let H;e[30]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(de,{className:"h-10 w-10 text-blue-100"}),e[30]=H):H=e[30];let p;e[31]!==u?(p=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[u,H]})}),e[31]=u,e[32]=p):p=e[32];let J;e[33]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En cours"}),e[33]=J):J=e[33];let g;e[34]!==r?(g=r.filter(He),e[34]=r,e[35]=g):g=e[35];let f;e[36]!==g.length?(f=t.jsxs("div",{children:[J,t.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:g.length})]}),e[36]=g.length,e[37]=f):f=e[37];let K;e[38]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Ce,{className:"h-10 w-10 text-green-100"}),e[38]=K):K=e[38];let b;e[39]!==f?(b=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[f,K]})}),e[39]=f,e[40]=b):b=e[40];let Q;e[41]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Filtrés"}),e[41]=Q):Q=e[41];let y;e[42]!==a.length?(y=t.jsxs("div",{children:[Q,t.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-600",children:a.length})]}),e[42]=a.length,e[43]=y):y=e[43];let U;e[44]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(Se,{className:"h-10 w-10 text-purple-100"}),e[44]=U):U=e[44];let j;e[45]!==y?(j=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[y,U]})}),e[45]=y,e[46]=j):j=e[46];let v;e[47]!==p||e[48]!==b||e[49]!==j||e[50]!==x?(v=t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-4",children:[x,p,b,j]}),e[47]=p,e[48]=b,e[49]=j,e[50]=x,e[51]=v):v=e[51];let W;e[52]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Se,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e[52]=W):W=e[52];let Y;e[53]===Symbol.for("react.memo_cache_sentinel")?(Y=l=>O("search",l.target.value),e[53]=Y):Y=e[53];let N;e[54]!==s.search?(N=t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[W,t.jsx("input",{type:"text",placeholder:"Rechercher un événement...",value:s.search,onChange:Y,className:"w-full rounded-lg border border-gray-300 bg-gray-50 py-3 pr-4 pl-10 transition-all focus:border-blue-500 focus:bg-white focus:ring-2 focus:ring-blue-200 focus:outline-none"})]})}),e[54]=s.search,e[55]=N):N=e[55];let w;e[56]!==c?(w=()=>Le(!c),e[56]=c,e[57]=w):w=e[57];const re=`h-4 w-4 transition-transform ${c?"rotate-180":""}`;let _;e[58]!==re?(_=t.jsx(Pe,{className:re}),e[58]=re,e[59]=_):_=e[59];let S;e[60]!==s||e[61]!==n?(S=n&&t.jsx("span",{className:"ml-2 inline-block rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:Object.values(s).filter(Xe).length}),e[60]=s,e[61]=n,e[62]=S):S=e[62];let T;e[63]!==w||e[64]!==_||e[65]!==S?(T=t.jsxs("button",{onClick:w,className:"flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50",children:[_,"Filtres avancés",S]}),e[63]=w,e[64]=_,e[65]=S,e[66]=T):T=e[66];let Z;e[67]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>he("grid"),e[67]=Z):Z=e[67];const ne=`rounded-md px-3 py-2 transition-all ${m==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`;let ee;e[68]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Ge,{className:"h-5 w-5"}),e[68]=ee):ee=e[68];let C;e[69]!==ne?(C=t.jsx("button",{onClick:Z,className:ne,title:"Vue grille",children:ee}),e[69]=ne,e[70]=C):C=e[70];let te;e[71]===Symbol.for("react.memo_cache_sentinel")?(te=()=>he("list"),e[71]=te):te=e[71];const oe=`rounded-md px-3 py-2 transition-all ${m==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`;let se;e[72]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Ie,{className:"h-5 w-5"}),e[72]=se):se=e[72];let L;e[73]!==oe?(L=t.jsx("button",{onClick:te,className:oe,title:"Vue liste",children:se}),e[73]=oe,e[74]=L):L=e[74];let F;e[75]!==C||e[76]!==L?(F=t.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-gray-300 p-1",children:[C,L]}),e[75]=C,e[76]=L,e[77]=F):F=e[77];let k;e[78]!==T||e[79]!==F?(k=t.jsxs("div",{className:"mb-4 flex flex-col items-start justify-between gap-3 sm:flex-row sm:items-center",children:[T,F]}),e[78]=T,e[79]=F,e[80]=k):k=e[80];let A;e[81]!==c||e[82]!==s.activityType||e[83]!==s.activity_status||e[84]!==s.modality||e[85]!==s.visibility||e[86]!==n?(A=c&&t.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(ie,{label:"Type d'activité",value:s.activityType,emptyOption:"Tous les types",options:Ee,onChange:l=>O("activityType",l)}),t.jsx(ie,{label:"Statut de l'activité",value:s.activity_status,emptyOption:"Tous les statuts d'activité",options:Be,onChange:l=>O("activity_status",l)}),t.jsx(ie,{label:"Visibilité",value:s.visibility,emptyOption:"Toutes les visibilités",options:De,onChange:l=>O("visibility",l)}),t.jsx(ie,{label:"Type de lieu",value:s.modality,emptyOption:"Tous les lieux",options:Re,onChange:l=>O("modality",l)})]}),n&&t.jsxs("button",{onClick:Fe,className:"flex items-center gap-2 rounded-lg border border-red-300 px-4 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50",children:[t.jsx(ze,{className:"h-4 w-4"}),"Réinitialiser les filtres"]})]}),e[81]=c,e[82]=s.activityType,e[83]=s.activity_status,e[84]=s.modality,e[85]=s.visibility,e[86]=n,e[87]=A):A=e[87];let M;e[88]!==N||e[89]!==k||e[90]!==A?(M=t.jsxs("div",{className:"mb-8 rounded-xl bg-white p-6 shadow-md",children:[N,k,A]}),e[88]=N,e[89]=k,e[90]=A,e[91]=M):M=e[91];let V;e[92]!==a||e[93]!==n||e[94]!==m?(V=a.length===0?t.jsxs("div",{className:"rounded-xl bg-white p-12 text-center shadow-md",children:[t.jsx(ae,{className:"mx-auto mb-4 h-16 w-16 text-gray-300"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Aucun événement trouvé"}),t.jsx("p",{className:"mt-2 text-gray-600",children:n?"Essayez de modifier vos critères de filtrage":"Créez votre premier événement pour commencer"})]}):t.jsxs(t.Fragment,{children:[m==="grid"&&t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(l=>t.jsxs("div",{className:"group overflow-hidden rounded-xl bg-white shadow-md transition-all duration-300 hover:shadow-lg",children:[t.jsx("div",{className:"h-1",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"mb-3 line-clamp-2 text-lg font-semibold text-gray-900 transition-colors group-hover:text-blue-600",children:l.title}),l.description&&t.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-gray-600",children:l.description}),t.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[t.jsx(E,{className:`text-xs font-semibold ${pe(l.activity_type)}`,children:B(be(l.activity_type),0,35)}),t.jsx(E,{className:`text-xs font-semibold ${ue(l.status)}`,children:B(ye(l.activity_status),0,35)})]}),t.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx(ae,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:ve(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx(de,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{children:["Durée:"," ",Ne(l.duration_minutes)]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx("span",{children:ge(l)}),t.jsx(E,{children:B(je(l.modality),0,30)})]})]}),t.jsx("div",{className:"flex gap-2 pt-4",children:t.jsxs(fe,{href:l.parent_course?we([l.parent_course?.slug,l.slug]):"#",className:"flex items-center gap-2 font-medium text-blue-600 transition-colors hover:text-blue-800",children:[t.jsx(_e,{className:"h-4 w-4"}),"Détails"]})})]})]},l.id))}),m==="list"&&t.jsx("div",{className:"space-y-3 overflow-hidden rounded-xl bg-white shadow-md",children:a.map(l=>t.jsxs("div",{className:"group flex flex-col items-start justify-between gap-4 border-b border-gray-200 p-2 transition-colors last:border-b-0 hover:bg-gray-50 sm:flex-row sm:items-center sm:p-4",children:[t.jsxs("div",{className:"flex flex-1 items-start gap-4 sm:items-center",children:[t.jsx("div",{className:"h-12 w-1 rounded-full",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex flex-1 flex-col items-start gap-3 sm:flex-row sm:items-center",children:[t.jsx("h3",{className:"line-clamp-2 text-base font-semibold text-gray-900 transition-colors group-hover:text-blue-600",children:l.title}),t.jsx(E,{className:`text-xs font-semibold whitespace-nowrap ${pe(l.activity_type)}`,children:B(be(l.activity_type),0,35)}),t.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-xs font-semibold whitespace-nowrap ${ue(l.status)}`,children:ye(l.activity_status)})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:ve(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(de,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:Ne(l.duration_minutes)})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:ge(l)}),t.jsx(E,{children:B(je(l.modality),0,30)})]})]})]})]}),t.jsx("div",{className:"ml-4 flex gap-2",children:t.jsxs(fe,{href:l.parent_course?we([l.parent_course?.slug,l.slug]):"#",className:"flex items-center gap-2 font-medium text-blue-600 transition-colors hover:text-blue-800",children:[t.jsx(_e,{className:"h-4 w-4"}),"Détails"]})})]},l.id))})]}),e[92]=a,e[93]=n,e[94]=m,e[95]=V):V=e[95];let $;e[96]!==a.length||e[97]!==n?($=a.length>0&&t.jsx("div",{className:"mt-8 rounded-lg border border-blue-200 bg-blue-50 p-4 text-center",children:t.jsxs("p",{className:"text-sm text-blue-800",children:["Affichage de"," ",t.jsx("span",{className:"font-semibold",children:a.length})," ","activité",a.length>1?"s":""," ",n&&"correspondant aux critères"]})}),e[96]=a.length,e[97]=n,e[98]=$):$=e[98];let le;return e[99]!==v||e[100]!==M||e[101]!==V||e[102]!==$?(le=t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[q,v,M,V,$]})}),e[99]=v,e[100]=M,e[101]=V,e[102]=$,e[103]=le):le=e[103],le}function Xe(i){return i!==""}function He(i){return i.activity_status==="live"}function Je(i){return i.status==="scheduled"}function Ke(i){return i.is_synchronous?i.modality==="onsite"?t.jsx(Te,{className:"h-4 w-4 text-orange-500"}):i.modality==="online"?t.jsx(Ce,{className:"h-4 w-4 text-blue-500"}):t.jsx(Te,{className:"h-4 w-4 text-purple-500"}):t.jsx(qe,{className:"h-4 w-4 text-gray-500"})}function Qe(i){switch(i){case"formative":return"text-blue-600 bg-blue-50";case"summative":return"text-purple-600 bg-purple-50";case"certifying":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}}function Ue(i){switch(i){case"upcoming":return"bg-blue-100 text-blue-800 border-blue-300";case"ongoing":return"bg-green-100 text-green-800 border-green-300";case"completed":return"bg-gray-100 text-gray-800 border-gray-300";case"canceled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800"}}function We(i){return i!==""}export{wt as default};
