import{h as F,r as d,j as p,c as y}from"./app-DeYJtq_f.js";import{c as M,P as L,u as A}from"./index-CPAp0ZwD.js";import{u as P}from"./index-Vxp116jM.js";import{c as w}from"./utils-e8IeQt0G.js";var E={exports:{}},h={};var b;function z(){if(b)return h;b=1;var a=F();function e(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=a.useState,s=a.useEffect,t=a.useLayoutEffect,f=a.useDebugValue;function i(o,u){var m=u(),g=r({inst:{value:m,getSnapshot:u}}),l=g[0].inst,x=g[1];return t(function(){l.value=m,l.getSnapshot=u,c(l)&&x({inst:l})},[o,m,u]),s(function(){return c(l)&&x({inst:l}),o(function(){c(l)&&x({inst:l})})},[o]),f(m),m}function c(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!n(o,m)}catch{return!0}}function v(o,u){return u()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:i;return h.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:S,h}var I;function T(){return I||(I=1,E.exports=z()),E.exports}var U=T();function V(){return U.useSyncExternalStore(D,()=>!0,()=>!1)}function D(){return()=>{}}var R="Avatar",[G,Z]=M(R),[H,_]=G(R),N=d.forwardRef((a,e)=>{const{__scopeAvatar:n,...r}=a,[s,t]=d.useState("idle");return p.jsx(H,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:t,children:p.jsx(L.span,{...r,ref:e})})});N.displayName=R;var C="AvatarImage",k=d.forwardRef((a,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...t}=a,f=_(C,n),i=B(r,t),c=P(v=>{s(v),f.onImageLoadingStatusChange(v)});return A(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?p.jsx(L.img,{...t,ref:e,src:r}):null});k.displayName=C;var $="AvatarFallback",q=d.forwardRef((a,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=a,t=_($,n),[f,i]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(c)}},[r]),f&&t.imageLoadingStatus!=="loaded"?p.jsx(L.span,{...s,ref:e}):null});q.displayName=$;function j(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B(a,{referrerPolicy:e,crossOrigin:n}){const r=V(),s=d.useRef(null),t=r?(s.current||(s.current=new window.Image),s.current):null,[f,i]=d.useState(()=>j(t,a));return A(()=>{i(j(t,a))},[t,a]),A(()=>{const c=o=>()=>{i(o)};if(!t)return;const v=c("loaded"),S=c("error");return t.addEventListener("load",v),t.addEventListener("error",S),e&&(t.referrerPolicy=e),typeof n=="string"&&(t.crossOrigin=n),()=>{t.removeEventListener("load",v),t.removeEventListener("error",S)}},[t,n,e]),f}var K=N,O=k,W=q;function ee(a){const e=y.c(8);let n,r;e[0]!==a?({className:n,...r}=a,e[0]=a,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=w("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),e[3]=n,e[4]=s):s=e[4];let t;return e[5]!==r||e[6]!==s?(t=p.jsx(K,{"data-slot":"avatar",className:s,...r}),e[5]=r,e[6]=s,e[7]=t):t=e[7],t}function te(a){const e=y.c(8);let n,r;e[0]!==a?({className:n,...r}=a,e[0]=a,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=w("aspect-square size-full",n),e[3]=n,e[4]=s):s=e[4];let t;return e[5]!==r||e[6]!==s?(t=p.jsx(O,{"data-slot":"avatar-image",className:s,...r}),e[5]=r,e[6]=s,e[7]=t):t=e[7],t}function ae(a){const e=y.c(8);let n,r;e[0]!==a?({className:n,...r}=a,e[0]=a,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=w("bg-muted flex size-full items-center justify-center rounded-full",n),e[3]=n,e[4]=s):s=e[4];let t;return e[5]!==r||e[6]!==s?(t=p.jsx(W,{"data-slot":"avatar-fallback",className:s,...r}),e[5]=r,e[6]=s,e[7]=t):t=e[7],t}export{ee as A,te as a,ae as b};
