import{c as M,u as R,R as L,j as t,L as C}from"./app-BzXwBPBx.js";import{B as S}from"./badge-fo3-CsRB.js";import{B as w}from"./button-DpCkL2lj.js";import{I as P}from"./input-Dbi88rSi.js";import{T as A}from"./student-layouts-t6pggq_i.js";import{s as T}from"./tasks-BTAmnlgm.js";import{z as B}from"./type-DhUEUhhk.js";import{b as E,f as Q}from"./utils-e8IeQt0G.js";import{s as D,d as I}from"./index-B_X-8rh8.js";import{A as F}from"./arrow-left-AHTPeAno.js";import{A as H}from"./arrow-right-Cxn6oFcZ.js";import{c as O}from"./createLucideIcon-BboBuA9R.js";import{C as W}from"./clock-BtWjw7tR.js";import{P as $}from"./play-DmHBhlTN.js";import{E as G}from"./eye-BYN-RAfN.js";import"./app-BlAWqAGg.js";import"./index-D1DaFm8C.js";import"./index-CmvPZPYG.js";import"./index-CyaJm5Nq.js";import"./page-banner-CF78MDYO.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-DF2umSuw.js";import"./iconBase-BH9TG5R0.js";import"./app-logo-icon-C2LaG9_Q.js";import"./divider-B09NDvil.js";import"./profile-svg-DwoHoZ6q.js";import"./user-profile-trigger-Dk_TTr5J.js";import"./sun-D7S3RfEj.js";import"./avatar-BR3sBMG9.js";import"./index-BWbkfBfC.js";import"./index-BZwf-zK1.js";import"./index-B2cDW95s.js";import"./avatar-fallback-D5NPW7a4.js";import"./use-initials-GDEZD6-s.js";import"./dropdown-menu-DlZS67It.js";import"./index-VdYImSg5.js";import"./index-CJlYDfk2.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BucdvD4Q.js";import"./index-BRTuzqyl.js";import"./check-BHZKRPmL.js";import"./logout-user-Ce_sIJue.js";import"./spinner-CIZwnsdn.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-BkvcRscv.js";import"./index-Vl0f8Y-f.js";import"./index-DMEIf3eg.js";import"./index-BemDBUNW.js";import"./index-CQybyuYf.js";import"./nav-items-Ccw_83S7.js";import"./index-BGGtLgwn.js";import"./settings-NUZ-cO65.js";import"./gauge-Cjf8cet3.js";import"./book-Br9QRIqO.js";import"./calendar-BjFjFj4e.js";import"./book-open-DAOtQgtK.js";import"./x-BWOBLZ9u.js";import"./menu-CWhsNS-k.js";import"./lexical-headless-DaF8M3S2.js";import"./nodes-CSrlFqt9.js";const J=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],K=O("Repeat",J);function mt(){const e=M.c(28),{quizzes:y}=R().props,[s,_]=L.useState(""),[r,x]=L.useState(1);let a,m,i,l,o;if(e[0]!==r||e[1]!==s||e[2]!==y){let f;e[8]!==s?(f=p=>(p.title??"").toLowerCase().includes(s.toLowerCase())||(p.description??"").toLowerCase().includes(s.toLowerCase()),e[8]=s,e[9]=f):f=e[9];const k=(y??[]).filter(f),N=k.length,b=Math.max(1,Math.ceil(N/9)),z=k.slice((r-1)*9,r*9);a=A,o="Quizzes",m="mx-auto mt-6 max-w-6xl px-4 pb-6";let u;e[10]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des quizzes"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Passez vos évaluations et suivez vos scores."})]}),e[10]=u):u=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=p=>{_(p.target.value),x(1)},e[11]=g):g=e[11];let c;e[12]!==s?(c=t.jsx(P,{placeholder:"Rechercher un quiz...",value:s,onChange:g,className:"w-72"}),e[12]=s,e[13]=c):c=e[13];let j;e[14]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400",children:t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z"})})}),e[14]=j):j=e[14];let d;e[15]!==c?(d=t.jsxs("div",{className:"relative",children:[c,j]}),e[15]=c,e[16]=d):d=e[16];let v;e[17]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("div",{className:"hidden sm:block",children:t.jsx(w,{variant:"outline",size:"sm",onClick:()=>{_(""),x(1)},children:"Réinitialiser"})}),e[17]=v):v=e[17],e[18]!==d?(i=t.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between gap-4 sm:flex-row",children:[u,t.jsxs("div",{className:"flex items-center gap-3",children:[d,v]})]}),e[18]=d,e[19]=i):i=e[19],l=N===0?t.jsxs("div",{className:"rounded-lg border bg-white p-8 text-center",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aucun quiz trouvé"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Aucun quiz ne correspond à votre recherche pour le moment."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:z.map(V)}),t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[N," quiz(s)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(w,{size:"sm",variant:"outline",disabled:r<=1,onClick:()=>x(U),children:[t.jsx("span",{className:"hidden sm:block",children:"Précédent"}),t.jsx(F,{className:"text-2xl sm:hidden"})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",r," sur ",b]}),t.jsxs(w,{size:"sm",variant:"outline",disabled:r>=b,onClick:()=>x(p=>Math.min(b,p+1)),children:[t.jsx("span",{className:"hidden sm:block",children:"Suivant"}),t.jsx(H,{className:"text-2xl sm:hidden"})]})]})]})]}),e[0]=r,e[1]=s,e[2]=y,e[3]=a,e[4]=m,e[5]=i,e[6]=l,e[7]=o}else a=e[3],m=e[4],i=e[5],l=e[6],o=e[7];let n;e[20]!==m||e[21]!==i||e[22]!==l?(n=t.jsxs("div",{className:m,children:[i,l]}),e[20]=m,e[21]=i,e[22]=l,e[23]=n):n=e[23];let h;return e[24]!==a||e[25]!==o||e[26]!==n?(h=t.jsx(a,{title:o,children:n}),e[24]=a,e[25]=o,e[26]=n,e[27]=h):h=e[27],h}function U(e){return Math.max(1,e-1)}function V(e){return t.jsxs("article",{className:"group max-w-xs rounded-lg border bg-white p-4 shadow-sm transition hover:shadow-md",children:[t.jsxs("div",{className:"flex flex-col items-start justify-between gap-3",children:[t.jsx("h3",{className:"text-md line-clamp-2 font-semibold text-gray-900",children:e.title??""}),t.jsx("p",{className:"mt-1 line-clamp-3 text-sm text-gray-500",children:e.description??""}),t.jsx(S,{className:"my-2",children:T(B(e.quiz_type),0,35)}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"inline-flex items-center gap-1 rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700",children:[t.jsx(K,{className:"h-3 w-3"}),"Tentatives:"," ",e.max_attempts]})}),e.is_mandatory&&t.jsx("span",{className:"inline-flex items-center rounded-full bg-red-100 px-3 py-1 text-xs font-semibold text-red-700",children:"Obligatoire"})]})]}),e.activity&&t.jsxs("div",{className:"my-3 flex flex-wrap items-center gap-4",children:[e.activity?.start_at&&t.jsxs("div",{className:"text-sm",children:["Début:"," ",E(e.activity?.start_at??"")]}),e.time_limit_minutes&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[t.jsx(W,{className:"h-4 w-4"}),t.jsx("span",{children:Q(e.time_limit_minutes)})]})]}),t.jsx("div",{className:"flex-shrink-0 text-right",children:t.jsxs("div",{className:"mt-3 flex items-end gap-2",children:[t.jsxs(C,{href:D(e.slug),className:"inline-flex items-center rounded bg-blue-600 px-3 py-1 text-sm font-medium text-white hover:bg-blue-700",children:[t.jsx($,{className:"mr-2 h-4 w-4"}),"Commencer"]}),t.jsxs(C,{href:I(e.slug),className:"inline-flex items-center rounded border bg-white px-3 py-1 text-sm font-medium text-gray-700 hover:bg-gray-50",children:[t.jsx(G,{className:"mr-2 h-4 w-4"}),"Détails"]})]})})]},e.id)}export{mt as default};
