import{c as fe,u as xe,R as he,b as be,j as t,a as ie}from"./app-BzXwBPBx.js";import{I as le,S as ge,T as se,C as je}from"./form-B-fdkg48.js";import{B as ae}from"./button-DpCkL2lj.js";import{D as _e,a as qe,c as ye,b as ve,d as ne,e as ke,g as Ce,f as De}from"./dialog-BPFiSOET.js";import{S as Se}from"./spinner-CIZwnsdn.js";import{N as Fe}from"./type-DhUEUhhk.js";import{u as Ne,s as ze}from"./index-Bwrcs2qz.js";import{I as Te}from"./index-CoBc6tAl.js";import{S as we}from"./square-pen-Ctqm5fCP.js";import"./app-BlAWqAGg.js";import"./index-D1DaFm8C.js";import"./index-CmvPZPYG.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-ti3WiRrV.js";import"./index-BWbkfBfC.js";import"./index-BZwf-zK1.js";import"./index-BRTuzqyl.js";import"./index-B2cDW95s.js";import"./x-BWOBLZ9u.js";import"./createLucideIcon-BboBuA9R.js";import"./index-CMWG4mbA.js";import"./iconBase-BH9TG5R0.js";function st(ce){const e=fe.c(91),{question:l,quizId:a,title:M,className:de,iconSize:I,triggerTexte:re}=ce,ue=re===void 0?!0:re,{errors:i}=xe().props,[E,oe]=he.useState(!1),n=!!l,O=l?.question_text??"",B=l?.question_type??"",H=l?.points??"",L=l?.order??"",V=l?.is_mandatory??!0,$=l?.feedback_correct??"",G=l?.feedback_incorrect??"";let P;e[0]!==a||e[1]!==O||e[2]!==B||e[3]!==H||e[4]!==L||e[5]!==V||e[6]!==$||e[7]!==G?(P={quiz_id:a,question_text:O,question_type:B,points:H,order:L,is_mandatory:V,feedback_correct:$,feedback_incorrect:G},e[0]=a,e[1]=O,e[2]=B,e[3]=H,e[4]=L,e[5]=V,e[6]=$,e[7]=G,e[8]=P):P=e[8];const{data:s,setData:r,reset:J}=be(P);let c;if(e[9]!==s||e[10]!==n||e[11]!==l||e[12]!==a||e[13]!==J){c=pe=>{pe.preventDefault(),oe(!0),n?ie.put(Ne([a,l.id]),s,{onFinish:o}):ie.post(ze(a),s,{onFinish:o})};const o=()=>{J(),oe(!1)};e[9]=s,e[10]=n,e[11]=l,e[12]=a,e[13]=J,e[14]=c}else c=e[14];const me=s.quiz_id!=0&&s.question_type!=""&&s.question_text!=""&&s.order!=""&&s.order!=0&&s.points!="",K=de??"btn-primary flex w-full items-center justify-center gap-4",U=ue?n?"Modifier":"Ajouter":"";let d;e[15]!==U?(d=t.jsx("b",{children:U}),e[15]=U,e[16]=d):d=e[16];let u;e[17]!==I||e[18]!==n?(u=n?t.jsx(we,{size:I??30}):t.jsx(Te,{size:I??30}),e[17]=I,e[18]=n,e[19]=u):u=e[19];let m;e[20]!==K||e[21]!==d||e[22]!==u?(m=t.jsx(_e,{asChild:!0,children:t.jsxs("button",{className:K,children:[d,u]})}),e[20]=K,e[21]=d,e[22]=u,e[23]=m):m=e[23];let A;e[24]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(qe,{children:"Ajouter une question"}),e[24]=A):A=e[24];let p;e[25]!==M?(p=t.jsxs(ye,{children:[A,t.jsxs(ve,{children:["Ajouter une question pour quize : ",t.jsx("b",{children:M})]})]}),e[25]=M,e[26]=p):p=e[26];const W=s.question_text??"";let f;e[27]!==r?(f=o=>r("question_text",o),e[27]=r,e[28]=f):f=e[28];const X=i.question_text;let x;e[29]!==W||e[30]!==f||e[31]!==X?(x=t.jsx("div",{className:"sm:col-span-2",children:t.jsx(se,{label:"Texte de la question",placeholder:"Entrez la question",value:W,onChange:f,error:X,required:!0})}),e[29]=W,e[30]=f,e[31]=X,e[32]=x):x=e[32];let h;e[33]!==r?(h=o=>r("order",o),e[33]=r,e[34]=h):h=e[34];let b;e[35]!==s.order||e[36]!==i.order||e[37]!==h?(b=t.jsx(le,{label:"Ordre d'apparition",type:"number",value:s.order,onChange:h,error:i.order,placeholder:"ex: 1, 2, 3...",required:!0}),e[35]=s.order,e[36]=i.order,e[37]=h,e[38]=b):b=e[38];let g;e[39]!==r?(g=o=>r("question_type",o),e[39]=r,e[40]=g):g=e[40];let j;e[41]!==s.question_type||e[42]!==g?(j=t.jsx("div",{className:"sm:col-span-2",children:t.jsx(ge,{options:Fe,value:s.question_type,label:"Type de question",onChange:g,required:!0})}),e[41]=s.question_type,e[42]=g,e[43]=j):j=e[43];let _;e[44]!==r?(_=o=>r("points",o),e[44]=r,e[45]=_):_=e[45];let q;e[46]!==s.points||e[47]!==i.points||e[48]!==_?(q=t.jsx(le,{label:"Points attribués",type:"number",value:s.points,onChange:_,error:i.points,placeholder:"ex: 10",required:!0}),e[46]=s.points,e[47]=i.points,e[48]=_,e[49]=q):q=e[49];const Y=!!s.is_mandatory;let y;e[50]!==r?(y=o=>r("is_mandatory",o),e[50]=r,e[51]=y):y=e[51];let v;e[52]!==Y||e[53]!==y?(v=t.jsx(je,{label:"Question obligatoire",checked:Y,onChange:y}),e[52]=Y,e[53]=y,e[54]=v):v=e[54];const Z=s.feedback_correct??"";let k;e[55]!==r?(k=o=>r("feedback_correct",o),e[55]=r,e[56]=k):k=e[56];let C;e[57]!==i.feedback_correct||e[58]!==Z||e[59]!==k?(C=t.jsx("div",{className:"sm:col-span-2",children:t.jsx(se,{label:"Commentaire pour réponse correcte",value:Z,onChange:k,rows:4,placeholder:"Message affiché en cas de bonne réponse",error:i.feedback_correct})}),e[57]=i.feedback_correct,e[58]=Z,e[59]=k,e[60]=C):C=e[60];const ee=s.feedback_incorrect??"";let D;e[61]!==r?(D=o=>r("feedback_incorrect",o),e[61]=r,e[62]=D):D=e[62];let S;e[63]!==i.feedback_incorrect||e[64]!==ee||e[65]!==D?(S=t.jsx("div",{className:"sm:col-span-2",children:t.jsx(se,{label:"Commentaire pour mauvaise réponse",value:ee,onChange:D,rows:4,placeholder:"Message affiché en cas de mauvaise réponse",error:i.feedback_incorrect})}),e[63]=i.feedback_incorrect,e[64]=ee,e[65]=D,e[66]=S):S=e[66];let F;e[67]!==x||e[68]!==b||e[69]!==j||e[70]!==q||e[71]!==v||e[72]!==C||e[73]!==S?(F=t.jsx("div",{className:"mb-4 grid w-full gap-4",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[x,b,j,q,v,C,S]})}),e[67]=x,e[68]=b,e[69]=j,e[70]=q,e[71]=v,e[72]=C,e[73]=S,e[74]=F):F=e[74];let Q;e[75]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(ne,{asChild:!0,children:t.jsx(ae,{variant:"outline",children:"Fermer"})}),e[75]=Q):Q=e[75];const te=!me||E;let N;e[76]!==E?(N=E&&t.jsx(Se,{}),e[76]=E,e[77]=N):N=e[77];let z;e[78]!==te||e[79]!==N?(z=t.jsxs(ke,{className:"mt-4",children:[Q,t.jsx(ne,{asChild:!0,children:t.jsxs(ae,{type:"submit",className:"btn-primary w-full",tabIndex:4,disabled:te,"data-test":"create-category-button",children:[N,"Enregistrer"]})})]}),e[78]=te,e[79]=N,e[80]=z):z=e[80];let T;e[81]!==c||e[82]!==F||e[83]!==z?(T=t.jsxs("form",{method:"POST",onSubmit:c,children:[F,z]}),e[81]=c,e[82]=F,e[83]=z,e[84]=T):T=e[84];let w;e[85]!==p||e[86]!==T?(w=t.jsxs(Ce,{className:"max-h-[90vh] w-4xl overflow-y-auto",children:[p,T]}),e[85]=p,e[86]=T,e[87]=w):w=e[87];let R;return e[88]!==m||e[89]!==w?(R=t.jsxs(De,{children:[m,w]}),e[88]=m,e[89]=w,e[90]=R):R=e[90],R}export{st as default};
