import{c as qe,r as he,j as t,L as we}from"./app-klcUL3EL.js";import{S as ae}from"./form-CvObqJ4P.js";import{B as ie}from"./badge-KCBe1nWM.js";import{s as pe}from"./tasks-akZpNf8L.js";import{o as Ge,q as Pe,t as Ie,u as Xe,j as _e,v as Se,a as ke}from"./type-BKOnXlFr.js";import{d as Te,f as Ce}from"./utils-e8IeQt0G.js";import{d as Le}from"./index-B5Wz6g3U.js";import{X as He}from"./x-DGooslga.js";import{C as re}from"./calendar-CUp6x8Fo.js";import{C as ge}from"./clock-DGS7h6un.js";import{A as Ae}from"./arrow-right-BYBwp2mR.js";import{V as Ve,G as Je,M as Ke}from"./video-ok5m8WZA.js";import{S as Fe}from"./search-lzJ3zhHt.js";import{C as Qe}from"./chevron-down-BwnMHMwc.js";import{L as Ue}from"./list-BtZo7ljf.js";import{M as Me}from"./map-pin-C7s6ZdOG.js";import"./app-Ci7uHgFL.js";import"./index-A7wesXx6.js";import"./index-Ds5qzORP.js";import"./index-CyaJm5Nq.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-BoxOyP-N.js";import"./nodes-CfCS7w2W.js";import"./createLucideIcon-DknjQr1d.js";function Lt(a){const e=qe.c(111),{activities:r,isAssessment:ue}=a,fe=ue===void 0?!1:ue;let R;e[0]===Symbol.for("react.memo_cache_sentinel")?(R={search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""},e[0]=R):R=e[0];const[s,be]=he.useState(R),[d,ye]=he.useState("grid"),[c,$e]=he.useState(!1);let z;if(e[1]!==r||e[2]!==s.activityType||e[3]!==s.activity_status||e[4]!==s.modality||e[5]!==s.search||e[6]!==s.status||e[7]!==s.visibility){let l;e[9]!==s.activityType||e[10]!==s.activity_status||e[11]!==s.modality||e[12]!==s.search||e[13]!==s.status||e[14]!==s.visibility?(l=o=>{const xe=o.title.toLowerCase().includes(s.search.toLowerCase())||o.description?.toLowerCase().includes(s.search.toLowerCase()),Ee=!s.activityType||o.activity_type===s.activityType,Be=!s.status||o.status===s.status,De=!s.activity_status||o.activity_status===s.activity_status,Re=!s.visibility||o.visibility===s.visibility,ze=!s.modality||o.modality===s.modality;return xe&&Ee&&Be&&De&&Re&&ze},e[9]=s.activityType,e[10]=s.activity_status,e[11]=s.modality,e[12]=s.search,e[13]=s.status,e[14]=s.visibility,e[15]=l):l=e[15],z=r.filter(l),e[1]=r,e[2]=s.activityType,e[3]=s.activity_status,e[4]=s.modality,e[5]=s.search,e[6]=s.status,e[7]=s.visibility,e[8]=z}else z=e[8];const i=z;let q;e[16]===Symbol.for("react.memo_cache_sentinel")?(q=(l,o)=>{be(xe=>({...xe,[l]:o}))},e[16]=q):q=e[16];const D=q;let G;e[17]===Symbol.for("react.memo_cache_sentinel")?(G=()=>{be({search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""})},e[17]=G):G=e[17];const Oe=G,n=Object.values(s).some(lt),ve=st,je=tt,Ne=et,ne=fe?"Évaluations":"Activités pédagogiques";let m;e[18]!==ne?(m=t.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl dark:text-gray-300",children:ne}),e[18]=ne,e[19]=m):m=e[19];const oe=fe?" d'évaluation":"";let x;e[20]!==oe?(x=t.jsxs("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["Consultez et gérez vos activités",oe," ici."]}),e[20]=oe,e[21]=x):x=e[21];let h;e[22]!==m||e[23]!==x?(h=t.jsx("div",{className:"mb-8 flex items-center justify-between",children:t.jsxs("div",{children:[m,x]})}),e[22]=m,e[23]=x,e[24]=h):h=e[24];let P;e[25]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-sm font-medium",children:"Total"}),e[25]=P):P=e[25];let p;e[26]!==r.length?(p=t.jsxs("div",{children:[P,t.jsx("p",{className:"mt-2 text-3xl font-bold",children:r.length})]}),e[26]=r.length,e[27]=p):p=e[27];let I;e[28]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(re,{className:"h-10 w-10 text-blue-400"}),e[28]=I):I=e[28];let g;e[29]!==p?(g=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[p,I]})}),e[29]=p,e[30]=g):g=e[30];let X;e[31]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("p",{className:"text-sm font-medium",children:"À venir"}),e[31]=X):X=e[31];let u;e[32]!==r?(u=r.filter(Ze),e[32]=r,e[33]=u):u=e[33];let f;e[34]!==u.length?(f=t.jsxs("div",{children:[X,t.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-600",children:u.length})]}),e[34]=u.length,e[35]=f):f=e[35];let H;e[36]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(ge,{className:"h-10 w-10 text-blue-400"}),e[36]=H):H=e[36];let b;e[37]!==f?(b=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[f,H]})}),e[37]=f,e[38]=b):b=e[38];let J;e[39]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("p",{className:"text-sm font-medium",children:"En cours"}),e[39]=J):J=e[39];let y;e[40]!==r?(y=r.filter(Ye),e[40]=r,e[41]=y):y=e[41];let v;e[42]!==y.length?(v=t.jsxs("div",{children:[J,t.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:y.length})]}),e[42]=y.length,e[43]=v):v=e[43];let K;e[44]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Ve,{className:"h-10 w-10 text-green-400"}),e[44]=K):K=e[44];let j;e[45]!==v?(j=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[v,K]})}),e[45]=v,e[46]=j):j=e[46];let Q;e[47]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"text-sm font-medium",children:"Filtrés"}),e[47]=Q):Q=e[47];let N;e[48]!==i.length?(N=t.jsxs("div",{children:[Q,t.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-600",children:i.length})]}),e[48]=i.length,e[49]=N):N=e[49];let U;e[50]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(Fe,{className:"h-10 w-10 text-purple-400"}),e[50]=U):U=e[50];let w;e[51]!==N?(w=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[N,U]})}),e[51]=N,e[52]=w):w=e[52];let _;e[53]!==g||e[54]!==b||e[55]!==j||e[56]!==w?(_=t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[g,b,j,w]}),e[53]=g,e[54]=b,e[55]=j,e[56]=w,e[57]=_):_=e[57];let W;e[58]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Fe,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e[58]=W):W=e[58];let Y;e[59]===Symbol.for("react.memo_cache_sentinel")?(Y=l=>D("search",l.target.value),e[59]=Y):Y=e[59];let S;e[60]!==s.search?(S=t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[W,t.jsx("input",{type:"text",placeholder:"Rechercher un événement...",value:s.search,onChange:Y,className:"w-full rounded-lg border border-gray-300 py-3 pr-4 pl-10 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none dark:border-gray-400"})]})}),e[60]=s.search,e[61]=S):S=e[61];let k;e[62]!==c?(k=()=>$e(!c),e[62]=c,e[63]=k):k=e[63];const ce=`h-4 w-4 transition-transform ${c?"rotate-180":""}`;let T;e[64]!==ce?(T=t.jsx(Qe,{className:ce}),e[64]=ce,e[65]=T):T=e[65];let C;e[66]!==s||e[67]!==n?(C=n&&t.jsx("span",{className:"ml-2 inline-block rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:Object.values(s).filter(We).length}),e[66]=s,e[67]=n,e[68]=C):C=e[68];let L;e[69]!==k||e[70]!==T||e[71]!==C?(L=t.jsxs("button",{onClick:k,className:"flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:text-gray-400",children:[T,"Filtres avancés",C]}),e[69]=k,e[70]=T,e[71]=C,e[72]=L):L=e[72];let Z;e[73]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>ye("grid"),e[73]=Z):Z=e[73];const de=`rounded-md px-3 py-2 transition-all ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`;let ee;e[74]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Je,{className:"h-5 w-5"}),e[74]=ee):ee=e[74];let A;e[75]!==de?(A=t.jsx("button",{onClick:Z,className:de,title:"Vue grille",children:ee}),e[75]=de,e[76]=A):A=e[76];let te;e[77]===Symbol.for("react.memo_cache_sentinel")?(te=()=>ye("list"),e[77]=te):te=e[77];const me=`rounded-md px-3 py-2 transition-all ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100 dark:text-gray-400"}`;let se;e[78]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Ue,{className:"h-5 w-5"}),e[78]=se):se=e[78];let F;e[79]!==me?(F=t.jsx("button",{onClick:te,className:me,title:"Vue liste",children:se}),e[79]=me,e[80]=F):F=e[80];let M;e[81]!==A||e[82]!==F?(M=t.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-gray-300 p-1",children:[A,F]}),e[81]=A,e[82]=F,e[83]=M):M=e[83];let V;e[84]!==L||e[85]!==M?(V=t.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4",children:[L,M]}),e[84]=L,e[85]=M,e[86]=V):V=e[86];let $;e[87]!==c||e[88]!==s.activityType||e[89]!==s.activity_status||e[90]!==s.modality||e[91]!==s.visibility||e[92]!==n?($=c&&t.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(ae,{label:"Type d'activité",value:s.activityType,emptyOption:"Tous les types",options:Ge,onChange:l=>D("activityType",l)}),t.jsx(ae,{label:"Statut de l'activité",value:s.activity_status,emptyOption:"Tous les statuts d'activité",options:Pe,onChange:l=>D("activity_status",l)}),t.jsx(ae,{label:"Visibilité",value:s.visibility,emptyOption:"Toutes les visibilités",options:Ie,onChange:l=>D("visibility",l)}),t.jsx(ae,{label:"Type de lieu",value:s.modality,emptyOption:"Tous les lieux",options:Xe,onChange:l=>D("modality",l)})]}),n&&t.jsxs("button",{onClick:Oe,className:"flex items-center gap-2 rounded-lg border border-red-300 px-4 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50",children:[t.jsx(He,{className:"h-4 w-4"}),"Réinitialiser les filtres"]})]}),e[87]=c,e[88]=s.activityType,e[89]=s.activity_status,e[90]=s.modality,e[91]=s.visibility,e[92]=n,e[93]=$):$=e[93];let O;e[94]!==S||e[95]!==V||e[96]!==$?(O=t.jsxs("div",{className:"mb-8 rounded-xl border border-gray-400 p-6 shadow-md",children:[S,V,$]}),e[94]=S,e[95]=V,e[96]=$,e[97]=O):O=e[97];let E;e[98]!==i||e[99]!==n||e[100]!==d?(E=i.length===0?t.jsxs("div",{className:"rounded-xl p-12 text-center shadow-md",children:[t.jsx(re,{className:"mx-auto mb-4 h-16 w-16"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Aucun événement trouvé"}),t.jsx("p",{className:"mt-2",children:n?"Essayez de modifier vos critères de filtrage":"Créez votre premier événement pour commencer"})]}):t.jsxs(t.Fragment,{children:[d==="grid"&&t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(l=>t.jsxs("div",{className:"group overflow-hidden rounded-xl bg-white shadow-md transition-all duration-300 hover:shadow-lg dark:bg-cdcard",children:[t.jsx("div",{className:"h-1",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"p-3 sm:p-6",children:[t.jsx("h3",{className:"mb-3 line-clamp-2 text-lg font-semibold text-gray-900 transition-colors group-hover:text-blue-600 dark:text-gray-200",children:l.title}),l.description&&t.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-gray-600 dark:text-gray-300",children:l.description}),t.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[t.jsx(ie,{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${je(l.activity_type)}`,children:pe(_e(l.activity_type),0,37)}),t.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${ve(l.status)}`,children:Se(l.activity_status)})]}),t.jsxs("div",{className:"mb-4 space-y-2 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[t.jsx(re,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:Te(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[t.jsx(ge,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{children:["Durée:"," ",Ce(l.duration_minutes)]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[Ne(l),t.jsx(ie,{children:pe(ke(l.modality),0,35)})]})]}),t.jsx("div",{className:"flex gap-2 pt-4",children:t.jsxs(we,{href:Le(l.slug),className:"flex items-center gap-2 font-medium text-blue-600 transition-colors hover:text-blue-800",children:[t.jsx(Ae,{className:"h-4 w-4"}),"Détails"]})})]})]},l.id))}),d==="list"&&t.jsx("div",{className:"space-y-2 overflow-hidden rounded-xl shadow-md",children:i.map(l=>t.jsxs("div",{className:"group flex flex-col gap-4 border-b border-gray-200 bg-white p-4 transition-colors last:border-b-0 hover:bg-gray-50 sm:p-6 lg:flex-row lg:items-center lg:justify-between dark:bg-cdcard dark:hover:bg-gray-800",children:[t.jsxs("div",{className:"flex flex-1 items-start gap-3 sm:gap-4",children:[t.jsx("div",{className:"h-12 w-1 flex-shrink-0 rounded-full",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[t.jsx("h3",{className:"line-clamp-1 text-sm font-semibold text-gray-900 group-hover:text-blue-600 sm:text-base dark:text-gray-200",children:l.title}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(ie,{className:`text-xs font-semibold whitespace-nowrap ${je(l.activity_type)}`,children:pe(_e(l.activity_type),0,37)}),t.jsx(ie,{className:`text-xs font-semibold whitespace-nowrap ${ve(l.status)}`,children:Se(l.activity_status)})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-600 sm:gap-4 sm:text-sm dark:text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.jsx(re,{className:"h-4 w-4 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1",children:Te(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.jsx(ge,{className:"h-4 w-4 flex-shrink-0"}),t.jsx("span",{children:Ce(l.duration_minutes)})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[Ne(l),t.jsx("span",{className:"line-clamp-1",children:ke(l.modality)})]})]})]})]}),t.jsx("div",{className:"flex flex-shrink-0 items-center pt-2 sm:pt-0 lg:ml-4",children:t.jsxs(we,{href:Le(l.slug),className:"flex items-center gap-2 text-sm font-medium whitespace-nowrap text-blue-600 transition-colors hover:text-blue-800 sm:text-base",children:[t.jsx(Ae,{className:"h-4 w-4"}),"Détails"]})})]},l.id))})]}),e[98]=i,e[99]=n,e[100]=d,e[101]=E):E=e[101];let B;e[102]!==i.length||e[103]!==n?(B=i.length>0&&t.jsx("div",{className:"mt-8 rounded-lg border border-blue-200 bg-blue-50 p-4 text-center dark:bg-blue-200",children:t.jsxs("p",{className:"text-sm text-blue-800",children:["Affichage de"," ",t.jsx("span",{className:"font-semibold",children:i.length})," ","activité",i.length>1?"s":""," ",n&&"correspondant aux critères"]})}),e[102]=i.length,e[103]=n,e[104]=B):B=e[104];let le;return e[105]!==h||e[106]!==_||e[107]!==O||e[108]!==E||e[109]!==B?(le=t.jsx("div",{className:"min-h-screen py-8",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[h,_,O,E,B]})}),e[105]=h,e[106]=_,e[107]=O,e[108]=E,e[109]=B,e[110]=le):le=e[110],le}function We(a){return a!==""}function Ye(a){return a.activity_status==="live"}function Ze(a){return a.status==="scheduled"}function et(a){return a.is_synchronous?a.modality==="onsite"?t.jsx(Me,{className:"h-4 w-4 text-orange-500"}):a.modality==="online"?t.jsx(Ve,{className:"h-4 w-4 text-blue-500"}):t.jsx(Me,{className:"h-4 w-4 text-purple-500"}):t.jsx(Ke,{className:"h-4 w-4 text-gray-500"})}function tt(a){switch(a){case"formative":return"text-blue-600 bg-blue-50";case"summative":return"text-purple-600 bg-purple-50";case"certifying":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}}function st(a){switch(a){case"upcoming":return"bg-blue-100 text-blue-800 border-blue-300";case"ongoing":return"bg-green-100 text-green-800 border-green-300";case"completed":return"bg-gray-100 text-gray-800 border-gray-300";case"canceled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800"}}function lt(a){return a!==""}export{Lt as default};
