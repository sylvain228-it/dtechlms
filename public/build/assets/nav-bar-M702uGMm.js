import{c as I,u as L,r as $,j as s,L as d}from"./app-DeYJtq_f.js";import{A}from"./app-logo-icon-CWsD0s5t.js";import{P as M,A as E}from"./user-profile-trigger-Xak7ovX_.js";import{D as z}from"./divider-5bYZGO3M.js";import{D as T}from"./profile-svg-iVkyBrBD.js";import{B}from"./button-BcaJHoph.js";import{D as O,a as U,b as R}from"./dropdown-menu-IxUt_7SR.js";import{L as D}from"./logout-user-Ei4iZAgh.js";import{i as X,l as q,r as F}from"./index-wHDUIrgA.js";import{i as G}from"./index-DGvaH1zc.js";import{d as H}from"./index-CsOHd55-.js";import{i as J}from"./index-DMEIf3eg.js";import{d as K}from"./index-BV0lf3jj.js";import{U as Q}from"./avatar-fallback-B4U7h7tJ.js";import{S as V}from"./settings-CGmjSwyj.js";import{X as P}from"./x-gqbQ14sC.js";import{c as W}from"./createLucideIcon-CfblyJan.js";const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a7 7 0 1 0 10 10",key:"1yuj32"}]],Z=W("Eclipse",Y);function C(){const e=I.c(2);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(d,{href:q(),className:"btn-primary !hover:bg-cblue !hover:text-white border border-current !bg-transparent !py-[6px] !text-cblue",children:"Se connecter"}),e[0]=l):l=e[0];let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"flex items-center space-x-2",children:[l,s.jsx(d,{href:F(),className:"btn-primary !py-[6px]",children:"S'inscrire"})]}),e[1]=r):r=e[1],r}function be(){const e=I.c(46),l=L(),{auth:r}=l.props,[a,S]=$.useState(!1);let i;if(e[0]!==r.user){if(i=[],r.user){let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t={title:"Mon apprentissage",href:J()},e[2]=t):t=e[2],i.push(t)}e[0]=r.user,e[1]=i}else i=e[1];let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v={title:"Mon Profil",href:X().url,icon:Q},e[3]=v):v=e[3];let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y={title:"ParamÃ¨tres",href:G().url,icon:V},e[4]=y):y=e[4];let n;if(e[5]!==r.user){if(n=[v,y],r.user&&(r.user.account_role=="student"||r.user.account_role=="teacher")){let t;e[7]!==r.user.account_role?(t=r.user.account_role=="student"?H().url:K().url,e[7]=r.user.account_role,e[8]=t):t=e[8];let o;e[9]!==t?(o={title:"Tableau de bord",href:t,icon:Z},e[9]=t,e[10]=o):o=e[10],n.push(o)}e[5]=r.user,e[6]=n}else n=e[6];let N;e[11]!==a?(N=function(){S(!a)},e[11]=a,e[12]=N):N=e[12];const c=N;let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("div",{className:"flex items-center gap-6",children:s.jsx("div",{className:"order-last p-2 lg:order-first dark:bg-white",children:s.jsx(d,{href:"/",className:"flex items-center gap-2",children:s.jsx(A,{className:"h-[30px]"})})})}),e[13]=_):_=e[13];let m;e[14]!==i?(m=i.map(se),e[14]=i,e[15]=m):m=e[15];let u;e[16]!==r.user?(u=r.user==null&&s.jsx(C,{}),e[16]=r.user,e[17]=u):u=e[17];let x;e[18]!==m||e[19]!==u?(x=s.jsxs("div",{className:"hidden lg:flex lg:items-center lg:gap-8",children:[m,u]}),e[18]=m,e[19]=u,e[20]=x):x=e[20];let k;e[21]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(E,{}),e[21]=k):k=e[21];let f;e[22]!==r.user||e[23]!==n?(f=r.user!=null&&s.jsx("div",{className:"hidden lg:block",children:s.jsxs(O,{children:[s.jsx(U,{asChild:!0,children:s.jsx(B,{variant:"ghost",className:"size-10 rounded-full p-1",children:s.jsx(M,{user:r.user})})}),s.jsxs(R,{className:"w-56 transition-all duration-300 ease-in-out dark:bg-cdcard",align:"end",children:[s.jsx("div",{children:n.map(t=>{const o=t.icon;return s.jsxs(d,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{S(!1)},children:[s.jsx(o,{size:16}),t.title]},t.href)})}),s.jsx(D,{})]})]})}),e[22]=r.user,e[23]=n,e[24]=f):f=e[24];let h;e[25]!==f?(h=s.jsxs("div",{className:"flex items-center justify-end gap-4",children:[k,f]}),e[25]=f,e[26]=h):h=e[26];let p;e[27]!==r.user||e[28]!==a?(p=a?s.jsx(P,{size:24}):s.jsx("div",{children:r.user==null?s.jsx(T,{}):s.jsx(M,{user:r.user})}),e[27]=r.user,e[28]=a,e[29]=p):p=e[29];let g;e[30]!==c||e[31]!==p?(g=s.jsx("button",{onClick:c,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100 lg:hidden",children:p}),e[30]=c,e[31]=p,e[32]=g):g=e[32];let j;e[33]!==g||e[34]!==x||e[35]!==h?(j=s.jsx("nav",{className:"h-[56px] border-b border-gray-200 bg-white shadow-sm dark:bg-cdcard",children:s.jsx("div",{className:"mx-auto px-4 sm:w-full sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex h-16 items-center justify-between",children:[_,s.jsxs("div",{className:"flex items-center",children:[x,h,g]})]})})}),e[33]=g,e[34]=x,e[35]=h,e[36]=j):j=e[36];let b;e[37]!==r.user||e[38]!==c||e[39]!==a||e[40]!==i||e[41]!==n?(b=a&&s.jsxs("div",{children:[s.jsx("div",{onClick:c,className:"fixed top-0 z-40 h-full w-full bg-black/50 transition-all duration-300 ease-in-out"}),s.jsxs("div",{className:`fixed right-0 bottom-0 z-50 w-full animate-in gap-4 overflow-y-auto rounded-t-lg bg-white p-4 shadow-lg transition-all duration-300 ease-in-out dark:bg-cdcard ${a?"slide-in-from-bottom":"slide-out-to-bottom"}`,children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:c,className:"rounded-lg p-2",children:s.jsx(P,{size:24})})}),i.map(ee),r.user!=null&&s.jsxs("div",{children:[s.jsx(z,{}),s.jsxs("div",{className:"mb-3 flex items-center gap-3 px-4 py-2",children:[s.jsx(M,{user:r.user}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.user.first_name==null&&r.user.last_name==null?s.jsxs("span",{children:[r.user.first_name," ",r.user.last_name]}):s.jsx("span",{children:r.user.username})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:r.user.email})]})]}),n.map(t=>{const o=t.icon;return s.jsxs(d,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{S(!1)},children:[s.jsx(o,{size:16}),t.title]},t.href)}),s.jsx(D,{})]}),r.user==null&&s.jsxs("div",{children:[s.jsx(z,{}),s.jsx(C,{})]})]})]}),e[37]=r.user,e[38]=c,e[39]=a,e[40]=i,e[41]=n,e[42]=b):b=e[42];let w;return e[43]!==j||e[44]!==b?(w=s.jsxs("div",{className:"sticky top-0 right-0 left-0 z-40 sm:z-50",children:[j,b]}),e[43]=j,e[44]=b,e[45]=w):w=e[45],w}function ee(e,l){return s.jsx(d,{href:e.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-300",children:e.title},l)}function se(e,l){return s.jsx(d,{href:e.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-200",children:e.title},l)}export{be as P};
