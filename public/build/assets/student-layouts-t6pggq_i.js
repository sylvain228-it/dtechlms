import{c as ie,r as Z,u as ne,j as s,L as f,H as oe}from"./app-BzXwBPBx.js";import{P as de}from"./page-banner-CF78MDYO.js";import{A as ce}from"./app-logo-icon-C2LaG9_Q.js";import{D as xe}from"./divider-B09NDvil.js";import{D as me}from"./profile-svg-DwoHoZ6q.js";import{P as ee,A as fe}from"./user-profile-trigger-Dk_TTr5J.js";import{B as ue}from"./button-DpCkL2lj.js";import{a as he,b as pe}from"./dropdown-menu-DlZS67It.js";import{L as te}from"./logout-user-Ce_sIJue.js";import{r as re,c as ge}from"./utils-e8IeQt0G.js";import{d as je}from"./index-Vl0f8Y-f.js";import{i as be}from"./index-DMEIf3eg.js";import{D as ve}from"./index-VdYImSg5.js";import{p as le,s as ye,a as Ne}from"./nav-items-Ccw_83S7.js";import{X as se}from"./x-BWOBLZ9u.js";import{M as ke}from"./menu-CWhsNS-k.js";function we(o){const e=ie.c(88),{children:E}=o,[F,H]=Z.useState("lg:ml-[300px]");window.addEventListener("resize",function(){window.innerWidth<1024?(a(!1),H("")):window.innerWidth>=1024&&(a(!0),H("lg:ml-[300px]"))});const c=ne(),{auth:r}=c.props,[i,d]=Z.useState(!1),[l,ae]=Z.useState(window.innerWidth>=1024),a=ae;let n;if(e[0]!==r.user){if(n=[],r.user!=null&&r.user.account_role=="student"){let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t={title:"Mon apprentissage",href:be()},e[2]=t):t=e[2],n.push(t)}e[0]=r.user,e[1]=n}else n=e[1];let R;e[3]!==i||e[4]!==d?(R=function(){d(!i)},e[3]=i,e[4]=d,e[5]=R):R=e[5];const x=R;let U;e[6]!==a?(U=function(){window.innerWidth<1024&&a(!1)},e[6]=a,e[7]=U):U=e[7];const u=U;let X;e[8]!==l||e[9]!==a?(X=function(){a(!l),l||window.innerWidth<1024?H(""):H("lg:ml-[300px]")},e[8]=l,e[9]=a,e[10]=X):X=e[10];const h=X;let q;e[11]===Symbol.for("react.memo_cache_sentinel")?(q=je(),e[11]=q):q=e[11];let G;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("div",{className:"order-last p-2 shadow-sm lg:order-first dark:bg-clcard",children:s.jsx(f,{href:q,className:"flex items-center gap-2",children:s.jsx(ce,{className:"h-[30px]"})})}),e[12]=G):G=e[12];let p;e[13]!==h||e[14]!==l?(p=!l&&s.jsx(ke,{className:"dark:text-gray-400",onClick:h}),e[13]=h,e[14]=l,e[15]=p):p=e[15];let g;e[16]!==p?(g=s.jsxs("div",{className:"flex items-center gap-6",children:[G,p]}),e[16]=p,e[17]=g):g=e[17];let j;e[18]!==n?(j=s.jsx("div",{className:"hidden lg:flex lg:items-center lg:gap-8",children:n.map(Ce)}),e[18]=n,e[19]=j):j=e[19];let J;e[20]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(fe,{}),e[20]=J):J=e[20];let b;e[21]!==r.user||e[22]!==d?(b=r.user!=null&&s.jsx("div",{className:"hidden lg:block",children:s.jsxs(ve,{children:[s.jsx(he,{asChild:!0,children:s.jsx(ue,{variant:"ghost",className:"size-10 rounded-full p-1 dark:border-gray-300",children:s.jsx(ee,{user:r.user})})}),s.jsx(pe,{className:"w-56 transition-all duration-300 ease-in-out dark:bg-cdcard",align:"end",children:s.jsxs("div",{children:[le.map(t=>{const m=t.icon;return s.jsxs(f,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{d(!1)},children:[s.jsx(m,{size:16}),t.title]},t.href)}),s.jsx(te,{})]})})]})}),e[21]=r.user,e[22]=d,e[23]=b):b=e[23];let v;e[24]!==b?(v=s.jsxs("div",{className:"flex items-center gap-4",children:[J,b]}),e[24]=b,e[25]=v):v=e[25];let y;e[26]!==r.user||e[27]!==i?(y=i?s.jsx(se,{size:24}):s.jsx("div",{children:r.user==null?s.jsx(me,{}):s.jsx(ee,{user:r.user})}),e[26]=r.user,e[27]=i,e[28]=y):y=e[28];let N;e[29]!==x||e[30]!==y?(N=s.jsx("button",{onClick:x,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100 lg:hidden",children:y}),e[29]=x,e[30]=y,e[31]=N):N=e[31];let k;e[32]!==v||e[33]!==N||e[34]!==j?(k=s.jsxs("div",{className:"flex items-center",children:[j,v,N]}),e[32]=v,e[33]=N,e[34]=j,e[35]=k):k=e[35];let w;e[36]!==k||e[37]!==g?(w=s.jsx("nav",{className:"h-[56px] border-b border-gray-200 bg-white shadow-sm dark:bg-cdark",children:s.jsx("div",{className:"mx-auto px-4 sm:w-full sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex h-16 items-center justify-between",children:[g,k]})})}),e[36]=k,e[37]=g,e[38]=w):w=e[38];let z;e[39]!==r.user||e[40]!==x||e[41]!==i||e[42]!==n||e[43]!==d?(z=i&&s.jsxs("div",{children:[s.jsx("div",{onClick:x,className:"fixed top-0 z-40 h-full w-full bg-black/50 transition-all duration-300 ease-in-out"}),s.jsxs("div",{className:`fixed right-0 bottom-0 z-50 w-full animate-in gap-4 overflow-y-auto rounded-t-lg bg-white p-4 shadow-lg transition-all duration-300 ease-in-out dark:bg-cdcard ${i?"slide-in-from-bottom":"slide-out-to-bottom"}`,children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:x,children:s.jsx(se,{size:24,className:"dark:text-gray-300"})})}),n.map(ze),r.user!=null&&s.jsxs("div",{children:[s.jsx(xe,{}),s.jsxs("div",{className:"mb-3 flex items-center gap-3 px-4 py-2",children:[s.jsx(ee,{user:r.user}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:r.user.first_name==null&&r.user.last_name==null?s.jsxs("span",{children:[r.user.first_name," ",r.user.last_name]}):s.jsx("span",{children:r.user.username})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:r.user.email})]})]}),le.map(t=>{const m=t.icon;return s.jsxs(f,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{d(!1)},children:[s.jsx(m,{size:16}),t.title]},t.href)}),s.jsx(te,{})]})]})]}),e[39]=r.user,e[40]=x,e[41]=i,e[42]=n,e[43]=d,e[44]=z):z=e[44];let C;e[45]!==w||e[46]!==z?(C=s.jsxs("div",{className:"sticky top-0 right-0 left-0 z-40 sm:z-50",children:[w,z]}),e[45]=w,e[46]=z,e[47]=C):C=e[47];let S;e[48]!==a?(S=()=>a(!1),e[48]=a,e[49]=S):S=e[49];const Q=`fixed top-0 left-0 z-50 h-full w-full bg-black/50 transition-all duration-300 ease-in-out sm:top-[56px] sm:z-40 lg:hidden ${l?"visible opacity-100":"invisible opacity-0"}`;let M;e[50]!==S||e[51]!==Q?(M=s.jsx("div",{onClick:S,className:Q}),e[50]=S,e[51]=Q,e[52]=M):M=e[52];const V=`fixed top-0 left-0 z-50 h-full border-t border-r bg-white text-black shadow-sm transition-all duration-300 ease-in-out sm:top-[56px] lg:h-[92vh] dark:bg-cdark ${l?"w-full translate-x-0 sm:w-[300px]":"-translate-x-full"}`;let I;e[53]!==r.user||e[54]!==h||e[55]!==l?(I=l&&s.jsxs("div",{className:"my-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase dark:text-gray-200",children:r.user.username}),s.jsx(se,{size:24,className:"dark:text-gray-200",onClick:h})]}),e[53]=r.user,e[54]=h,e[55]=l,e[56]=I):I=e[56];let D;e[57]!==u||e[58]!==c.url?(D=ye.map((t,m)=>{const Y=t.icon;return s.jsxs(f,{href:t.href,className:`text-md flex items-center gap-2 rounded-lg px-4 py-2 font-semibold text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300 ${c.url.startsWith(re(t.href))?"!bg-cblue !text-white":""}`,onClick:u,children:[s.jsx(Y,{size:16}),t.title]},m)}),e[57]=u,e[58]=c.url,e[59]=D):D=e[59];let L;e[60]!==D?(L=s.jsx("ul",{className:"grid gap-1",children:D}),e[60]=D,e[61]=L):L=e[61];let T;e[62]!==I||e[63]!==L?(T=s.jsxs("div",{className:"overflow-y-auto px-6",children:[I,L]}),e[62]=I,e[63]=L,e[64]=T):T=e[64];let W;e[65]!==u||e[66]!==c.url?(W=Ne.map((t,m)=>{const Y=t.icon;return s.jsxs(f,{href:t.href,className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300 ${c.url.startsWith(re(t.href))?"!bg-cblue !text-white":""}`,onClick:u,children:[s.jsx(Y,{size:16}),t.title]},m)}),e[65]=u,e[66]=c.url,e[67]=W):W=e[67];let _;e[68]!==W?(_=s.jsx("div",{className:"fixed bottom-0 left-0 w-full border-t border-gray-500 bg-gray-100 p-4 shadow-md dark:border-gray-200 dark:bg-cdcard",children:s.jsx("ul",{children:W})}),e[68]=W,e[69]=_):_=e[69];let O;e[70]!==T||e[71]!==_?(O=s.jsxs("div",{className:"relative",children:[T,_]}),e[70]=T,e[71]=_,e[72]=O):O=e[72];let P;e[73]!==V||e[74]!==O?(P=s.jsx("div",{className:V,children:O}),e[73]=V,e[74]=O,e[75]=P):P=e[75];let $;e[76]!==M||e[77]!==P?($=s.jsxs("div",{children:[M,P]}),e[76]=M,e[77]=P,e[78]=$):$=e[78];let A;e[79]!==F?(A=ge("p-4 transition-all duration-300 sm:p-6",F),e[79]=F,e[80]=A):A=e[80];let B;e[81]!==E||e[82]!==A?(B=s.jsx("div",{className:A,children:E}),e[81]=E,e[82]=A,e[83]=B):B=e[83];let K;return e[84]!==C||e[85]!==$||e[86]!==B?(K=s.jsxs(s.Fragment,{children:[C,$,B]}),e[84]=C,e[85]=$,e[86]=B,e[87]=K):K=e[87],K}function ze(o,e){return s.jsx(f,{href:o.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-300",children:o.title},e)}function Ce(o,e){return s.jsx(f,{href:o.href,className:"line-clamp-1 text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-200",children:o.title},e)}const Re=({children:o,title:e,breadcrumbs:E,...F})=>s.jsxs(we,{breadcrumbs:E,...F,children:[s.jsx(oe,{title:e}),s.jsx(de,{title:e}),o]});export{Re as T};
