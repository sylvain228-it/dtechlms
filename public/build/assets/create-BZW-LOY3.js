import{c as W,u as X,b as Y,r as z,j as i,a as G}from"./app-klcUL3EL.js";import{I as H,C as Z}from"./form-CvObqJ4P.js";import{S as ee}from"./select-form-DOngjurq.js";import{B as te}from"./button-Bh8WI1Ty.js";import{I as ie}from"./input-DzuxS5O4.js";import{L as se}from"./label-W6XNthsN.js";import{S as oe}from"./spinner-2t8r_D1R.js";import{u as ae,s as ne}from"./index-Bfjphteo.js";import"./app-Ci7uHgFL.js";import"./command-DZlE8gfH.js";import"./index-DTV9AGlb.js";import"./index-C7Q-OePl.js";import"./index-Ds5qzORP.js";import"./index-DATr0Fl4.js";import"./index-qHu87rw-.js";import"./index-DkAn70oM.js";import"./utils-e8IeQt0G.js";import"./search-lzJ3zhHt.js";import"./createLucideIcon-DknjQr1d.js";import"./popover-YHBFhHiO.js";import"./index-BrvB-LOg.js";import"./index-C9hgHX-E.js";import"./chevrons-up-down-CF9ckTaN.js";import"./check-9HY1vcbG.js";import"./index-A7wesXx6.js";import"./index-CyaJm5Nq.js";import"./index-CMWG4mbA.js";function ke(J){const e=W.c(59),{domaines:E,domaine:a}=J,n=!!a,{errors:l}=X().props,w=n?a?.name:"",A=n?a?.description:"",P=n?a?.domaine_id:null,V=n?a?.is_active==1:!0;let _;e[0]!==w||e[1]!==A||e[2]!==P||e[3]!==V?(_={name:w,description:A,domaine_id:P,is_active:V},e[0]=w,e[1]=A,e[2]=P,e[3]=V,e[4]=_):_=e[4];const{data:t,setData:s}=Y(_);let D;e[5]!==t||e[6]!==s?(D=function($){s({...t,[$.target.name]:$.target.value})},e[5]=t,e[6]=s,e[7]=D):D=e[7];const k=D,[y,K]=z.useState(a?a.domaine_id??null:null),[C,q]=z.useState(!1),Q=t.name;let r;if(e[8]!==t||e[9]!==a||e[10]!==n){let o=function(){q(!1)};r=function(U){U.preventDefault(),q(!0),n?G.put(ae(a.id),{...t,_method:"put"},{onFinish:o}):G.post(ne(),t,{onFinish:o})},e[8]=t,e[9]=a,e[10]=n,e[11]=r}else r=e[11];const B=n?"Modifier le domaine":"Ajouter un domaine";let m;e[12]!==B?(m=i.jsx("h3",{className:"mb-3 font-bold",children:B}),e[12]=B,e[13]=m):m=e[13];const L=y??"";let c;e[14]!==k||e[15]!==L?(c=i.jsx(ie,{type:"hidden",name:"domaine_id",id:"domaine_id",value:L,onChange:k}),e[14]=k,e[15]=L,e[16]=c):c=e[16];let d;e[17]!==s?(d=o=>s("name",o),e[17]=s,e[18]=d):d=e[18];let p;e[19]!==t.name||e[20]!==l.name||e[21]!==d?(p=i.jsx("div",{className:"grid gap-2",children:i.jsx(H,{label:"Désignation",type:"text",value:t.name,placeholder:"Désignation",onChange:d,error:l.name})}),e[19]=t.name,e[20]=l.name,e[21]=d,e[22]=p):p=e[22];const M=t.description??"";let u;e[23]!==s?(u=o=>s("description",o),e[23]=s,e[24]=u):u=e[24];let f;e[25]!==l.description||e[26]!==M||e[27]!==u?(f=i.jsx("div",{className:"grid gap-2",children:i.jsx(H,{type:"text",value:M,placeholder:"Description",label:"Description",onChange:u,error:l.description})}),e[25]=l.description,e[26]=M,e[27]=u,e[28]=f):f=e[28];let N;e[29]===Symbol.for("react.memo_cache_sentinel")?(N=i.jsx(se,{children:"Domaine parent"}),e[29]=N):N=e[29];let F;e[30]===Symbol.for("react.memo_cache_sentinel")?(F=o=>K(o),e[30]=F):F=e[30];let h;e[31]!==y||e[32]!==E?(h=i.jsxs("div",{className:"grid gap-2",children:[N,i.jsx(ee,{options:E,label:"Sélectionner une catégorie",value:y,onSelect:F})]}),e[31]=y,e[32]=E,e[33]=h):h=e[33];const R=t.is_active??!1;let x;e[34]!==t||e[35]!==s?(x=o=>s({...t,is_active:o}),e[34]=t,e[35]=s,e[36]=x):x=e[36];let g;e[37]!==R||e[38]!==x?(g=i.jsx("div",{className:"flex items-center space-x-3",children:i.jsx(Z,{checked:R,onChange:x,label:"Activer le domaine"})}),e[37]=R,e[38]=x,e[39]=g):g=e[39];const O=C||!Q;let j;e[40]!==C?(j=C&&i.jsx(oe,{}),e[40]=C,e[41]=j):j=e[41];const T=n?"Mettre à jour le domaine":"Ajouter un domaine";let b;e[42]!==O||e[43]!==j||e[44]!==T?(b=i.jsxs(te,{type:"submit",className:"btn-primary mt-4 w-full !py-6",tabIndex:4,disabled:O,"data-test":"create-domaine-button",children:[j,T]}),e[42]=O,e[43]=j,e[44]=T,e[45]=b):b=e[45];let v;e[46]!==c||e[47]!==p||e[48]!==f||e[49]!==h||e[50]!==g||e[51]!==b?(v=i.jsxs("div",{className:"mb-3 grid gap-3",children:[c,p,f,h,g,b]}),e[46]=c,e[47]=p,e[48]=f,e[49]=h,e[50]=g,e[51]=b,e[52]=v):v=e[52];let S;e[53]!==r||e[54]!==v?(S=i.jsx("form",{method:"POST",onSubmit:r,children:v}),e[53]=r,e[54]=v,e[55]=S):S=e[55];let I;return e[56]!==S||e[57]!==m?(I=i.jsxs("div",{className:"mx-auto w-full rounded-xl p-5 shadow-sm",children:[m,S]}),e[56]=S,e[57]=m,e[58]=I):I=e[58],I}export{ke as default};
