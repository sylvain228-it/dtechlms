import{c as ie,u as se,b as ae,r as ne,j as o,a as oe}from"./app-klcUL3EL.js";import{I as n}from"./form-CvObqJ4P.js";import{B as me}from"./button-Bh8WI1Ty.js";import{S as de}from"./spinner-2t8r_D1R.js";import{I as pe}from"./institut-layouts-B-3pKq25.js";import{u as ce,a as ue}from"./index-CvwxozaB.js";import"./app-Ci7uHgFL.js";import"./index-A7wesXx6.js";import"./index-Ds5qzORP.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./createLucideIcon-DknjQr1d.js";import"./page-banner-DONW1mv1.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-BQcbsxov.js";import"./iconBase-BVw07lCS.js";import"./arrow-left-DMV9iy1g.js";import"./app-logo-icon-ijSwabQD.js";import"./divider-Dzwd8ovy.js";import"./avatar-BdB_hIma.js";import"./index-C7Q-OePl.js";import"./index-DATr0Fl4.js";import"./index-DkAn70oM.js";import"./dropdown-menu-Buaj86n5.js";import"./index-hw-50Y8m.js";import"./index-D7xMndjq.js";import"./index-BrvB-LOg.js";import"./index-C9hgHX-E.js";import"./index-CPeTD8AP.js";import"./index-qHu87rw-.js";import"./check-9HY1vcbG.js";import"./avatar-fallback-BDH5mD5T.js";import"./use-initials-GDEZD6-s.js";import"./logout-user-CTkV5_42.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-uPqsp4v0.js";import"./index-BtCACXPK.js";import"./index-ClAXPadg.js";import"./index-DMEIf3eg.js";import"./index-B5Wz6g3U.js";import"./index-B_X-8rh8.js";import"./index-Bfjphteo.js";import"./index-DIHBWcL6.js";import"./index-DD88zi8k.js";import"./index-CwtRjVPi.js";import"./index-DRwoOeWz.js";import"./index-Drn0ezkX.js";import"./index-DmWZapw3.js";import"./index-BgFRERlA.js";import"./gauge-BODaeFnF.js";import"./book-open-qbgfrGvc.js";import"./settings-C4I39P2J.js";import"./x-DGooslga.js";import"./menu-CTQlVSPW.js";function yt(){const e=ie.c(91),{location:a}=se().props,{errors:t}=se().props,i=!!a,G=i?a?.name:"",R=i?a?.address:"",T=i?a?.address_line:"",O=i?a?.city:"",$=i?a?.country:"Togo",k=i?a?.maps_url:"",q=i?a?.latitude:"",z=i?a?.longitude:"";let D;e[0]!==G||e[1]!==R||e[2]!==T||e[3]!==O||e[4]!==$||e[5]!==k||e[6]!==q||e[7]!==z?(D={name:G,address:R,address_line:T,city:O,country:$,maps_url:k,latitude:q,longitude:z},e[0]=G,e[1]=R,e[2]=T,e[3]=O,e[4]=$,e[5]=k,e[6]=q,e[7]=z,e[8]=D):D=e[8];const{data:l,setData:s}=ae(D),[V,te]=ne.useState(!1),le=l.name&&l.address&&l.city&&l.country;let m;if(e[9]!==l||e[10]!==i||e[11]!==a){let r=function(){te(!1)};m=function(re){re.preventDefault(),te(!0),i?oe.put(ce(a.id),{...l,_method:"put"},{onFinish:r}):oe.post(ue(),l,{onFinish:r})},e[9]=l,e[10]=i,e[11]=a,e[12]=m}else m=e[12];const H=i?"Modifier l'établissement":"Ajouter un établissement";let d;e[13]!==H?(d=o.jsx("h3",{className:"mb-3 font-bold",children:H}),e[13]=H,e[14]=d):d=e[14];let p;e[15]!==s?(p=r=>s("name",r),e[15]=s,e[16]=p):p=e[16];let c;e[17]!==l.name||e[18]!==t.name||e[19]!==p?(c=o.jsx(n,{label:"Nom",type:"text",value:l.name,placeholder:"Désignation",onChange:p,error:t.name}),e[17]=l.name,e[18]=t.name,e[19]=p,e[20]=c):c=e[20];const J=l.country??"";let u;e[21]!==s?(u=r=>s("country",r),e[21]=s,e[22]=u):u=e[22];let f;e[23]!==t.country||e[24]!==J||e[25]!==u?(f=o.jsx(n,{label:"Pays",type:"text",value:J,placeholder:"Pays",onChange:u,error:t.country}),e[23]=t.country,e[24]=J,e[25]=u,e[26]=f):f=e[26];const K=l.city??"";let g;e[27]!==s?(g=r=>s("city",r),e[27]=s,e[28]=g):g=e[28];let h;e[29]!==t.city||e[30]!==K||e[31]!==g?(h=o.jsx("div",{className:"sm:col-span-2 md:col-span-1",children:o.jsx(n,{label:"Ville",type:"text",value:K,placeholder:"Ville",onChange:g,error:t.city})}),e[29]=t.city,e[30]=K,e[31]=g,e[32]=h):h=e[32];let x;e[33]!==c||e[34]!==f||e[35]!==h?(x=o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[c,f,h]}),e[33]=c,e[34]=f,e[35]=h,e[36]=x):x=e[36];const Q=l.address??"";let y;e[37]!==s?(y=r=>s("address",r),e[37]=s,e[38]=y):y=e[38];let b;e[39]!==t.address||e[40]!==Q||e[41]!==y?(b=o.jsx(n,{type:"text",value:Q,placeholder:"Adresse",label:"Adresse",onChange:y,error:t.address}),e[39]=t.address,e[40]=Q,e[41]=y,e[42]=b):b=e[42];const U=l.address_line??"";let j;e[43]!==s?(j=r=>s("address_line",r),e[43]=s,e[44]=j):j=e[44];let v;e[45]!==t.address_line||e[46]!==U||e[47]!==j?(v=o.jsx(n,{type:"text",value:U,placeholder:"Complément d'adresse",label:"Complément d'adresse",onChange:j,error:t.address_line}),e[45]=t.address_line,e[46]=U,e[47]=j,e[48]=v):v=e[48];let _;e[49]!==b||e[50]!==v?(_=o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[b,v]}),e[49]=b,e[50]=v,e[51]=_):_=e[51];const W=l.latitude??"";let C;e[52]!==s?(C=r=>s("latitude",r),e[52]=s,e[53]=C):C=e[53];let N;e[54]!==t.latitude||e[55]!==W||e[56]!==C?(N=o.jsx(n,{type:"number",value:W,placeholder:"Latitude",label:"Latitude",onChange:C,error:t.latitude}),e[54]=t.latitude,e[55]=W,e[56]=C,e[57]=N):N=e[57];const X=l.longitude??"";let L;e[58]!==s?(L=r=>s("longitude",r),e[58]=s,e[59]=L):L=e[59];let S;e[60]!==t.longitude||e[61]!==X||e[62]!==L?(S=o.jsx(n,{type:"number",value:X,placeholder:"Longitude",label:"Longitude",onChange:L,error:t.longitude}),e[60]=t.longitude,e[61]=X,e[62]=L,e[63]=S):S=e[63];const Y=l.maps_url??"";let F;e[64]!==s?(F=r=>s("maps_url",r),e[64]=s,e[65]=F):F=e[65];let I;e[66]!==t.maps_url||e[67]!==Y||e[68]!==F?(I=o.jsx("div",{className:"sm:col-span-2 md:col-span-1",children:o.jsx(n,{type:"text",value:Y,placeholder:"Lien Google Maps",label:"Lien Google Maps",onChange:F,error:t.maps_url})}),e[66]=t.maps_url,e[67]=Y,e[68]=F,e[69]=I):I=e[69];let P;e[70]!==N||e[71]!==S||e[72]!==I?(P=o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[N,S,I]}),e[70]=N,e[71]=S,e[72]=I,e[73]=P):P=e[73];const Z=V||!le;let A;e[74]!==V?(A=V&&o.jsx(de,{}),e[74]=V,e[75]=A):A=e[75];const ee=i?"Mettre à jour l'établissement":"Ajouter un établissement";let E;e[76]!==Z||e[77]!==A||e[78]!==ee?(E=o.jsxs(me,{type:"submit",className:"btn-primary mt-4 w-full !py-6",tabIndex:4,disabled:Z,children:[A,ee]}),e[76]=Z,e[77]=A,e[78]=ee,e[79]=E):E=e[79];let M;e[80]!==x||e[81]!==_||e[82]!==P||e[83]!==E?(M=o.jsxs("div",{className:"mb-3 grid gap-3",children:[x,_,P,E]}),e[80]=x,e[81]=_,e[82]=P,e[83]=E,e[84]=M):M=e[84];let w;e[85]!==m||e[86]!==M?(w=o.jsx("form",{method:"POST",onSubmit:m,children:M}),e[85]=m,e[86]=M,e[87]=w):w=e[87];let B;return e[88]!==d||e[89]!==w?(B=o.jsx(pe,{title:"Formulaire d'établissement",children:o.jsxs("div",{className:"mx-auto w-full rounded-xl p-5 shadow-sm",children:[d,w]})}),e[88]=d,e[89]=w,e[90]=B):B=e[90],B}export{yt as default};
