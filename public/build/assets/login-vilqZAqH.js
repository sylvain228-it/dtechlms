import{c as K,u as Q,r as O,j as t,H as U,a as W}from"./app-CjIWy3eH.js";import{I as B}from"./input-error-jFoP4u8y.js";import{T as H}from"./text-link-9TLMNRPb.js";import{B as X}from"./button-CExzQmZc.js";import{C as Y}from"./checkbox-BgoqiFgf.js";import{I as Z}from"./input-yCXFspsm.js";import{I as ee,a as te,b as se}from"./input-group-X2fy6Tco.js";import{L as V}from"./label-eKQQEJaP.js";import{S as oe}from"./spinner-Bb2x751J.js";import{A as re}from"./auth-layout-CT8i2nO0.js";import{D as ie}from"./display-flash-msg-yevE_EMY.js";import{r as ae,s as le}from"./index-wHDUIrgA.js";import{r as ne}from"./index-v3lNCs8j.js";import{a as me,b as ce}from"./index-CHnKU68i.js";import"./app-DfLmVDUM.js";import"./utils-AnTb9DBe.js";import"./index-C4soMqjN.js";import"./index-BnYBuebb.js";import"./index-OYVf1Zwz.js";import"./index-DnZUlvAx.js";import"./index-WBmQTPp2.js";import"./index-DdCDBdhx.js";import"./check-C6ufmhQW.js";import"./createLucideIcon-i13MEz2U.js";import"./app-logo-icon-hvVxL52x.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-DGvaH1zc.js";import"./iconBase-ZLoFHiO_.js";function Ge(R){const e=K.c(48),{status:g}=R,{errors:o}=Q().props,[s,$]=O.useState(!0);let j;e[0]!==s?(j=function(b){b.preventDefault(),$(!s)},e[0]=s,e[1]=j):j=e[1];const L=j,[r,k]=O.useState(!1);let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S={login:null,password:null},e[2]=S):S=e[2];const[M,J]=O.useState(S);let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=function(b){J(G=>({...G,[b.target.id]:b.target.value}))},e[3]=v):v=e[3];const q=v;let y;e[4]!==M?(y=function(b){b.preventDefault(),k(!0),async function(){W.post(le(),M,{onFinish:()=>k(!1)})}()},e[4]=M,e[5]=y):y=e[5];const T=y;let I,_;e[6]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(U,{title:"Se connecter"}),_=t.jsx(ie,{}),e[6]=I,e[7]=_):(I=e[6],_=e[7]);let N,w;e[8]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(V,{htmlFor:"login",children:"Identifiant"}),w=t.jsx(Z,{id:"login",type:"text",name:"login",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"username",placeholder:"E-mail, téléphone ou indentifiant",className:"form-input",onChange:q}),e[8]=N,e[9]=w):(N=e[8],w=e[9]);let i;e[10]!==o.login?(i=t.jsxs("div",{className:"grid gap-2",children:[N,w,t.jsx(B,{message:o.login})]}),e[10]=o.login,e[11]=i):i=e[11];let C;e[12]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(V,{htmlFor:"password",children:"Mot de passe"}),e[12]=C):C=e[12];let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("div",{className:"flex items-center",children:[C,t.jsx(H,{href:ne(),className:"ml-auto text-sm",tabIndex:5,children:"Mot de passe oublié ?"})]}),e[13]=P):P=e[13];const D=s?"password":"text";let a;e[14]!==D?(a=t.jsx(ee,{id:"password",required:!0,tabIndex:3,autoComplete:"new-password",name:"password",placeholder:"Password",className:"form-input",type:D,onChange:q}),e[14]=D,e[15]=a):a=e[15];let l;e[16]!==s?(l=s?t.jsx(me,{size:20}):t.jsx(ce,{size:20}),e[16]=s,e[17]=l):l=e[17];let n;e[18]!==L||e[19]!==l?(n=t.jsx(te,{align:"inline-end",children:t.jsx("button",{className:"px-3",onClick:L,children:l})}),e[18]=L,e[19]=l,e[20]=n):n=e[20];let m;e[21]!==a||e[22]!==n?(m=t.jsxs(se,{className:"form-input !focus:ring-0 !px-0",children:[a,n]}),e[21]=a,e[22]=n,e[23]=m):m=e[23];let c;e[24]!==o.password?(c=t.jsx(B,{message:o.password}),e[24]=o.password,e[25]=c):c=e[25];let p;e[26]!==m||e[27]!==c?(p=t.jsxs("div",{className:"grid gap-2",children:[P,m,c]}),e[26]=m,e[27]=c,e[28]=p):p=e[28];let E;e[29]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Y,{id:"remember",name:"remember",tabIndex:3}),t.jsx(V,{htmlFor:"remember",children:"Souviens-toi de moi"})]}),e[29]=E):E=e[29];let d;e[30]!==r?(d=r&&t.jsx(oe,{}),e[30]=r,e[31]=d):d=e[31];let u;e[32]!==r||e[33]!==d?(u=t.jsxs(X,{type:"submit",className:"btn-primary mt-4 w-full !py-6",tabIndex:4,disabled:r,"data-test":"login-button",children:[d,"Se connecter"]}),e[32]=r,e[33]=d,e[34]=u):u=e[34];let f;e[35]!==p||e[36]!==u||e[37]!==i?(f=t.jsxs("div",{className:"grid gap-6",children:[i,p,E,u]}),e[35]=p,e[36]=u,e[37]=i,e[38]=f):f=e[38];let F;e[39]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Vous n'avez pas de compte ?"," ",t.jsx(H,{className:"text-app-blue",href:ae(),tabIndex:5,children:"S'inscrire"})]}),e[39]=F):F=e[39];let x;e[40]!==T||e[41]!==f?(x=t.jsxs("form",{onSubmit:T,className:"flex flex-col gap-6",method:"POST",children:[f,F]}),e[40]=T,e[41]=f,e[42]=x):x=e[42];let h;e[43]!==g?(h=g&&t.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:g}),e[43]=g,e[44]=h):h=e[44];let z;return e[45]!==x||e[46]!==h?(z=t.jsxs(re,{title:"Connectez-vous à votre compte",description:"Entrez votre email et votre mot de passe ci-dessous pour vous connecter",children:[I,_,x,h]}),e[45]=x,e[46]=h,e[47]=z):z=e[47],z}export{Ge as default};
