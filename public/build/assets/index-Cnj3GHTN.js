import{c as R,u as P,R as C,j as t,L}from"./app-CjIWy3eH.js";import{B}from"./badge-BFvWF1om.js";import{B as w}from"./button-CExzQmZc.js";import{I as E}from"./input-yCXFspsm.js";import{S as Q}from"./student-layouts-pAsDbnCY.js";import{s as S}from"./tasks-gWUZeaAY.js";import{x as T}from"./type-DDACwUq3.js";import{a as D,f as I}from"./utils-AnTb9DBe.js";import{s as A,d as $}from"./index-V0aQkvK_.js";import{c as M}from"./createLucideIcon-i13MEz2U.js";import{C as F}from"./clock-DZ4rQcoe.js";import{P as H}from"./play-m8OeFala.js";import"./app-DfLmVDUM.js";import"./index-C4soMqjN.js";import"./index-BnYBuebb.js";import"./page-banner-IgGXIOfs.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-CHnKU68i.js";import"./iconBase-ZLoFHiO_.js";import"./arrow-left-DAnQtW-a.js";import"./app-logo-icon-hvVxL52x.js";import"./divider-D-eLoZ7M.js";import"./profile-svg-Cv26bH6a.js";import"./user-profile-trigger-CmjyThd_.js";import"./avatar-8Q0-AYNg.js";import"./index-OYVf1Zwz.js";import"./index-DnZUlvAx.js";import"./index-Cx1mEBwh.js";import"./avatar-fallback-DKyWtIhb.js";import"./use-initials-GDEZD6-s.js";import"./dropdown-menu-DUsmAPKS.js";import"./index-aXAQScOB.js";import"./index-CgNbq55-.js";import"./index-CPWTBhsT.js";import"./index-DdCDBdhx.js";import"./index-DIo9abDA.js";import"./index-DLvqQGle.js";import"./check-C6ufmhQW.js";import"./logout-user-BBug3-28.js";import"./spinner-Bb2x751J.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-Bz_ayeBV.js";import"./index-5dwg6Nh6.js";import"./index-DMEIf3eg.js";import"./index-BCspIYgb.js";import"./index-DXT9ONqy.js";import"./index-lBAoiumE.js";import"./index-Di1vi8wQ.js";import"./gauge-au9SJ6qx.js";import"./book-D1z74oI7.js";import"./calendar-Bfdj--jJ.js";import"./message-circle-CqdwJGEq.js";import"./settings-P3TSVHSR.js";import"./x-CvJE1FTX.js";import"./menu-F5M2EXT6.js";import"./lexical-headless-BCA5NgA9.js";import"./nodes-B8QjlgCe.js";const O=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W=M("Eye",O);const G=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],J=M("Repeat",G);function tt(){const e=R.c(28),{quizzes:y}=P().props,[s,_]=C.useState(""),[r,x]=C.useState(1);let a,m,i,l,o;if(e[0]!==r||e[1]!==s||e[2]!==y){let f;e[8]!==s?(f=p=>(p.title??"").toLowerCase().includes(s.toLowerCase())||(p.description??"").toLowerCase().includes(s.toLowerCase()),e[8]=s,e[9]=f):f=e[9];const k=(y??[]).filter(f),N=k.length,b=Math.max(1,Math.ceil(N/9)),z=k.slice((r-1)*9,r*9);a=Q,o="Quizzes",m="mx-auto mt-6 max-w-6xl px-4";let u;e[10]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des quizzes"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Passez vos évaluations et suivez vos scores."})]}),e[10]=u):u=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=p=>{_(p.target.value),x(1)},e[11]=g):g=e[11];let c;e[12]!==s?(c=t.jsx(E,{placeholder:"Rechercher un quiz...",value:s,onChange:g,className:"w-72"}),e[12]=s,e[13]=c):c=e[13];let j;e[14]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400",children:t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z"})})}),e[14]=j):j=e[14];let d;e[15]!==c?(d=t.jsxs("div",{className:"relative",children:[c,j]}),e[15]=c,e[16]=d):d=e[16];let v;e[17]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("div",{className:"hidden sm:block",children:t.jsx(w,{variant:"outline",size:"sm",onClick:()=>{_(""),x(1)},children:"Réinitialiser"})}),e[17]=v):v=e[17],e[18]!==d?(i=t.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between gap-4 sm:flex-row",children:[u,t.jsxs("div",{className:"flex items-center gap-3",children:[d,v]})]}),e[18]=d,e[19]=i):i=e[19],l=N===0?t.jsxs("div",{className:"rounded-lg border bg-white p-8 text-center",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aucun quiz trouvé"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Aucun quiz ne correspond à votre recherche pour le moment."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:z.map(U)}),t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[N," quiz(s)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(w,{size:"sm",variant:"outline",disabled:r<=1,onClick:()=>x(K),children:"Précédent"}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",r," sur ",b]}),t.jsx(w,{size:"sm",variant:"outline",disabled:r>=b,onClick:()=>x(p=>Math.min(b,p+1)),children:"Suivant"})]})]})]}),e[0]=r,e[1]=s,e[2]=y,e[3]=a,e[4]=m,e[5]=i,e[6]=l,e[7]=o}else a=e[3],m=e[4],i=e[5],l=e[6],o=e[7];let n;e[20]!==m||e[21]!==i||e[22]!==l?(n=t.jsxs("div",{className:m,children:[i,l]}),e[20]=m,e[21]=i,e[22]=l,e[23]=n):n=e[23];let h;return e[24]!==a||e[25]!==o||e[26]!==n?(h=t.jsx(a,{title:o,children:n}),e[24]=a,e[25]=o,e[26]=n,e[27]=h):h=e[27],h}function K(e){return Math.max(1,e-1)}function U(e){return t.jsxs("article",{className:"group rounded-lg border bg-white p-4 shadow-sm transition hover:shadow-md",children:[t.jsx("div",{className:"flex items-start justify-between gap-3",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-md font-semibold text-gray-900",children:S(e.title??"",0,60)}),t.jsx("p",{className:"mt-1 line-clamp-3 text-sm text-gray-500",children:S(e.description??"",0,100)}),t.jsx(B,{className:"my-2",children:T(e.quiz_type)}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"inline-flex items-center gap-1 rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700",children:[t.jsx(J,{className:"h-3 w-3"}),"Tentatives:"," ",e.max_attempts]})}),e.is_mandatory&&t.jsx("span",{className:"inline-flex items-center rounded-full bg-red-100 px-3 py-1 text-xs font-semibold text-red-700",children:"Obligatoire"})]})]})}),e.activity&&t.jsxs("div",{className:"my-3 flex flex-wrap items-center gap-4",children:[e.activity?.start_at&&t.jsxs("div",{className:"text-sm",children:["Début:"," ",D(e.activity?.start_at??"")]}),e.time_limit_minutes&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[t.jsx(F,{className:"h-4 w-4"}),t.jsx("span",{children:I(e.time_limit_minutes)})]})]}),t.jsx("div",{className:"flex-shrink-0 text-right",children:t.jsxs("div",{className:"mt-3 flex items-end gap-2",children:[t.jsxs(L,{href:A(e.slug),className:"inline-flex items-center rounded bg-blue-600 px-3 py-1 text-sm font-medium text-white hover:bg-blue-700",children:[t.jsx(H,{className:"mr-2 h-4 w-4"}),"Commencer"]}),t.jsxs(L,{href:$(e.slug),className:"inline-flex items-center rounded border bg-white px-3 py-1 text-sm font-medium text-gray-700 hover:bg-gray-50",children:[t.jsx(W,{className:"mr-2 h-4 w-4"}),"Détails"]})]})})]},e.id)}export{tt as default};
