import{c as le,u as se,b as ae,r as ne,j as o,a as oe}from"./app-BzXwBPBx.js";import{I as n}from"./form-B-fdkg48.js";import{B as me}from"./button-DpCkL2lj.js";import{S as de}from"./spinner-CIZwnsdn.js";import{I as pe}from"./institut-layouts-CBcyooqb.js";import{u as ce,a as ue}from"./index-CvwxozaB.js";import"./app-BlAWqAGg.js";import"./index-D1DaFm8C.js";import"./index-CmvPZPYG.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./createLucideIcon-BboBuA9R.js";import"./page-banner-CF78MDYO.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-DF2umSuw.js";import"./iconBase-BH9TG5R0.js";import"./arrow-left-AHTPeAno.js";import"./app-logo-icon-C2LaG9_Q.js";import"./divider-B09NDvil.js";import"./avatar-BR3sBMG9.js";import"./index-BWbkfBfC.js";import"./index-BZwf-zK1.js";import"./index-B2cDW95s.js";import"./dropdown-menu-DlZS67It.js";import"./index-VdYImSg5.js";import"./index-CJlYDfk2.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BucdvD4Q.js";import"./index-BRTuzqyl.js";import"./check-BHZKRPmL.js";import"./avatar-fallback-D5NPW7a4.js";import"./use-initials-GDEZD6-s.js";import"./logout-user-Ce_sIJue.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-BkvcRscv.js";import"./index-BtCACXPK.js";import"./index-Vl0f8Y-f.js";import"./index-DMEIf3eg.js";import"./index-BemDBUNW.js";import"./index-CQybyuYf.js";import"./index-B_X-8rh8.js";import"./index-Bfjphteo.js";import"./index-DIHBWcL6.js";import"./index-DD88zi8k.js";import"./index-CwtRjVPi.js";import"./index-DRwoOeWz.js";import"./index-BGGtLgwn.js";import"./index-DXuqG7by.js";import"./index-Bw5qd42G.js";import"./gauge-Cjf8cet3.js";import"./book-open-DAOtQgtK.js";import"./settings-NUZ-cO65.js";import"./x-BWOBLZ9u.js";import"./menu-CWhsNS-k.js";function bt(){const e=le.c(91),{location:a}=se().props,{errors:t}=se().props,l=!!a,G=l?a?.name:"",R=l?a?.address:"",T=l?a?.address_line:"",O=l?a?.city:"",$=l?a?.country:"Togo",k=l?a?.maps_url:"",q=l?a?.latitude:"",z=l?a?.longitude:"";let D;e[0]!==G||e[1]!==R||e[2]!==T||e[3]!==O||e[4]!==$||e[5]!==k||e[6]!==q||e[7]!==z?(D={name:G,address:R,address_line:T,city:O,country:$,maps_url:k,latitude:q,longitude:z},e[0]=G,e[1]=R,e[2]=T,e[3]=O,e[4]=$,e[5]=k,e[6]=q,e[7]=z,e[8]=D):D=e[8];const{data:r,setData:s}=ae(D),[V,te]=ne.useState(!1),re=r.name&&r.address&&r.city&&r.country;let m;if(e[9]!==r||e[10]!==l||e[11]!==a){let i=function(){te(!1)};m=function(ie){ie.preventDefault(),te(!0),l?oe.put(ce(a.id),{...r,_method:"put"},{onFinish:i}):oe.post(ue(),r,{onFinish:i})},e[9]=r,e[10]=l,e[11]=a,e[12]=m}else m=e[12];const H=l?"Modifier l'établissement":"Ajouter un établissement";let d;e[13]!==H?(d=o.jsx("h3",{className:"mb-3 font-bold",children:H}),e[13]=H,e[14]=d):d=e[14];let p;e[15]!==s?(p=i=>s("name",i),e[15]=s,e[16]=p):p=e[16];let c;e[17]!==r.name||e[18]!==t.name||e[19]!==p?(c=o.jsx(n,{label:"Nom",type:"text",value:r.name,placeholder:"Désignation",onChange:p,error:t.name}),e[17]=r.name,e[18]=t.name,e[19]=p,e[20]=c):c=e[20];const J=r.country??"";let u;e[21]!==s?(u=i=>s("country",i),e[21]=s,e[22]=u):u=e[22];let f;e[23]!==t.country||e[24]!==J||e[25]!==u?(f=o.jsx(n,{label:"Pays",type:"text",value:J,placeholder:"Pays",onChange:u,error:t.country}),e[23]=t.country,e[24]=J,e[25]=u,e[26]=f):f=e[26];const K=r.city??"";let g;e[27]!==s?(g=i=>s("city",i),e[27]=s,e[28]=g):g=e[28];let h;e[29]!==t.city||e[30]!==K||e[31]!==g?(h=o.jsx("div",{className:"sm:col-span-2 md:col-span-1",children:o.jsx(n,{label:"Ville",type:"text",value:K,placeholder:"Ville",onChange:g,error:t.city})}),e[29]=t.city,e[30]=K,e[31]=g,e[32]=h):h=e[32];let x;e[33]!==c||e[34]!==f||e[35]!==h?(x=o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[c,f,h]}),e[33]=c,e[34]=f,e[35]=h,e[36]=x):x=e[36];const Q=r.address??"";let y;e[37]!==s?(y=i=>s("address",i),e[37]=s,e[38]=y):y=e[38];let b;e[39]!==t.address||e[40]!==Q||e[41]!==y?(b=o.jsx(n,{type:"text",value:Q,placeholder:"Adresse",label:"Adresse",onChange:y,error:t.address}),e[39]=t.address,e[40]=Q,e[41]=y,e[42]=b):b=e[42];const U=r.address_line??"";let j;e[43]!==s?(j=i=>s("address_line",i),e[43]=s,e[44]=j):j=e[44];let v;e[45]!==t.address_line||e[46]!==U||e[47]!==j?(v=o.jsx(n,{type:"text",value:U,placeholder:"Complément d'adresse",label:"Complément d'adresse",onChange:j,error:t.address_line}),e[45]=t.address_line,e[46]=U,e[47]=j,e[48]=v):v=e[48];let _;e[49]!==b||e[50]!==v?(_=o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[b,v]}),e[49]=b,e[50]=v,e[51]=_):_=e[51];const W=r.latitude??"";let C;e[52]!==s?(C=i=>s("latitude",i),e[52]=s,e[53]=C):C=e[53];let N;e[54]!==t.latitude||e[55]!==W||e[56]!==C?(N=o.jsx(n,{type:"number",value:W,placeholder:"Latitude",label:"Latitude",onChange:C,error:t.latitude}),e[54]=t.latitude,e[55]=W,e[56]=C,e[57]=N):N=e[57];const X=r.longitude??"";let L;e[58]!==s?(L=i=>s("longitude",i),e[58]=s,e[59]=L):L=e[59];let S;e[60]!==t.longitude||e[61]!==X||e[62]!==L?(S=o.jsx(n,{type:"number",value:X,placeholder:"Longitude",label:"Longitude",onChange:L,error:t.longitude}),e[60]=t.longitude,e[61]=X,e[62]=L,e[63]=S):S=e[63];const Y=r.maps_url??"";let F;e[64]!==s?(F=i=>s("maps_url",i),e[64]=s,e[65]=F):F=e[65];let I;e[66]!==t.maps_url||e[67]!==Y||e[68]!==F?(I=o.jsx("div",{className:"sm:col-span-2 md:col-span-1",children:o.jsx(n,{type:"text",value:Y,placeholder:"Lien Google Maps",label:"Lien Google Maps",onChange:F,error:t.maps_url})}),e[66]=t.maps_url,e[67]=Y,e[68]=F,e[69]=I):I=e[69];let P;e[70]!==N||e[71]!==S||e[72]!==I?(P=o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[N,S,I]}),e[70]=N,e[71]=S,e[72]=I,e[73]=P):P=e[73];const Z=V||!re;let A;e[74]!==V?(A=V&&o.jsx(de,{}),e[74]=V,e[75]=A):A=e[75];const ee=l?"Mettre à jour l'établissement":"Ajouter un établissement";let E;e[76]!==Z||e[77]!==A||e[78]!==ee?(E=o.jsxs(me,{type:"submit",className:"btn-primary mt-4 w-full !py-6",tabIndex:4,disabled:Z,children:[A,ee]}),e[76]=Z,e[77]=A,e[78]=ee,e[79]=E):E=e[79];let M;e[80]!==x||e[81]!==_||e[82]!==P||e[83]!==E?(M=o.jsxs("div",{className:"mb-3 grid gap-3",children:[x,_,P,E]}),e[80]=x,e[81]=_,e[82]=P,e[83]=E,e[84]=M):M=e[84];let w;e[85]!==m||e[86]!==M?(w=o.jsx("form",{method:"POST",onSubmit:m,children:M}),e[85]=m,e[86]=M,e[87]=w):w=e[87];let B;return e[88]!==d||e[89]!==w?(B=o.jsx(pe,{title:"Formulaire d'établissement",children:o.jsxs("div",{className:"mx-auto w-full rounded-xl p-5 shadow-sm",children:[d,w]})}),e[88]=d,e[89]=w,e[90]=B):B=e[90],B}export{bt as default};
