import{j as e,R as n,L as x,a as h}from"./app-DeYJtq_f.js";import{G as R}from"./datatable-img-BfEjYLEX.js";import{B as c}from"./button-BcaJHoph.js";import{C as p}from"./checkbox-Bf1W3nly.js";import{D as w,a as b,b as v,c as D,d as F,e as o,f as k,g as d}from"./dropdown-menu-IxUt_7SR.js";import{u as P,T as V,a as T,b as g,c as I,f as j,d as z,e as f,E,g as H,h as A,i as B,j as K}from"./table-CG4uHIJe.js";import{l as L}from"./lexical-headless-D-JFaI1I.js";import{B as G}from"./simple-utility-DSHJJ_tj.js";import{c as O,s as q,e as J,a as Q}from"./index-D-fKvoRm.js";import{m as U}from"./index-DH9SVvWg.js";import{F as W}from"./index-BLr2fv5a.js";import{F as X,a as Y}from"./index-CS6lsQdX.js";import{I as Z}from"./index-C6tUrqH7.js";import{M as _}from"./index-k2eac2c_.js";import{C as $}from"./chevron-down-CJVbiVG4.js";import"./app-BCy0fQWz.js";import"./index-CEnOPdIs.js";import"./index-B11fw4J1.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-CPAp0ZwD.js";import"./index-CRYvoW22.js";import"./index-CPLvIQsZ.js";import"./index-BQl0Ih9O.js";import"./check-BmdHRGGA.js";import"./createLucideIcon-CfblyJan.js";import"./index-BwNBMMTM.js";import"./index-BCH18vAN.js";import"./index-Vxp116jM.js";import"./index-CGIMGQ61.js";import"./index-CRl0w9kv.js";import"./index-Wx2anTsr.js";import"./nodes-BzqbN9Cm.js";import"./file-text-Fm0X-X0E.js";import"./image-BRhtoQCB.js";import"./play-mXUe-sdC.js";import"./index-CMWG4mbA.js";import"./iconBase-C8Bl2Plt.js";const C=[{id:"select",header:({table:s})=>e.jsx(p,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:l=>s.toggleAllPageRowsSelected(!!l),"aria-label":"Sélectionner tout"}),cell:({row:s})=>e.jsx(p,{checked:s.getIsSelected(),onCheckedChange:l=>s.toggleSelected(!!l),"aria-label":"Sélectionner la ligne"}),enableSorting:!1,enableHiding:!1},{accessorKey:"cover_url",header:"Couverture",cell:({row:s})=>e.jsx("div",{className:"h-14 w-14 overflow-hidden rounded-lg border-2 border-gray-300 bg-gray-100",children:e.jsx(R,{url:s.getValue("cover_url")})})},{accessorKey:"title",header:"Titre",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:s.getValue("title")})},{accessorKey:"price",header:"Prix",cell:({row:s})=>e.jsxs("div",{className:"capitalize",children:[parseInt(s.getValue("price")),"F"]})},{accessorKey:"modules",header:"Modules",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:s.getValue("modules").length})},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx("div",{className:"capitalize",children:e.jsx(G,{status:s.getValue("status")})})},{id:"actions",enableHiding:!1,cell:({row:s})=>{const l=s.original;async function m(a){a.preventDefault(),L(l.syllabus??""),setTimeout(()=>{h.get(J(l.slug))},10)}function u(a){a.preventDefault(),confirm("Êtes-vous sûr de vouloir supprimer ce cours ?")&&h.delete(Q.destroy(l.id))}return e.jsxs(w,{children:[e.jsx(b,{asChild:!0,children:e.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Ouvrir"}),e.jsx(E,{})]})}),e.jsxs(v,{align:"end",children:[e.jsx(F,{children:"Actions"}),e.jsx(o,{onClick:()=>navigator.clipboard.writeText(l.title),children:"Copier le titre"}),e.jsx(k,{}),e.jsx(x,{href:q(l.slug),children:e.jsxs(o,{children:["Détails",e.jsx(d,{children:e.jsx(X,{className:"text-blue-500"})})]})}),e.jsx(x,{href:U.index(l.slug),children:e.jsxs(o,{children:["Voir modules",e.jsx(d,{children:e.jsx(Y,{className:"text-blue-500"})})]})}),e.jsxs(o,{onClick:m,children:["Modifier",e.jsx(d,{children:e.jsx(W,{className:"text-blue-500"})})]}),e.jsxs(o,{onClick:u,children:["Supprimer",e.jsx(d,{children:e.jsx(_,{className:"text-red-500"})})]})]})]})}}];function Ae({courses:s}){const[l,m]=n.useState([]),[u,a]=n.useState([]),[S,M]=n.useState({}),[N,y]=n.useState({}),i=P({data:s,columns:C,onSortingChange:m,onColumnFiltersChange:a,getCoreRowModel:K(),getPaginationRowModel:B(),getSortedRowModel:A(),getFilteredRowModel:H(),onColumnVisibilityChange:M,onRowSelectionChange:y,state:{sorting:l,columnFilters:u,columnVisibility:S,rowSelection:N}});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-3 flex flex-col justify-between gap-2 lg:flex-row lg:gap-4",children:[e.jsxs("div",{className:"flex w-full flex-col items-center justify-between gap-4 sm:flex-row",children:[e.jsx("input",{placeholder:"Filtrer par titre...",value:i.getColumn("title")?.getFilterValue()??"",onChange:t=>i.getColumn("title")?.setFilterValue(t.target.value),className:"form-input w-full"}),e.jsxs(w,{children:[e.jsx(b,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:["Colonne ",e.jsx($,{})]})}),e.jsx(v,{align:"end",children:i.getAllColumns().filter(t=>t.getCanHide()).map(t=>e.jsx(D,{className:"capitalize",checked:t.getIsVisible(),onCheckedChange:r=>t.toggleVisibility(!!r),children:t.id},t.id))})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(x,{href:O(),className:"btn-primary bg-cblue flex w-full items-center justify-center !py-1 text-center text-white",children:["Ajouter ",e.jsx(Z,{size:30})]})})]}),e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(V,{children:[e.jsx(T,{children:i.getHeaderGroups().map(t=>e.jsx(g,{children:t.headers.map(r=>e.jsx(I,{children:r.isPlaceholder?null:j(r.column.columnDef.header,r.getContext())},r.id))},t.id))}),e.jsx(z,{children:i.getRowModel().rows?.length?i.getRowModel().rows.map(t=>e.jsx(g,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(r=>e.jsx(f,{children:j(r.column.columnDef.cell,r.getContext())},r.id))},t.id)):e.jsx(g,{children:e.jsx(f,{colSpan:C.length,className:"h-24 text-center",children:"Pas de résultats."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[i.getFilteredSelectedRowModel().rows.length," sur"," ",i.getFilteredRowModel().rows.length," ligne(s) sélectionné(s)."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>i.previousPage(),disabled:!i.getCanPreviousPage(),children:"Précédent"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>i.nextPage(),disabled:!i.getCanNextPage(),children:"Suivant"})]})]})]})}export{C as columns,Ae as default};
