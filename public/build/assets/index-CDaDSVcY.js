import{c as L,u as I,r as C,j as r}from"./app-CjIWy3eH.js";import{I as B,S as F}from"./form-SFwPvtEA.js";import{B as M}from"./button-CExzQmZc.js";import{T as P}from"./teacher-layouts-C060YcPY.js";import{U as z}from"./avatar-fallback-DKyWtIhb.js";import{M as E,P as R}from"./phone-CGMjfNfY.js";import{M as T}from"./map-pin-DvJJ3zcj.js";import{B as $}from"./book-open-DdpCzE5R.js";import"./app-DfLmVDUM.js";import"./index-C4soMqjN.js";import"./index-BnYBuebb.js";import"./utils-AnTb9DBe.js";import"./tasks-gWUZeaAY.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-BCA5NgA9.js";import"./nodes-B8QjlgCe.js";import"./page-banner-IgGXIOfs.js";import"./index-CHnKU68i.js";import"./iconBase-ZLoFHiO_.js";import"./arrow-left-DAnQtW-a.js";import"./createLucideIcon-i13MEz2U.js";import"./app-logo-icon-hvVxL52x.js";import"./divider-D-eLoZ7M.js";import"./profile-svg-Cv26bH6a.js";import"./user-profile-trigger-CmjyThd_.js";import"./avatar-8Q0-AYNg.js";import"./index-OYVf1Zwz.js";import"./index-DnZUlvAx.js";import"./index-Cx1mEBwh.js";import"./dropdown-menu-DUsmAPKS.js";import"./index-aXAQScOB.js";import"./index-CgNbq55-.js";import"./index-CPWTBhsT.js";import"./index-DdCDBdhx.js";import"./index-DIo9abDA.js";import"./index-DLvqQGle.js";import"./check-C6ufmhQW.js";import"./logout-user-BBug3-28.js";import"./spinner-Bb2x751J.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-Bz_ayeBV.js";import"./index-5dwg6Nh6.js";import"./index-DMEIf3eg.js";import"./index-BCspIYgb.js";import"./index-V0aQkvK_.js";import"./index-DtNXQYgP.js";import"./index-D-fKvoRm.js";import"./index-DH9SVvWg.js";import"./index-CJeVcETn.js";import"./index-CU8SWGOj.js";import"./index-51Gsxs9j.js";import"./index-Ba98UH71.js";import"./index-Bwrcs2qz.js";import"./index-DerrCcFj.js";import"./index-Cer0vd8q.js";import"./index-DXT9ONqy.js";import"./index-lBAoiumE.js";import"./index-Di1vi8wQ.js";import"./gauge-au9SJ6qx.js";import"./calendar-Bfdj--jJ.js";import"./message-circle-CqdwJGEq.js";import"./settings-P3TSVHSR.js";import"./x-CvJE1FTX.js";import"./menu-F5M2EXT6.js";import"./use-initials-GDEZD6-s.js";function A({student:e}){const o=`${e.first_name||""} ${e.last_name||""}`.trim()||"Étudiant sans nom",h=(e.first_name?.[0]||"S")+(e.last_name?.[0]||"A");return r.jsxs("div",{className:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white shadow transition hover:shadow-lg",children:[r.jsx("div",{className:"h-20 bg-gradient-to-r from-blue-400 to-blue-500"}),r.jsxs("div",{className:"relative px-4 pb-4",children:[r.jsxs("div",{className:"flex items-end gap-4",children:[r.jsx("div",{className:"-mt-10 flex-shrink-0",children:e.profile_picture_url?r.jsx("img",{src:e.profile_picture_url,alt:o,className:"h-20 w-20 rounded-full border-4 border-white object-cover shadow-sm"}):r.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full border-4 border-white bg-gray-200 text-lg font-semibold text-gray-700 shadow-sm",children:h})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h3",{className:"truncate text-lg font-semibold text-gray-900",children:o}),e.is_active?r.jsx("span",{className:"inline-block rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-800",children:"Actif"}):r.jsx("span",{className:"inline-block rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800",children:"Inactif"})]})]}),r.jsx("div",{className:"my-3 border-t border-gray-200"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.email&&r.jsxs("div",{className:"flex items-start gap-2 truncate",children:[r.jsx(E,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),r.jsx("a",{href:`mailto:${e.email}`,className:"truncate text-blue-600 hover:underline",children:e.email})]}),e.phone_number&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(R,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),r.jsx("span",{children:e.phone_number})]}),(e.city||e.country)&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(T,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),r.jsx("span",{className:"truncate",children:[e.city,e.country].filter(Boolean).join(", ")})]}),e.program&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx($,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),r.jsx("span",{className:"truncate",children:e.program})]}),e.student_code&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(z,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),r.jsx("span",{className:"font-mono text-xs",children:e.student_code})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-1 border-t border-gray-200 pt-3",children:[e.current_level&&r.jsx("span",{className:"inline-block rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:e.current_level}),e.study_mode&&r.jsxs("span",{className:"inline-block rounded-md bg-purple-50 px-2 py-1 text-xs font-medium text-purple-700",children:[e.study_mode==="online"&&"En ligne",e.study_mode==="onsite"&&"Sur site",e.study_mode==="hybrid"&&"Hybride"]}),e.credits&&r.jsxs("span",{className:"inline-block rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700",children:[e.credits," crédits"]})]})]})]})}function sr(){const e=L.c(34),{teacher_students:o,courses:h}=I().props,[s,k]=C.useState(""),[t,S]=C.useState(void 0);let g;if(e[0]!==t||e[1]!==s||e[2]!==o){let i;e[4]!==t?(i=l=>t&&l.course_id!==t?!1:!t||l.course_id===t,e[4]=t,e[5]=i):i=e[5];let _;e[6]!==s?(_=l=>{if(!l)return!1;const w=s.toLowerCase();return(l.first_name||"").toLowerCase().includes(w)||(l.last_name||"").toLowerCase().includes(w)||(l.email||"").toLowerCase().includes(w)||(l.phone_number||"").toLowerCase().includes(w)},e[6]=s,e[7]=_):_=e[7],g=(o||[]).filter(i).map(U).filter(_),e[0]=t,e[1]=s,e[2]=o,e[3]=g}else g=e[3];const a=g;let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=i=>k(i),e[8]=j):j=e[8];let m;e[9]!==s?(m=r.jsx("div",{className:"sm:col-span-2 md:col-span-2",children:r.jsx(B,{label:"",placeholder:"Rechercher par nom, prénom, numéro ou email...",value:s,onChange:j})}),e[9]=s,e[10]=m):m=e[10];let n;e[11]!==h?(n=h.map(O),e[11]=h,e[12]=n):n=e[12];let c;e[13]!==t?(c=t?.toString()??"",e[13]=t,e[14]=c):c=e[14];let y;e[15]===Symbol.for("react.memo_cache_sentinel")?(y=i=>S(Number(i)),e[15]=y):y=e[15];let p;e[16]!==n||e[17]!==c?(p=r.jsx(F,{options:n,label:"",emptyOption:"Filtrer par cours",value:c,onChange:y}),e[16]=n,e[17]=c,e[18]=p):p=e[18];let b;e[19]===Symbol.for("react.memo_cache_sentinel")?(b=r.jsx(M,{onClick:()=>{k(""),S(void 0)},className:"btn-primary mt-2",children:"Réinitialiser"}),e[19]=b):b=e[19];let d;e[20]!==m||e[21]!==p?(d=r.jsxs("div",{className:"grid w-full grid-cols-1 items-center justify-center gap-4 sm:grid-cols-5 md:grid-cols-5",children:[m,p,b]}),e[20]=m,e[21]=p,e[22]=d):d=e[22];let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N=r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes étudiants"}),e[23]=N):N=e[23];let x;e[24]!==a.length?(x=r.jsxs("div",{className:"mb-8",children:[N,r.jsxs("p",{className:"mt-2 text-gray-600",children:["Total :"," ",r.jsx("span",{className:"font-semibold",children:a.length})," ","étudiant(s)"]})]}),e[24]=a.length,e[25]=x):x=e[25];let f;e[26]!==a?(f=a.length>0?r.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.map(q)}):r.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-12 text-center",children:[r.jsx(z,{size:48,className:"mx-auto text-gray-400"}),r.jsx("p",{className:"mt-4 text-lg font-medium text-gray-700",children:"Aucun étudiant trouvé"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Vous n'avez pas encore d'étudiants assignés."})]}),e[26]=a,e[27]=f):f=e[27];let u;e[28]!==x||e[29]!==f?(u=r.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[x,f]}),e[28]=x,e[29]=f,e[30]=u):u=e[30];let v;return e[31]!==u||e[32]!==d?(v=r.jsxs(P,{title:"Liste des étudiants",children:[d,u]}),e[31]=u,e[32]=d,e[33]=v):v=e[33],v}function q(e){return r.jsx(A,{student:e},e.id)}function O(e){return{key:e.id.toString(),value:e.title}}function U(e){return e.student}export{sr as default};
