import{c as ie,u as se,b as ae,r as ne,j as l,a as le}from"./app-DeYJtq_f.js";import{I as n}from"./form-D4lzfrK5.js";import{B as me}from"./button-BcaJHoph.js";import{S as de}from"./spinner-B5HXeZy2.js";import{I as pe}from"./institut-layouts-CfP5o50C.js";import{u as ce,a as ue}from"./index-CvwxozaB.js";import"./app-BCy0fQWz.js";import"./index-CEnOPdIs.js";import"./index-B11fw4J1.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./createLucideIcon-CfblyJan.js";import"./page-banner-C1yrir3H.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-k2eac2c_.js";import"./iconBase-C8Bl2Plt.js";import"./arrow-left-Irc5x4Dh.js";import"./app-logo-icon-CWsD0s5t.js";import"./divider-5bYZGO3M.js";import"./avatar-5JSxo7RZ.js";import"./index-CPAp0ZwD.js";import"./index-CRYvoW22.js";import"./index-Vxp116jM.js";import"./dropdown-menu-IxUt_7SR.js";import"./index-BwNBMMTM.js";import"./index-BCH18vAN.js";import"./index-CGIMGQ61.js";import"./index-BQl0Ih9O.js";import"./index-CRl0w9kv.js";import"./index-Wx2anTsr.js";import"./check-BmdHRGGA.js";import"./avatar-fallback-B4U7h7tJ.js";import"./use-initials-GDEZD6-s.js";import"./index-BtCACXPK.js";import"./index-CsOHd55-.js";import"./index-DMEIf3eg.js";import"./index-B5Wz6g3U.js";import"./index-088ta_6r.js";import"./index-Bfjphteo.js";import"./index-DIHBWcL6.js";import"./index-DD88zi8k.js";import"./index-CwtRjVPi.js";import"./index-DRwoOeWz.js";import"./index-BLr2fv5a.js";import"./index-Y0wxV_16.js";import"./index-BP-R9IBz.js";import"./gauge-CABQgVsA.js";import"./book-open-HnbYJyRm.js";import"./settings-CGmjSwyj.js";import"./log-out-Cg8HsoaD.js";import"./x-gqbQ14sC.js";import"./menu-G3x5lOUn.js";function ft(){const e=ie.c(91),{location:a}=se().props,{errors:t}=se().props,i=!!a,G=i?a?.name:"",R=i?a?.address:"",T=i?a?.address_line:"",O=i?a?.city:"",$=i?a?.country:"Togo",k=i?a?.maps_url:"",q=i?a?.latitude:"",z=i?a?.longitude:"";let D;e[0]!==G||e[1]!==R||e[2]!==T||e[3]!==O||e[4]!==$||e[5]!==k||e[6]!==q||e[7]!==z?(D={name:G,address:R,address_line:T,city:O,country:$,maps_url:k,latitude:q,longitude:z},e[0]=G,e[1]=R,e[2]=T,e[3]=O,e[4]=$,e[5]=k,e[6]=q,e[7]=z,e[8]=D):D=e[8];const{data:o,setData:s}=ae(D),[V,te]=ne.useState(!1),oe=o.name&&o.address&&o.city&&o.country;let m;if(e[9]!==o||e[10]!==i||e[11]!==a){let r=function(){te(!1)};m=function(re){re.preventDefault(),te(!0),i?le.put(ce(a.id),{...o,_method:"put"},{onFinish:r}):le.post(ue(),o,{onFinish:r})},e[9]=o,e[10]=i,e[11]=a,e[12]=m}else m=e[12];const H=i?"Modifier l'établissement":"Ajouter un établissement";let d;e[13]!==H?(d=l.jsx("h3",{className:"mb-3 font-bold",children:H}),e[13]=H,e[14]=d):d=e[14];let p;e[15]!==s?(p=r=>s("name",r),e[15]=s,e[16]=p):p=e[16];let c;e[17]!==o.name||e[18]!==t.name||e[19]!==p?(c=l.jsx(n,{label:"Nom",type:"text",value:o.name,placeholder:"Désignation",onChange:p,error:t.name}),e[17]=o.name,e[18]=t.name,e[19]=p,e[20]=c):c=e[20];const J=o.country??"";let u;e[21]!==s?(u=r=>s("country",r),e[21]=s,e[22]=u):u=e[22];let f;e[23]!==t.country||e[24]!==J||e[25]!==u?(f=l.jsx(n,{label:"Pays",type:"text",value:J,placeholder:"Pays",onChange:u,error:t.country}),e[23]=t.country,e[24]=J,e[25]=u,e[26]=f):f=e[26];const K=o.city??"";let g;e[27]!==s?(g=r=>s("city",r),e[27]=s,e[28]=g):g=e[28];let h;e[29]!==t.city||e[30]!==K||e[31]!==g?(h=l.jsx("div",{className:"sm:col-span-2 md:col-span-1",children:l.jsx(n,{label:"Ville",type:"text",value:K,placeholder:"Ville",onChange:g,error:t.city})}),e[29]=t.city,e[30]=K,e[31]=g,e[32]=h):h=e[32];let x;e[33]!==c||e[34]!==f||e[35]!==h?(x=l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[c,f,h]}),e[33]=c,e[34]=f,e[35]=h,e[36]=x):x=e[36];const Q=o.address??"";let y;e[37]!==s?(y=r=>s("address",r),e[37]=s,e[38]=y):y=e[38];let b;e[39]!==t.address||e[40]!==Q||e[41]!==y?(b=l.jsx(n,{type:"text",value:Q,placeholder:"Adresse",label:"Adresse",onChange:y,error:t.address}),e[39]=t.address,e[40]=Q,e[41]=y,e[42]=b):b=e[42];const U=o.address_line??"";let j;e[43]!==s?(j=r=>s("address_line",r),e[43]=s,e[44]=j):j=e[44];let v;e[45]!==t.address_line||e[46]!==U||e[47]!==j?(v=l.jsx(n,{type:"text",value:U,placeholder:"Complément d'adresse",label:"Complément d'adresse",onChange:j,error:t.address_line}),e[45]=t.address_line,e[46]=U,e[47]=j,e[48]=v):v=e[48];let _;e[49]!==b||e[50]!==v?(_=l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[b,v]}),e[49]=b,e[50]=v,e[51]=_):_=e[51];const W=o.latitude??"";let C;e[52]!==s?(C=r=>s("latitude",r),e[52]=s,e[53]=C):C=e[53];let N;e[54]!==t.latitude||e[55]!==W||e[56]!==C?(N=l.jsx(n,{type:"number",value:W,placeholder:"Latitude",label:"Latitude",onChange:C,error:t.latitude}),e[54]=t.latitude,e[55]=W,e[56]=C,e[57]=N):N=e[57];const X=o.longitude??"";let L;e[58]!==s?(L=r=>s("longitude",r),e[58]=s,e[59]=L):L=e[59];let S;e[60]!==t.longitude||e[61]!==X||e[62]!==L?(S=l.jsx(n,{type:"number",value:X,placeholder:"Longitude",label:"Longitude",onChange:L,error:t.longitude}),e[60]=t.longitude,e[61]=X,e[62]=L,e[63]=S):S=e[63];const Y=o.maps_url??"";let F;e[64]!==s?(F=r=>s("maps_url",r),e[64]=s,e[65]=F):F=e[65];let I;e[66]!==t.maps_url||e[67]!==Y||e[68]!==F?(I=l.jsx("div",{className:"sm:col-span-2 md:col-span-1",children:l.jsx(n,{type:"text",value:Y,placeholder:"Lien Google Maps",label:"Lien Google Maps",onChange:F,error:t.maps_url})}),e[66]=t.maps_url,e[67]=Y,e[68]=F,e[69]=I):I=e[69];let P;e[70]!==N||e[71]!==S||e[72]!==I?(P=l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[N,S,I]}),e[70]=N,e[71]=S,e[72]=I,e[73]=P):P=e[73];const Z=V||!oe;let A;e[74]!==V?(A=V&&l.jsx(de,{}),e[74]=V,e[75]=A):A=e[75];const ee=i?"Mettre à jour l'établissement":"Ajouter un établissement";let E;e[76]!==Z||e[77]!==A||e[78]!==ee?(E=l.jsxs(me,{type:"submit",className:"btn-primary mt-4 w-full !py-6",tabIndex:4,disabled:Z,children:[A,ee]}),e[76]=Z,e[77]=A,e[78]=ee,e[79]=E):E=e[79];let M;e[80]!==x||e[81]!==_||e[82]!==P||e[83]!==E?(M=l.jsxs("div",{className:"mb-3 grid gap-3",children:[x,_,P,E]}),e[80]=x,e[81]=_,e[82]=P,e[83]=E,e[84]=M):M=e[84];let w;e[85]!==m||e[86]!==M?(w=l.jsx("form",{method:"POST",onSubmit:m,children:M}),e[85]=m,e[86]=M,e[87]=w):w=e[87];let B;return e[88]!==d||e[89]!==w?(B=l.jsx(pe,{title:"Formulaire d'établissement",children:l.jsxs("div",{className:"mx-auto w-full rounded-xl p-5 shadow-sm",children:[d,w]})}),e[88]=d,e[89]=w,e[90]=B):B=e[90],B}export{ft as default};
