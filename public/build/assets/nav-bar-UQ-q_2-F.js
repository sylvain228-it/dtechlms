import{c as L,u as A,r as E,j as s,L as o}from"./app-BOmU1wmL.js";import{A as $}from"./app-logo-icon-CK9aNDB_.js";import{P as M,A as B}from"./user-profile-trigger-BYgeGczA.js";import{D as C}from"./divider-BBgeuDb2.js";import{D as O}from"./profile-svg-Bwy5UQEi.js";import{B as T}from"./button-BXeYMGgI.js";import{D as U,a as R,b as X}from"./dropdown-menu-DRIWHMxB.js";import{L as D}from"./logout-user-HcNmiAIC.js";import{i as q,l as F,r as G}from"./index-wHDUIrgA.js";import{i as H}from"./index-DGvaH1zc.js";import{d as J}from"./index-8GFiKN7D.js";import{d as K}from"./index-BhKAPyE2.js";import{U as Q}from"./avatar-fallback-BjXZxSaF.js";import{S as V}from"./settings-Ch-IO4g_.js";import{X as P}from"./x-Cxqud0xV.js";import{c as W}from"./createLucideIcon-DUOuwx2-.js";const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a7 7 0 1 0 10 10",key:"1yuj32"}]],Z=W("Eclipse",Y);function I(){const e=L.c(2);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(o,{href:F(),className:"btn-primary !hover:bg-cblue !hover:text-white !my-1 border border-current !bg-transparent !text-cblue",children:"Se connecter"}),e[0]=c):c=e[0];let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"flex items-center space-x-2",children:[c,s.jsx(o,{href:G(),className:"btn-primary",children:"S'inscrire"})]}),e[1]=r):r=e[1],r}function je(){const e=L.c(41),c=A(),{auth:r}=c.props,[l,S]=E.useState(!1);let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=[{title:"Mes Cours",href:"/"}],e[0]=j):j=e[0];const z=j;let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b={title:"Mon Profil",href:q().url,icon:Q},e[1]=b):b=e[1];let v;e[2]===Symbol.for("react.memo_cache_sentinel")?(v={title:"ParamÃ¨tres",href:H().url,icon:V},e[2]=v):v=e[2];let a;if(e[3]!==r.user){if(a=[b,v],r.user){let t;e[5]!==r.user.account_role?(t=r.user.account_role=="student"?J().url:K().url,e[5]=r.user.account_role,e[6]=t):t=e[6];let i;e[7]!==t?(i={title:"Mon interface",href:t,icon:Z},e[7]=t,e[8]=i):i=e[8],a.push(i)}e[3]=r.user,e[4]=a}else a=e[4];let y;e[9]!==l?(y=function(){S(!l)},e[9]=l,e[10]=y):y=e[10];const n=y;let N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx("div",{className:"flex items-center gap-6",children:s.jsx("div",{className:"order-last p-2 lg:order-first dark:bg-white",children:s.jsx(o,{href:"/",className:"flex items-center gap-2",children:s.jsx($,{className:"h-[30px]"})})})}),e[11]=N):N=e[11];let k;e[12]===Symbol.for("react.memo_cache_sentinel")?(k=z.map(se),e[12]=k):k=e[12];let d;e[13]!==r.user?(d=r.user==null&&s.jsx(I,{}),e[13]=r.user,e[14]=d):d=e[14];let m;e[15]!==d?(m=s.jsxs("div",{className:"hidden lg:flex lg:items-center lg:gap-8",children:[k,d]}),e[15]=d,e[16]=m):m=e[16];let _;e[17]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(B,{}),e[17]=_):_=e[17];let u;e[18]!==r.user||e[19]!==a?(u=r.user!=null&&s.jsx("div",{className:"hidden lg:block",children:s.jsxs(U,{children:[s.jsx(R,{asChild:!0,children:s.jsx(T,{variant:"ghost",className:"size-10 rounded-full p-1",children:s.jsx(M,{user:r.user})})}),s.jsxs(X,{className:"w-56 transition-all duration-300 ease-in-out dark:bg-cdcard",align:"end",children:[s.jsx("div",{children:a.map(t=>{const i=t.icon;return s.jsxs(o,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{S(!1)},children:[s.jsx(i,{size:16}),t.title]},t.href)})}),s.jsx(D,{})]})]})}),e[18]=r.user,e[19]=a,e[20]=u):u=e[20];let x;e[21]!==u?(x=s.jsxs("div",{className:"flex items-center justify-end gap-4",children:[_,u]}),e[21]=u,e[22]=x):x=e[22];let f;e[23]!==r.user||e[24]!==l?(f=l?s.jsx(P,{size:24}):s.jsx("div",{children:r.user==null?s.jsx(O,{}):s.jsx(M,{user:r.user})}),e[23]=r.user,e[24]=l,e[25]=f):f=e[25];let h;e[26]!==n||e[27]!==f?(h=s.jsx("button",{onClick:n,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100 lg:hidden",children:f}),e[26]=n,e[27]=f,e[28]=h):h=e[28];let p;e[29]!==x||e[30]!==h||e[31]!==m?(p=s.jsx("nav",{className:"h-[56px] border-b border-gray-200 bg-white shadow-sm dark:bg-cdcard",children:s.jsx("div",{className:"mx-auto px-4 sm:w-full sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex h-16 items-center justify-between",children:[N,s.jsxs("div",{className:"flex items-center",children:[m,x,h]})]})})}),e[29]=x,e[30]=h,e[31]=m,e[32]=p):p=e[32];let g;e[33]!==r.user||e[34]!==n||e[35]!==l||e[36]!==a?(g=l&&s.jsxs("div",{children:[s.jsx("div",{onClick:n,className:"fixed top-0 z-40 h-full w-full bg-black/50 transition-all duration-300 ease-in-out"}),s.jsxs("div",{className:`fixed right-0 bottom-0 z-50 w-full animate-in gap-4 overflow-y-auto rounded-t-lg bg-white p-4 shadow-lg transition-all duration-300 ease-in-out dark:bg-cdcard ${l?"slide-in-from-bottom":"slide-out-to-bottom"}`,children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:n,className:"rounded-lg p-2",children:s.jsx(P,{size:24})})}),z.map(ee),r.user!=null&&s.jsxs("div",{children:[s.jsx(C,{}),s.jsxs("div",{className:"mb-3 flex items-center gap-3 px-4 py-2",children:[s.jsx(M,{user:r.user}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.user.first_name==null&&r.user.last_name==null?s.jsxs("span",{children:[r.user.first_name," ",r.user.last_name]}):s.jsx("span",{children:r.user.username})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:r.user.email})]})]}),a.map(t=>{const i=t.icon;return s.jsxs(o,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:text-gray-300",onClick:()=>{S(!1)},children:[s.jsx(i,{size:16}),t.title]},t.href)}),s.jsx(D,{})]}),r.user==null&&s.jsxs("div",{children:[s.jsx(C,{}),s.jsx(I,{})]})]})]}),e[33]=r.user,e[34]=n,e[35]=l,e[36]=a,e[37]=g):g=e[37];let w;return e[38]!==p||e[39]!==g?(w=s.jsxs("div",{className:"sticky top-0 right-0 left-0 z-40 sm:z-50",children:[p,g]}),e[38]=p,e[39]=g,e[40]=w):w=e[40],w}function ee(e){return s.jsx(o,{href:e.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-300",children:e.title},e.href)}function se(e){return s.jsx(o,{href:e.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600 dark:text-gray-200",children:e.title},e.href)}export{je as P};
