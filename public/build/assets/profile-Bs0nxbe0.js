import{u as x,j as e,H as l,L as u,a as p}from"./app-klcUL3EL.js";import{e as n}from"./type-BKOnXlFr.js";import{e as h,d as g}from"./index-CwtRjVPi.js";import f from"./assign-user-Ct7g1vYr.js";import j from"./gest-layout-C7-lD8_V.js";import y from"./user-profile-BR_22fPe.js";import"./app-Ci7uHgFL.js";import"./index-CMWG4mbA.js";import"./button-Bh8WI1Ty.js";import"./index-A7wesXx6.js";import"./index-Ds5qzORP.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./input-group-BmzAthWK.js";import"./input-DzuxS5O4.js";import"./spinner-2t8r_D1R.js";import"./createLucideIcon-DknjQr1d.js";import"./search-lzJ3zhHt.js";import"./page-banner-DONW1mv1.js";import"./index-BqTge0le.js";import"./index-BQcbsxov.js";import"./iconBase-BVw07lCS.js";import"./arrow-left-DMV9iy1g.js";import"./profile-svg-BWG5dZ33.js";import"./avatar-BdB_hIma.js";import"./index-C7Q-OePl.js";import"./index-DATr0Fl4.js";import"./index-DkAn70oM.js";import"./dialog-CgQ1vonM.js";import"./index-DTV9AGlb.js";import"./index-qHu87rw-.js";import"./x-DGooslga.js";function m(s){if(!s)return[];if(Array.isArray(s))return s;try{const t=JSON.parse(s);if(Array.isArray(t))return t}catch{}return s.split(",").map(t=>t.trim()).filter(Boolean)}function Y(){const{student:s}=x().props;if(!s)return e.jsxs("div",{children:[e.jsx(l,{title:"Profil étudiant"}),e.jsx("div",{className:"mx-auto mt-12 max-w-4xl rounded-xl border border-gray-100 bg-white p-8 shadow",children:e.jsx("p",{className:"text-center text-gray-600",children:"Aucun étudiant trouvé."})})]});const t=m(s.interests),a=Array.isArray(s.documents)?s.documents:m(s.documents),d=()=>{confirm("Confirmer la suppression de cet étudiant ? Cette action est irréversible.")&&p.post(g(s.id),{_method:"delete"})};return e.jsxs(j,{title:"Profile étudiant",children:[e.jsx(l,{title:`${s.first_name??""} ${s.last_name??""}`}),e.jsx("div",{className:"mx-auto mt-8 mb-12 max-w-5xl",children:e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-6 p-6 md:flex-row",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("div",{className:"h-36 w-36 overflow-hidden rounded-lg border border-gray-200 bg-gray-50",children:s.profile_picture_url?e.jsx("img",{src:s.profile_picture_url,alt:`${s.first_name} ${s.last_name}`,className:"h-full w-full object-cover"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-gray-300",children:e.jsx("svg",{className:"h-16 w-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2a7 7 0 110 14 7 7 0 010-14zm0 16c-5 0-9 2.5-9 5v1h18v-1c0-2.5-4-5-9-5z"})})})}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[s.first_name??""," ",s.last_name??""]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.current_level?n(s.current_level):"—"}),e.jsxs("div",{className:"mt-3 space-y-1 text-sm text-gray-700",children:[s.email&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Email:"," "]}),e.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600",children:s.email})]}),s.phone_number&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Téléphone:"," "]}),e.jsx("a",{href:`tel:${s.phone_number}`,className:"text-blue-600",children:s.phone_number})]}),s.student_code&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Matricule:"," "]}),e.jsx("span",{className:"text-gray-700",children:s.student_code})]})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row",children:[e.jsx("div",{children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:`rounded px-3 py-1 text-sm font-medium ${s.is_active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-700"}`,children:s.is_active?"Actif":"Inactif"})})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(u,{href:h(s.id),className:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-gray-200 ring-inset hover:bg-gray-50",children:"Modifier"}),e.jsx("button",{type:"button",onClick:d,className:"inline-flex items-center gap-2 rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Supprimer"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-700",children:"Infos académiques"}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:e.jsxs("li",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Niveau:"," "]}),s.current_level?n(s.current_level):"—"]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-700",children:"Localisation & Contact"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Adresse:"," "]}),(s.address??"")+(s.postal_code?`, ${s.postal_code}`:"")||"—"]}),e.jsxs("li",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Ville / Pays:"," "]}),(s.city??"")+(s.country?`, ${s.country}`:"")||"—"]}),e.jsxs("li",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Crédits:"," "]}),typeof s.credits=="number"?s.credits:"—"]})]})]})]}),e.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-6",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700",children:"Intérêts"}),t.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(r=>e.jsx("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-700",children:r},r))}):e.jsx("p",{className:"text-sm text-gray-500",children:"Aucun intérêt renseigné."})]}),e.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-6",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700",children:"Contacts d'urgence"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Nom:"," "]}),s.guardian_name??"—"]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Téléphone:"," "]}),s.guardian_phone??"—"]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-800",children:["Email:"," "]}),s.guardian_email??"—"]})]})]}),e.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-6",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700",children:"Documents"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.profile_picture_url&&e.jsx("a",{href:s.profile_picture_url,target:"_blank",rel:"noreferrer",className:"rounded-md bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",children:"Photo"}),s.student_code&&e.jsxs("span",{className:"rounded-md bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-gray-200",children:["Code: ",s.student_code]}),a&&a.length>0?a.map((r,i)=>{const c=typeof r=="string"?r:r.url,o=typeof r=="string"?`Document ${i+1}`:r.name??`Document ${i+1}`;return e.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"rounded-md bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",children:o},i)}):e.jsx("p",{className:"text-sm text-gray-500",children:"Aucun document disponible."})]})]}),s.medical_info&&e.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-6",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700",children:"Informations médicales"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.medical_info})]}),s.user_id===null?e.jsx(f,{studentId:s.id}):e.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-6",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700",children:"Utilisateur associé"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ce profil d'enseignant est actuellement associé à un compte utilisateur sur la plateforme."}),e.jsx("div",{className:"mt-4",children:s.user&&e.jsx(y,{user:s.user})})]})]})]})})})]})}export{Y as default};
