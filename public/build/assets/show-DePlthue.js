import{c as ze,u as He,j as t,L as Te,a as Ae}from"./app-CjIWy3eH.js";import{D as Ee}from"./divider-D-eLoZ7M.js";import{T as Be}from"./teacher-layouts-C060YcPY.js";import{G as Oe}from"./get-html-content-BdtEuv21.js";import{s as Re,h as Ge}from"./tasks-gWUZeaAY.js";import{g as Pe,a as $e}from"./type-DDACwUq3.js";import{f as Ue}from"./utils-AnTb9DBe.js";import{s as Fe}from"./index-D-fKvoRm.js";import{e as Ie,d as Je}from"./index-DH9SVvWg.js";import{a as qe}from"./index-CJeVcETn.js";import{A as Ke}from"./arrow-right-CHjFefCD.js";import"./app-DfLmVDUM.js";import"./page-banner-IgGXIOfs.js";import"./button-CExzQmZc.js";import"./index-C4soMqjN.js";import"./index-BnYBuebb.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-CHnKU68i.js";import"./iconBase-ZLoFHiO_.js";import"./arrow-left-DAnQtW-a.js";import"./createLucideIcon-i13MEz2U.js";import"./app-logo-icon-hvVxL52x.js";import"./profile-svg-Cv26bH6a.js";import"./user-profile-trigger-CmjyThd_.js";import"./avatar-8Q0-AYNg.js";import"./index-OYVf1Zwz.js";import"./index-DnZUlvAx.js";import"./index-Cx1mEBwh.js";import"./avatar-fallback-DKyWtIhb.js";import"./use-initials-GDEZD6-s.js";import"./dropdown-menu-DUsmAPKS.js";import"./index-aXAQScOB.js";import"./index-CgNbq55-.js";import"./index-CPWTBhsT.js";import"./index-DdCDBdhx.js";import"./index-DIo9abDA.js";import"./index-DLvqQGle.js";import"./check-C6ufmhQW.js";import"./logout-user-BBug3-28.js";import"./spinner-Bb2x751J.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-Bz_ayeBV.js";import"./index-5dwg6Nh6.js";import"./index-DMEIf3eg.js";import"./index-BCspIYgb.js";import"./index-V0aQkvK_.js";import"./index-DtNXQYgP.js";import"./index-CU8SWGOj.js";import"./index-51Gsxs9j.js";import"./index-Ba98UH71.js";import"./index-Bwrcs2qz.js";import"./index-DerrCcFj.js";import"./index-Cer0vd8q.js";import"./index-DXT9ONqy.js";import"./index-lBAoiumE.js";import"./index-Di1vi8wQ.js";import"./gauge-au9SJ6qx.js";import"./calendar-Bfdj--jJ.js";import"./message-circle-CqdwJGEq.js";import"./settings-P3TSVHSR.js";import"./x-CvJE1FTX.js";import"./menu-F5M2EXT6.js";import"./lexical-headless-BCA5NgA9.js";import"./nodes-B8QjlgCe.js";function ds(){const e=ze.c(154),{module:s}=He().props;let ee;e[0]!==s.course.slug||e[1]!==s.id?(ee=()=>{confirm("Confirmer la suppression de cette section ?")&&Ae.delete(Je([s.course.slug,s.id]))},e[0]=s.course.slug,e[1]=s.id,e[2]=ee):ee=e[2];const Ne=ee;let te;e[3]!==s.sequences?(te=s.sequences??[],e[3]=s.sequences,e[4]=te):te=e[4];const l=te,r=l.length;let se;e[5]!==l?(se=l.filter(Xe),e[5]=l,e[6]=se):se=e[6];const ve=se.length;let le;e[7]!==l?(le=l.filter(We),e[7]=l,e[8]=le):le=e[8];const _e=le.length;let ie;e[9]!==l?(ie=l.reduce(Qe,0),e[9]=l,e[10]=ie):ie=e[10];const ke=ie;let re;e[11]!==s.course||e[12]!==s.id?(re=s.course?Ie([s.course?.slug??"",s.id]).url:"#",e[11]=s.course,e[12]=s.id,e[13]=re):re=e[13];const we=re,Se=`Module : ${s.title}`;let m;e[14]!==s.course.slug?(m=Fe(s.course.slug),e[14]=s.course.slug,e[15]=m):m=e[15];let a;e[16]!==m?(a=t.jsx(Te,{href:m,className:"text-sm text-blue-600 hover:underline",children:"Cours"}),e[16]=m,e[17]=a):a=e[17];let me;e[18]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("span",{className:"text-sm text-gray-400",children:"/"}),e[18]=me):me=e[18];let o;e[19]!==s.title?(o=t.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:s.title}),e[19]=s.title,e[20]=o):o=e[20];let n;e[21]!==o||e[22]!==a?(n=t.jsxs("div",{className:"flex items-center gap-3",children:[a,me,o]}),e[21]=o,e[22]=a,e[23]=n):n=e[23];const Ce=s.description??"";let c;e[24]!==Ce?(c=Re(Ce,0,100),e[24]=Ce,e[25]=c):c=e[25];let d;e[26]!==c?(d=t.jsx("p",{className:"mt-2 max-w-2xl text-sm text-gray-600",children:c}),e[26]=c,e[27]=d):d=e[27];let x;e[28]!==s.module_type?(x=Pe(s.module_type),e[28]=s.module_type,e[29]=x):x=e[29];let f;e[30]!==x?(f=t.jsxs("span",{className:"inline-flex items-center rounded bg-indigo-50 px-2 py-1 text-xs font-medium text-indigo-700",children:["Type: ",x]}),e[30]=x,e[31]=f):f=e[31];let u;e[32]!==s.modality?(u=$e(s.modality),e[32]=s.modality,e[33]=u):u=e[33];let p;e[34]!==u?(p=t.jsxs("span",{className:"inline-flex items-center rounded bg-sky-50 px-2 py-1 text-xs font-medium text-sky-700",children:["Mode: ",u]}),e[34]=u,e[35]=p):p=e[35];const Me=s.version??1;let h;e[36]!==Me?(h=t.jsxs("span",{className:"inline-flex items-center rounded bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700",children:["Version: ",Me]}),e[36]=Me,e[37]=h):h=e[37];let g;e[38]!==s.is_visible?(g=s.is_visible&&t.jsx("span",{className:"inline-flex items-center rounded bg-green-50 px-2 py-1 text-xs font-medium text-green-700",children:"Visible"}),e[38]=s.is_visible,e[39]=g):g=e[39];let y;e[40]!==s.order?(y=t.jsxs("span",{className:"inline-flex items-center rounded bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700",children:["Ordre: ",s.order]}),e[40]=s.order,e[41]=y):y=e[41];let j;e[42]!==f||e[43]!==p||e[44]!==h||e[45]!==g||e[46]!==y?(j=t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[f,p,h,g,y]}),e[42]=f,e[43]=p,e[44]=h,e[45]=g,e[46]=y,e[47]=j):j=e[47];let b;e[48]!==n||e[49]!==d||e[50]!==j?(b=t.jsxs("div",{children:[n,d,j]}),e[48]=n,e[49]=d,e[50]=j,e[51]=b):b=e[51];let N;e[52]!==we||e[53]!==s.syllabus?(N=t.jsx("button",{onClick:i=>Ge(i,s.syllabus??"",we),className:"rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium hover:bg-gray-50",children:"Modifier"}),e[52]=we,e[53]=s.syllabus,e[54]=N):N=e[54];let v;e[55]!==Ne?(v=t.jsx("button",{onClick:Ne,className:"rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Supprimer"}),e[55]=Ne,e[56]=v):v=e[56];let _;e[57]!==s.course||e[58]!==s.id?(_=s.course?qe.index([s.course.slug,s.id]):"#",e[57]=s.course,e[58]=s.id,e[59]=_):_=e[59];let ae;e[60]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(Ke,{size:18,className:"ml-2"}),e[60]=ae):ae=e[60];let w;e[61]!==_?(w=t.jsxs(Te,{href:_,className:"flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:["Séquences ",ae]}),e[61]=_,e[62]=w):w=e[62];let S;e[63]!==N||e[64]!==v||e[65]!==w?(S=t.jsxs("div",{className:"flex items-center gap-3",children:[N,v,w]}),e[63]=N,e[64]=v,e[65]=w,e[66]=S):S=e[66];let C;e[67]!==b||e[68]!==S?(C=t.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[b,S]}),e[67]=b,e[68]=S,e[69]=C):C=e[69];let oe;e[70]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Description"}),e[70]=oe):oe=e[70];let M;e[71]!==s.description?(M=s.description??t.jsx("span",{className:"text-gray-400",children:"Aucune description fournie."}),e[71]=s.description,e[72]=M):M=e[72];let L;e[73]!==M?(L=t.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[oe,t.jsx("div",{className:"my-3 text-sm text-gray-700",children:M})]}),e[73]=M,e[74]=L):L=e[74];let D;e[75]!==r?(D=t.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Séquences (",r,")"]}),e[75]=r,e[76]=D):D=e[76];const Le=(s.estimated_hours??ke)*60;let V;e[77]!==Le?(V=Ue(Le),e[77]=Le,e[78]=V):V=e[78];let T;e[79]!==V?(T=t.jsxs("div",{className:"text-sm text-gray-500",children:["Durée totale:"," ",V]}),e[79]=V,e[80]=T):T=e[80];let k;e[81]!==D||e[82]!==T?(k=t.jsxs("div",{className:"flex items-center justify-between",children:[D,T]}),e[81]=D,e[82]=T,e[83]=k):k=e[83];let q;e[84]!==s.course.slug||e[85]!==s.id||e[86]!==l?(q=l.length===0?t.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"Aucune séquence pour ce module."}):l.map(i=>t.jsxs("div",{className:"flex items-start gap-4 py-4",children:[t.jsxs("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded bg-gray-100 p-2 text-gray-600",children:[i.sequence_type==="practice"&&t.jsx("svg",{className:"h-full w-full text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M4 6c0-1.1.9-2 2-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm6.5 8.5V9l5 2.75-5 2.75z"})}),i.sequence_type==="project"&&t.jsx("svg",{className:"h-full w-full text-indigo-500",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zm0 6.5L4.24 7 12 3.5 19.76 7 12 8.5zM4 9.5v5.5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9.5L12 14 4 9.5z"})}),["document","text","resource"].includes(i.sequence_type)&&t.jsx("svg",{className:"h-full w-full text-yellow-500",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16l6-3 6 3V4a2 2 0 00-2-2z"})})]}),t.jsx("div",{className:"flex w-full flex-col",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Te,{href:qe.show([s.course?.slug??"",s.id,i.id]),className:"text-sm font-medium text-gray-900 hover:underline",children:i.title}),t.jsx("div",{className:"mt-1 text-xs text-gray-500",children:i.description??""})]}),t.jsxs("div",{className:"text-right text-xs text-gray-500",children:[t.jsxs("div",{className:"font-medium text-gray-900",children:[i.estimated_hours??"-"," ","h"]}),t.jsx("div",{className:"mt-1",children:i.is_visible?t.jsx("span",{className:"inline-flex items-center rounded bg-green-50 px-2 py-1 text-xs font-medium text-green-700",children:"Visible"}):t.jsx("span",{className:"inline-flex items-center rounded bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700",children:"Masqué"})})]})]})})]},i.id)),e[84]=s.course.slug,e[85]=s.id,e[86]=l,e[87]=q):q=e[87];let z;e[88]!==q?(z=t.jsx("div",{className:"mt-4 divide-y",children:q}),e[88]=q,e[89]=z):z=e[89];let H;e[90]!==k||e[91]!==z?(H=t.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[k,z]}),e[90]=k,e[91]=z,e[92]=H):H=e[92];let ne;e[93]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Ee,{}),e[93]=ne):ne=e[93];let A;e[94]!==s.syllabus?(A=s.syllabus&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-800",children:"Contenu du module"}),t.jsx(Oe,{contentHtml:s.syllabus})]}),e[94]=s.syllabus,e[95]=A):A=e[95];let E;e[96]!==A?(E=t.jsx("div",{className:"my-5",children:A}),e[96]=A,e[97]=E):E=e[97];let B;e[98]!==L||e[99]!==H||e[100]!==E?(B=t.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[L,H,ne,E]}),e[98]=L,e[99]=H,e[100]=E,e[101]=B):B=e[101];let ce;e[102]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Statistiques"}),e[102]=ce):ce=e[102];let de;e[103]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("dt",{className:"text-gray-500",children:"Total séquences"}),e[103]=de):de=e[103];let O;e[104]!==r?(O=t.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[de,t.jsx("dd",{className:"font-medium text-gray-900",children:r})]}),e[104]=r,e[105]=O):O=e[105];let xe;e[106]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("dt",{className:"text-gray-500",children:"Visibles"}),e[106]=xe):xe=e[106];let R;e[107]!==ve?(R=t.jsxs("div",{className:"flex items-center justify-between",children:[xe,t.jsx("dd",{className:"font-medium text-gray-900",children:ve})]}),e[107]=ve,e[108]=R):R=e[108];let fe;e[109]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("dt",{className:"text-gray-500",children:"Durée (h)"}),e[109]=fe):fe=e[109];const De=s.estimated_hours??ke;let G;e[110]!==De?(G=t.jsxs("div",{className:"flex items-center justify-between",children:[fe,t.jsx("dd",{className:"font-medium text-gray-900",children:De})]}),e[110]=De,e[111]=G):G=e[111];let ue;e[112]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx("dt",{className:"text-gray-500",children:"Documents"}),e[112]=ue):ue=e[112];let P;e[113]!==_e?(P=t.jsxs("div",{className:"flex items-center justify-between",children:[ue,t.jsx("dd",{className:"font-medium text-gray-900",children:_e})]}),e[113]=_e,e[114]=P):P=e[114];let $;e[115]!==O||e[116]!==R||e[117]!==G||e[118]!==P?($=t.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[ce,t.jsxs("dl",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-600",children:[O,R,G,P]})]}),e[115]=O,e[116]=R,e[117]=G,e[118]=P,e[119]=$):$=e[119];let pe;e[120]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Paramètres"}),e[120]=pe):pe=e[120];let he;e[121]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("span",{className:"font-medium text-gray-800",children:"Visible:"}),e[121]=he):he=e[121];const Ve=s.is_visible?"Oui":"Non";let U;e[122]!==Ve?(U=t.jsxs("li",{children:[he," ",Ve]}),e[122]=Ve,e[123]=U):U=e[123];let ge;e[124]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("span",{className:"font-medium text-gray-800",children:"Ordre:"}),e[124]=ge):ge=e[124];let F;e[125]!==s.order?(F=t.jsxs("li",{children:[ge," ",s.order]}),e[125]=s.order,e[126]=F):F=e[126];let ye;e[127]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("span",{className:"font-medium text-gray-800",children:"Créée:"}),e[127]=ye):ye=e[127];let I;e[128]!==s.created_at?(I=new Date(s.created_at??"").toLocaleString(),e[128]=s.created_at,e[129]=I):I=e[129];let J;e[130]!==I?(J=t.jsxs("li",{children:[ye," ",I]}),e[130]=I,e[131]=J):J=e[131];let je;e[132]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("span",{className:"font-medium text-gray-800",children:"Dernière modification:"}),e[132]=je):je=e[132];let K;e[133]!==s.updated_at?(K=new Date(s.updated_at??"").toLocaleString(),e[133]=s.updated_at,e[134]=K):K=e[134];let Q;e[135]!==K?(Q=t.jsxs("li",{children:[je," ",K]}),e[135]=K,e[136]=Q):Q=e[136];let W;e[137]!==U||e[138]!==F||e[139]!==J||e[140]!==Q?(W=t.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[pe,t.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-gray-600",children:[U,F,J,Q]})]}),e[137]=U,e[138]=F,e[139]=J,e[140]=Q,e[141]=W):W=e[141];let X;e[142]!==$||e[143]!==W?(X=t.jsxs("aside",{className:"space-y-4",children:[$,W]}),e[142]=$,e[143]=W,e[144]=X):X=e[144];let Y;e[145]!==B||e[146]!==X?(Y=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[B,X]}),e[145]=B,e[146]=X,e[147]=Y):Y=e[147];let Z;e[148]!==C||e[149]!==Y?(Z=t.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[C,Y]}),e[148]=C,e[149]=Y,e[150]=Z):Z=e[150];let be;return e[151]!==Se||e[152]!==Z?(be=t.jsx(Be,{title:Se,children:Z}),e[151]=Se,e[152]=Z,e[153]=be):be=e[153],be}function Qe(e,s){return e+(s.estimated_hours??0)}function We(e){return["document","text","resource"].includes(e.sequence_type)}function Xe(e){return e.is_visible==1}export{ds as default};
