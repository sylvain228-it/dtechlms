import{j as e,R as o,L as x,a as N}from"./app-BOmU1wmL.js";import{B as n}from"./button-BXeYMGgI.js";import{C as h}from"./checkbox-BlUpf98t.js";import{D as f,a as w,b as C,c as D,d as k,e as r,f as y,g as m}from"./dropdown-menu-DRIWHMxB.js";import{I as F}from"./input-BasXNOLM.js";import{u as P,T as I,a as T,b as g,c as V,f as p,d as A,e as u,E as H,g as z,h as E,i as B,j as L}from"./table-B7Ziw1w4.js";import{c as K,s as O,e as q,d as G}from"./index-BD3HuK-g.js";import{F as J}from"./index-oCkK5fXa.js";import{F as Q}from"./index-B1OrWbMv.js";import{I as U}from"./index-CrUFx6LV.js";import{M as W}from"./index-fxZgv_cA.js";import{C as X}from"./chevron-down-Cr3D6SAa.js";import"./app-VvtKnDwK.js";import"./index-sq8JxwLA.js";import"./index-CtUadT9n.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-DdNxHDY2.js";import"./index-BdIQ-kbR.js";import"./index-CBdR2yVO.js";import"./index-DTrOkFw6.js";import"./check-D2RIYBP2.js";import"./createLucideIcon-DUOuwx2-.js";import"./index-BwiOEFi6.js";import"./index-XA1OJB6Q.js";import"./index-C6gdkV91.js";import"./index-B-fAkSq4.js";import"./index-1aSE4XS9.js";import"./index-CXwkwjvO.js";import"./index-CMWG4mbA.js";import"./iconBase-CPalTnLO.js";const j=[{id:"select",header:({table:t})=>e.jsx(h,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>t.toggleAllPageRowsSelected(!!i),"aria-label":"Sélectionner tout"}),cell:({row:t})=>e.jsx(h,{checked:t.getIsSelected(),onCheckedChange:i=>t.toggleSelected(!!i),"aria-label":"Sélectionner la ligne"}),enableSorting:!1,enableHiding:!1},{accessorKey:"code",header:"Code",cell:({row:t})=>e.jsx("div",{className:"capitalize",children:t.getValue("code")})},{accessorKey:"name",header:"Nom",cell:({row:t})=>e.jsx("div",{className:"capitalize",children:t.getValue("name")})},{id:"actions",enableHiding:!1,cell:({row:t})=>{const i=t.original;function d(c){c.preventDefault(),confirm("Êtes-vous sûr de vouloir supprimer cette compétence ?")&&N.delete(G(i.code))}return e.jsxs(f,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Ouvrir"}),e.jsx(H,{})]})}),e.jsxs(C,{align:"end",children:[e.jsx(k,{children:"Actions"}),e.jsx(r,{onClick:()=>navigator.clipboard.writeText(i.name),children:"Copier le titre"}),e.jsx(y,{}),e.jsx(x,{href:O(i.code),children:e.jsxs(r,{children:["Détails",e.jsx(m,{children:e.jsx(Q,{className:"text-blue-500"})})]})}),e.jsx(x,{href:q(i.code),children:e.jsxs(r,{children:["Modifier",e.jsx(m,{children:e.jsx(J,{className:"text-blue-500"})})]})}),e.jsxs(r,{onClick:d,children:["Supprimer",e.jsx(m,{children:e.jsx(W,{className:"text-red-500"})})]})]})]})}}];function De({skills:t}){const[i,d]=o.useState([]),[c,b]=o.useState([]),[S,v]=o.useState({}),[M,R]=o.useState({}),l=P({data:t,columns:j,onSortingChange:d,onColumnFiltersChange:b,getCoreRowModel:L(),getPaginationRowModel:B(),getSortedRowModel:E(),getFilteredRowModel:z(),onColumnVisibilityChange:v,onRowSelectionChange:R,state:{sorting:i,columnFilters:c,columnVisibility:S,rowSelection:M}});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-3 flex flex-col justify-between gap-2 lg:flex-row lg:gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[e.jsx(F,{placeholder:"Filtrer par titre...",value:l.getColumn("title")?.getFilterValue()??"",onChange:s=>l.getColumn("title")?.setFilterValue(s.target.value),className:"max-w-sm"}),e.jsxs(f,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:["Colonne ",e.jsx(X,{})]})}),e.jsx(C,{align:"end",children:l.getAllColumns().filter(s=>s.getCanHide()).map(s=>e.jsx(D,{className:"capitalize",checked:s.getIsVisible(),onCheckedChange:a=>s.toggleVisibility(!!a),children:s.id},s.id))})]})]}),e.jsxs(x,{href:K(),className:"btn-primary bg-cblue inline-block !py-2 text-center text-white",children:["Ajouter ",e.jsx(U,{className:"inline-block h-7 w-7"})]})]}),e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(I,{children:[e.jsx(T,{children:l.getHeaderGroups().map(s=>e.jsx(g,{children:s.headers.map(a=>e.jsx(V,{children:a.isPlaceholder?null:p(a.column.columnDef.header,a.getContext())},a.id))},s.id))}),e.jsx(A,{children:l.getRowModel().rows?.length?l.getRowModel().rows.map(s=>e.jsx(g,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(a=>e.jsx(u,{children:p(a.column.columnDef.cell,a.getContext())},a.id))},s.id)):e.jsx(g,{children:e.jsx(u,{colSpan:j.length,className:"h-24 text-center",children:"Pas de résultats."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[l.getFilteredSelectedRowModel().rows.length," sur"," ",l.getFilteredRowModel().rows.length," ligne(s) sélectionné(s)."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:"Précédent"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:"Suivant"})]})]})]})}export{j as columns,De as default};
