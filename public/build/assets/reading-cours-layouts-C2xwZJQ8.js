import{c as ae,r as te,u as oe,j as t,L as P,H as de}from"./app-CjIWy3eH.js";import{A as me}from"./app-logo-icon-hvVxL52x.js";import{D as fe}from"./divider-D-eLoZ7M.js";import{A as xe,a as pe,b as he,c as ue}from"./accordion-DXj4aZdT.js";import{A as ge,a as je}from"./avatar-8Q0-AYNg.js";import{B as be}from"./button-CExzQmZc.js";import{a as ve,b as Ne}from"./dropdown-menu-DUsmAPKS.js";import{U as we,A as ye}from"./avatar-fallback-DKyWtIhb.js";import{s as Ce}from"./tasks-gWUZeaAY.js";import{c as Se}from"./utils-AnTb9DBe.js";import{d as ke}from"./index-5dwg6Nh6.js";import{i as ze,r as Me}from"./index-DMEIf3eg.js";import{D as _e}from"./index-aXAQScOB.js";import{X as se}from"./x-CvJE1FTX.js";import{S as Ie}from"./settings-P3TSVHSR.js";import{L as Ae}from"./log-out-Bz_ayeBV.js";import{M as De}from"./menu-F5M2EXT6.js";import"./app-DfLmVDUM.js";import"./index-OYVf1Zwz.js";import"./index-BnYBuebb.js";import"./index-DnZUlvAx.js";import"./index-CgNbq55-.js";import"./index-DLvqQGle.js";import"./chevron-down-B3Mn7iN-.js";import"./createLucideIcon-i13MEz2U.js";import"./index-Cx1mEBwh.js";import"./index-C4soMqjN.js";import"./check-C6ufmhQW.js";import"./use-initials-GDEZD6-s.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-BCA5NgA9.js";import"./nodes-B8QjlgCe.js";import"./index-BCspIYgb.js";import"./index-V0aQkvK_.js";import"./index-CPWTBhsT.js";import"./index-DdCDBdhx.js";import"./index-DIo9abDA.js";function le(r){const e=ae.c(9),{student:p}=r,h=p?.profile_picture_url??"",u=p?.first_name??"";let l;e[0]!==h||e[1]!==u?(l=t.jsx(ge,{src:h,alt:u}),e[0]=h,e[1]=u,e[2]=l):l=e[2];const c=p?.first_name??"",j=p?.last_name??"";let a;e[3]!==c||e[4]!==j?(a=t.jsx(ye,{first_name:c,last_name:j}),e[3]=c,e[4]=j,e[5]=a):a=e[5];let d;return e[6]!==l||e[7]!==a?(d=t.jsxs(je,{className:"size-8 overflow-hidden rounded-full",children:[l,a]}),e[6]=l,e[7]=a,e[8]=d):d=e[8],d}function bt(r){const e=ae.c(82),{children:p,title:h,modules:u,course:l,sequenceId:c,moduleId:j}=r,[a,d]=te.useState("lg:ml-[400px]");window.addEventListener("resize",function(){window.innerWidth<1024?(o(!1),d("")):window.innerWidth>=1024&&(o(!0),d("lg:ml-[400px]"))});const ne=oe(),{auth:Y}=ne.props,{student:m}=oe().props,[n,f]=te.useState(!1),[i,ce]=te.useState(window.innerWidth>=1024),o=ce;let B;e[0]===Symbol.for("react.memo_cache_sentinel")?(B=[{title:"Mes Cours",href:ze().url}],e[0]=B):B=e[0];const ie=B;let F;e[1]===Symbol.for("react.memo_cache_sentinel")?(F=[{title:"Mon Profil",href:"/profile",icon:we},{title:"Paramètres",href:"/settings",icon:Ie},{title:"Déconnexion",href:"/logout",icon:Ae}],e[1]=F):F=e[1];const re=F;let H;e[2]!==n||e[3]!==f?(H=function(){f(!n)},e[2]=n,e[3]=f,e[4]=H):H=e[4];const g=H;let U;e[5]!==o?(U=function(){window.innerWidth<1024&&o(!1)},e[5]=o,e[6]=U):U=e[6];const R=U;let J;e[7]!==i||e[8]!==o?(J=function(){o(!i),i||window.innerWidth<1024?d(""):d("lg:ml-[400px]")},e[7]=i,e[8]=o,e[9]=J):J=e[9];const b=J;let v;e[10]!==h?(v=t.jsx(de,{title:h}),e[10]=h,e[11]=v):v=e[11];let V;e[12]===Symbol.for("react.memo_cache_sentinel")?(V=ke(),e[12]=V):V=e[12];let X;e[13]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("div",{className:"order-last lg:order-first",children:t.jsx(P,{href:V,className:"flex items-center gap-2",children:t.jsx(me,{className:"h-[30px]"})})}),e[13]=X):X=e[13];let N;e[14]!==b||e[15]!==i?(N=!i&&t.jsx(De,{className:"text-black",onClick:b}),e[14]=b,e[15]=i,e[16]=N):N=e[16];let w;e[17]!==N?(w=t.jsxs("div",{className:"flex gap-6",children:[X,N]}),e[17]=N,e[18]=w):w=e[18];let G;e[19]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("div",{className:"hidden lg:flex lg:items-center lg:gap-8",children:ie.map(Le)}),e[19]=G):G=e[19];let y;e[20]!==Y.user||e[21]!==f||e[22]!==m?(y=Y.user!=null&&t.jsx("div",{className:"hidden lg:block",children:t.jsxs(_e,{children:[t.jsx(ve,{asChild:!0,children:t.jsx(be,{variant:"ghost",className:"size-10 rounded-full p-1",children:t.jsx(le,{student:m})})}),t.jsx(Ne,{className:"w-56 transition-all duration-300 ease-in-out",align:"end",children:t.jsx("div",{children:re.map(s=>{const x=s.icon;return t.jsxs(P,{href:s.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600",onClick:()=>{f(!1)},children:[t.jsx(x,{size:16}),s.title]},s.href)})})})]})}),e[20]=Y.user,e[21]=f,e[22]=m,e[23]=y):y=e[23];let C;e[24]!==n||e[25]!==m?(C=n?t.jsx(se,{size:24}):t.jsx(le,{student:m}),e[24]=n,e[25]=m,e[26]=C):C=e[26];let S;e[27]!==g||e[28]!==C?(S=t.jsx("button",{onClick:g,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100 lg:hidden",children:C}),e[27]=g,e[28]=C,e[29]=S):S=e[29];let k;e[30]!==w||e[31]!==y||e[32]!==S?(k=t.jsx("nav",{className:"h-[56px] border-b border-gray-200 bg-white shadow-sm",children:t.jsx("div",{className:"mx-auto px-4 sm:w-full sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex h-16 items-center justify-between",children:[w,G,y,S]})})}),e[30]=w,e[31]=y,e[32]=S,e[33]=k):k=e[33];let z;e[34]!==g||e[35]!==n||e[36]!==f||e[37]!==m?(z=n&&t.jsxs("div",{children:[t.jsx("div",{onClick:g,className:"fixed top-0 z-40 h-full w-full bg-black/50 transition-all duration-300 ease-in-out"}),t.jsxs("div",{className:`fixed right-0 bottom-0 z-50 w-full animate-in gap-4 overflow-y-auto rounded-t-lg bg-white p-4 shadow-lg transition-all duration-300 ease-in-out ${n?"slide-in-from-bottom":"slide-out-to-bottom"}`,children:[t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:g,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100",children:t.jsx(se,{size:24})})}),ie.map($e),t.jsx(fe,{}),t.jsxs("div",{className:"mb-3 flex items-center gap-3 px-4 py-2",children:[t.jsx(le,{student:m}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Jean Dupont"}),t.jsx("p",{className:"text-xs text-gray-600",children:"jean@example.com"})]})]}),re.map(s=>{const x=s.icon;return t.jsxs(P,{href:s.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600",onClick:()=>{f(!1)},children:[t.jsx(x,{size:16}),s.title]},s.href)})]})]}),e[34]=g,e[35]=n,e[36]=f,e[37]=m,e[38]=z):z=e[38];let M;e[39]!==k||e[40]!==z?(M=t.jsxs("div",{className:"sticky top-0 right-0 left-0 z-40 sm:z-50",children:[k,z]}),e[39]=k,e[40]=z,e[41]=M):M=e[41];let _;e[42]!==o?(_=()=>o(!1),e[42]=o,e[43]=_):_=e[43];const Z=`fixed top-0 left-0 z-50 h-full w-full bg-black/50 transition-all duration-300 ease-in-out sm:top-[56px] sm:z-40 lg:hidden ${i?"visible opacity-100":"invisible opacity-0"}`;let I;e[44]!==_||e[45]!==Z?(I=t.jsx("div",{onClick:_,className:Z}),e[44]=_,e[45]=Z,e[46]=I):I=e[46];const q=`fixed top-0 left-0 z-50 h-full overflow-y-auto border-t border-r bg-white p-6 text-black shadow-sm transition-all duration-300 ease-in-out sm:top-[56px] ${i?"w-full translate-x-0 sm:w-[400px]":"-translate-x-full"}`;let A;e[47]!==l||e[48]!==b||e[49]!==i?(A=i&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("h3",{className:"text-xl font-bold",children:Ce(l.title,0,25)}),t.jsx(se,{size:24,onClick:b})]}),e[47]=l,e[48]=b,e[49]=i,e[50]=A):A=e[50];const ee=j?`module-${j}`:void 0;let D;if(e[51]!==l||e[52]!==R||e[53]!==u||e[54]!==c){let s;e[56]!==l||e[57]!==R||e[58]!==c?(s=x=>t.jsxs(xe,{value:`module-${x.id}`,children:[t.jsx(pe,{children:t.jsxs("div",{children:[t.jsxs("h2",{className:"text-md mb-1 font-bold text-gray-600",children:["Module ",x.order]}),x.title]})}),t.jsx(he,{children:t.jsx("ul",{className:"mt-2 space-y-2",children:x.sequences.map(Q=>t.jsx("li",{className:`p-2 text-sm text-gray-600 hover:text-blue-600 ${c===Q.id?"border-l-2 border-app-blue bg-app-blue/5 font-semibold":""}`,children:t.jsx(P,{href:Me([l.slug,Q.slug]),children:t.jsx("span",{onClick:R,children:Q.title})})},Q.id))})})]},x.id),e[56]=l,e[57]=R,e[58]=c,e[59]=s):s=e[59],D=u.map(s),e[51]=l,e[52]=R,e[53]=u,e[54]=c,e[55]=D}else D=e[55];let $;e[60]!==ee||e[61]!==D?($=t.jsx(ue,{type:"single",collapsible:!0,defaultValue:ee,children:D}),e[60]=ee,e[61]=D,e[62]=$):$=e[62];let L;e[63]!==A||e[64]!==$?(L=t.jsxs("div",{className:"mb-4",children:[A,$]}),e[63]=A,e[64]=$,e[65]=L):L=e[65];let O;e[66]!==q||e[67]!==L?(O=t.jsx("div",{className:q,children:L}),e[66]=q,e[67]=L,e[68]=O):O=e[68];let T;e[69]!==I||e[70]!==O?(T=t.jsxs("div",{children:[I,O]}),e[69]=I,e[70]=O,e[71]=T):T=e[71];let W;e[72]!==a?(W=Se("p-6 transition-all duration-300",a),e[72]=a,e[73]=W):W=e[73];let E;e[74]!==p||e[75]!==W?(E=t.jsx("div",{className:W,children:p}),e[74]=p,e[75]=W,e[76]=E):E=e[76];let K;return e[77]!==M||e[78]!==T||e[79]!==E||e[80]!==v?(K=t.jsxs(t.Fragment,{children:[v,M,T,E]}),e[77]=M,e[78]=T,e[79]=E,e[80]=v,e[81]=K):K=e[81],K}function $e(r){return t.jsx(P,{href:r.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600",children:r.title},r.href)}function Le(r){return t.jsx(P,{href:r.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600",children:r.title},r.href)}export{bt as default};
