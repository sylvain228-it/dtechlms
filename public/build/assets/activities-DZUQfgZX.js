import{c as Ve,r as oe,j as t,L as fe}from"./app-CjIWy3eH.js";import{S as se}from"./form-SFwPvtEA.js";import{o as ce,q as $e,t as Oe,u as Ee,v as ge,a as be}from"./type-DDACwUq3.js";import{b as ye,f as je}from"./utils-AnTb9DBe.js";import{s as ve}from"./index-CU8SWGOj.js";import{X as De}from"./x-CvJE1FTX.js";import{C as le}from"./calendar-Bfdj--jJ.js";import{C as de}from"./clock-DZ4rQcoe.js";import{A as Ne}from"./arrow-right-CHjFefCD.js";import{V as Se,G as Re,M as ze}from"./video-CNDbaVlY.js";import{S as we}from"./search-Dx3AsdWN.js";import{C as Be}from"./chevron-down-B3Mn7iN-.js";import{L as Ge}from"./list-BEo5ViXo.js";import{M as _e}from"./map-pin-DvJJ3zcj.js";import"./app-DfLmVDUM.js";import"./index-CMWG4mbA.js";import"./createLucideIcon-i13MEz2U.js";function xt(i){const e=Ve.c(104),{activities:n}=i;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E={search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""},e[0]=E):E=e[0];const[s,me]=oe.useState(E),[d,xe]=oe.useState("grid"),[c,Ce]=oe.useState(!1);let D;if(e[1]!==n||e[2]!==s.activityType||e[3]!==s.activity_status||e[4]!==s.modality||e[5]!==s.search||e[6]!==s.status||e[7]!==s.visibility){let l;e[9]!==s.activityType||e[10]!==s.activity_status||e[11]!==s.modality||e[12]!==s.search||e[13]!==s.status||e[14]!==s.visibility?(l=r=>{const ne=r.title.toLowerCase().includes(s.search.toLowerCase())||r.description?.toLowerCase().includes(s.search.toLowerCase()),Le=!s.activityType||r.activity_type===s.activityType,Fe=!s.status||r.status===s.status,ke=!s.activity_status||r.activity_status===s.activity_status,Ae=!s.visibility||r.visibility===s.visibility,Me=!s.modality||r.modality===s.modality;return ne&&Le&&Fe&&ke&&Ae&&Me},e[9]=s.activityType,e[10]=s.activity_status,e[11]=s.modality,e[12]=s.search,e[13]=s.status,e[14]=s.visibility,e[15]=l):l=e[15],D=n.filter(l),e[1]=n,e[2]=s.activityType,e[3]=s.activity_status,e[4]=s.modality,e[5]=s.search,e[6]=s.status,e[7]=s.visibility,e[8]=D}else D=e[8];const a=D;let R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=(l,r)=>{me(ne=>({...ne,[l]:r}))},e[16]=R):R=e[16];const O=R;let z;e[17]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{me({search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""})},e[17]=z):z=e[17];const Te=z,o=Object.values(s).some(Ke),he=Je,ue=He,pe=Xe;let B;e[18]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"mb-8 flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendrier des activités"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Gérez et organisez vos activités pédagogiques"})]})}),e[18]=B):B=e[18];let G;e[19]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),e[19]=G):G=e[19];let m;e[20]!==n.length?(m=t.jsxs("div",{children:[G,t.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:n.length})]}),e[20]=n.length,e[21]=m):m=e[21];let q;e[22]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(le,{className:"h-10 w-10 text-blue-100"}),e[22]=q):q=e[22];let x;e[23]!==m?(x=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[m,q]})}),e[23]=m,e[24]=x):x=e[24];let P;e[25]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À venir"}),e[25]=P):P=e[25];let h;e[26]!==n?(h=n.filter(Ie),e[26]=n,e[27]=h):h=e[27];let u;e[28]!==h.length?(u=t.jsxs("div",{children:[P,t.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-600",children:h.length})]}),e[28]=h.length,e[29]=u):u=e[29];let I;e[30]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(de,{className:"h-10 w-10 text-blue-100"}),e[30]=I):I=e[30];let p;e[31]!==u?(p=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[u,I]})}),e[31]=u,e[32]=p):p=e[32];let X;e[33]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En cours"}),e[33]=X):X=e[33];let f;e[34]!==n?(f=n.filter(Pe),e[34]=n,e[35]=f):f=e[35];let g;e[36]!==f.length?(g=t.jsxs("div",{children:[X,t.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:f.length})]}),e[36]=f.length,e[37]=g):g=e[37];let H;e[38]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(Se,{className:"h-10 w-10 text-green-100"}),e[38]=H):H=e[38];let b;e[39]!==g?(b=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[g,H]})}),e[39]=g,e[40]=b):b=e[40];let J;e[41]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Filtrés"}),e[41]=J):J=e[41];let y;e[42]!==a.length?(y=t.jsxs("div",{children:[J,t.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-600",children:a.length})]}),e[42]=a.length,e[43]=y):y=e[43];let K;e[44]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(we,{className:"h-10 w-10 text-purple-100"}),e[44]=K):K=e[44];let j;e[45]!==y?(j=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[y,K]})}),e[45]=y,e[46]=j):j=e[46];let v;e[47]!==p||e[48]!==b||e[49]!==j||e[50]!==x?(v=t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-4",children:[x,p,b,j]}),e[47]=p,e[48]=b,e[49]=j,e[50]=x,e[51]=v):v=e[51];let Q;e[52]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(we,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e[52]=Q):Q=e[52];let U;e[53]===Symbol.for("react.memo_cache_sentinel")?(U=l=>O("search",l.target.value),e[53]=U):U=e[53];let N;e[54]!==s.search?(N=t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[Q,t.jsx("input",{type:"text",placeholder:"Rechercher un événement...",value:s.search,onChange:U,className:"w-full rounded-lg border border-gray-300 bg-gray-50 py-3 pr-4 pl-10 transition-all focus:border-blue-500 focus:bg-white focus:ring-2 focus:ring-blue-200 focus:outline-none"})]})}),e[54]=s.search,e[55]=N):N=e[55];let w;e[56]!==c?(w=()=>Ce(!c),e[56]=c,e[57]=w):w=e[57];const ie=`h-4 w-4 transition-transform ${c?"rotate-180":""}`;let _;e[58]!==ie?(_=t.jsx(Be,{className:ie}),e[58]=ie,e[59]=_):_=e[59];let S;e[60]!==s||e[61]!==o?(S=o&&t.jsx("span",{className:"ml-2 inline-block rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:Object.values(s).filter(qe).length}),e[60]=s,e[61]=o,e[62]=S):S=e[62];let C;e[63]!==w||e[64]!==_||e[65]!==S?(C=t.jsxs("button",{onClick:w,className:"flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50",children:[_,"Filtres avancés",S]}),e[63]=w,e[64]=_,e[65]=S,e[66]=C):C=e[66];let W;e[67]===Symbol.for("react.memo_cache_sentinel")?(W=()=>xe("grid"),e[67]=W):W=e[67];const ae=`rounded-md px-3 py-2 transition-all ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`;let Y;e[68]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Re,{className:"h-5 w-5"}),e[68]=Y):Y=e[68];let T;e[69]!==ae?(T=t.jsx("button",{onClick:W,className:ae,title:"Vue grille",children:Y}),e[69]=ae,e[70]=T):T=e[70];let Z;e[71]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>xe("list"),e[71]=Z):Z=e[71];const re=`rounded-md px-3 py-2 transition-all ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`;let ee;e[72]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Ge,{className:"h-5 w-5"}),e[72]=ee):ee=e[72];let L;e[73]!==re?(L=t.jsx("button",{onClick:Z,className:re,title:"Vue liste",children:ee}),e[73]=re,e[74]=L):L=e[74];let F;e[75]!==T||e[76]!==L?(F=t.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-gray-300 p-1",children:[T,L]}),e[75]=T,e[76]=L,e[77]=F):F=e[77];let k;e[78]!==C||e[79]!==F?(k=t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[C,F]}),e[78]=C,e[79]=F,e[80]=k):k=e[80];let A;e[81]!==c||e[82]!==s.activityType||e[83]!==s.activity_status||e[84]!==s.modality||e[85]!==s.visibility||e[86]!==o?(A=c&&t.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(se,{label:" Type d'événement",value:s.activityType,emptyOption:"Tous les types",options:ce,onChange:l=>O("activityType",l)}),t.jsx(se,{label:"Statut de l'activité",value:s.activity_status,emptyOption:"Tous les statuts d'activité",options:$e,onChange:l=>O("activity_status",l)}),t.jsx(se,{label:"Visibilité",value:s.visibility,emptyOption:"Toutes les visibilités",options:Oe,onChange:l=>O("visibility",l)}),t.jsx(se,{label:"Type de lieu",value:s.modality,emptyOption:"Tous les lieux",options:Ee,onChange:l=>O("modality",l)})]}),o&&t.jsxs("button",{onClick:Te,className:"flex items-center gap-2 rounded-lg border border-red-300 px-4 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50",children:[t.jsx(De,{className:"h-4 w-4"}),"Réinitialiser les filtres"]})]}),e[81]=c,e[82]=s.activityType,e[83]=s.activity_status,e[84]=s.modality,e[85]=s.visibility,e[86]=o,e[87]=A):A=e[87];let M;e[88]!==N||e[89]!==k||e[90]!==A?(M=t.jsxs("div",{className:"mb-8 rounded-xl bg-white p-6 shadow-md",children:[N,k,A]}),e[88]=N,e[89]=k,e[90]=A,e[91]=M):M=e[91];let V;e[92]!==a||e[93]!==o||e[94]!==d?(V=a.length===0?t.jsxs("div",{className:"rounded-xl bg-white p-12 text-center shadow-md",children:[t.jsx(le,{className:"mx-auto mb-4 h-16 w-16 text-gray-300"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Aucun événement trouvé"}),t.jsx("p",{className:"mt-2 text-gray-600",children:o?"Essayez de modifier vos critères de filtrage":"Créez votre premier événement pour commencer"})]}):t.jsxs(t.Fragment,{children:[d==="grid"&&t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(l=>t.jsxs("div",{className:"group overflow-hidden rounded-xl bg-white shadow-md transition-all duration-300 hover:shadow-lg",children:[t.jsx("div",{className:"h-1",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"mb-3 line-clamp-2 text-lg font-semibold text-gray-900 transition-colors group-hover:text-blue-600",children:l.title}),l.description&&t.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-gray-600",children:l.description}),t.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[t.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${ue(l.activity_type)}`,children:ce.find(r=>r.key===l.activity_type)?.value||l.activity_type}),t.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${he(l.status)}`,children:ge(l.activity_status)})]}),t.jsxs("div",{className:"mb-4 space-y-2 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx(le,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:ye(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx(de,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{children:["Durée:"," ",je(l.duration_minutes)]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[pe(l),t.jsx("span",{children:be(l.modality)})]})]}),t.jsx("div",{className:"flex gap-2 pt-4",children:t.jsxs(fe,{href:l.parent_course?ve([l.parent_course?.slug,l.slug]):"#",className:"flex items-center gap-2 font-medium text-blue-600 transition-colors hover:text-blue-800",children:[t.jsx(Ne,{className:"h-4 w-4"}),"Détails"]})})]})]},l.id))}),d==="list"&&t.jsx("div",{className:"space-y-3 overflow-hidden rounded-xl bg-white shadow-md",children:a.map(l=>t.jsxs("div",{className:"group flex items-center justify-between border-b border-gray-200 p-6 transition-colors last:border-b-0 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-4",children:[t.jsx("div",{className:"h-12 w-1 rounded-full",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[t.jsx("h3",{className:"truncate text-base font-semibold text-gray-900 transition-colors group-hover:text-blue-600",children:l.title}),t.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-xs font-semibold whitespace-nowrap ${ue(l.activity_type)}`,children:ce.find(r=>r.key===l.activity_type)?.value||l.activity_type}),t.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-xs font-semibold whitespace-nowrap ${he(l.status)}`,children:ge(l.activity_status)})]}),t.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:ye(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(de,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:je(l.duration_minutes)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[pe(l),t.jsx("span",{children:be(l.modality)})]})]})]})]}),t.jsx("div",{className:"ml-4 flex gap-2",children:t.jsxs(fe,{href:l.parent_course?ve([l.parent_course?.slug,l.slug]):"#",className:"flex items-center gap-2 font-medium text-blue-600 transition-colors hover:text-blue-800",children:[t.jsx(Ne,{className:"h-4 w-4"}),"Détails"]})})]},l.id))})]}),e[92]=a,e[93]=o,e[94]=d,e[95]=V):V=e[95];let $;e[96]!==a.length||e[97]!==o?($=a.length>0&&t.jsx("div",{className:"mt-8 rounded-lg border border-blue-200 bg-blue-50 p-4 text-center",children:t.jsxs("p",{className:"text-sm text-blue-800",children:["Affichage de"," ",t.jsx("span",{className:"font-semibold",children:a.length})," ","activité",a.length>1?"s":""," ",o&&"correspondant aux critères"]})}),e[96]=a.length,e[97]=o,e[98]=$):$=e[98];let te;return e[99]!==v||e[100]!==M||e[101]!==V||e[102]!==$?(te=t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[B,v,M,V,$]})}),e[99]=v,e[100]=M,e[101]=V,e[102]=$,e[103]=te):te=e[103],te}function qe(i){return i!==""}function Pe(i){return i.activity_status==="live"}function Ie(i){return i.status==="scheduled"}function Xe(i){return i.is_synchronous?i.modality==="onsite"?t.jsx(_e,{className:"h-4 w-4 text-orange-500"}):i.modality==="online"?t.jsx(Se,{className:"h-4 w-4 text-blue-500"}):t.jsx(_e,{className:"h-4 w-4 text-purple-500"}):t.jsx(ze,{className:"h-4 w-4 text-gray-500"})}function He(i){switch(i){case"formative":return"text-blue-600 bg-blue-50";case"summative":return"text-purple-600 bg-purple-50";case"certifying":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}}function Je(i){switch(i){case"upcoming":return"bg-blue-100 text-blue-800 border-blue-300";case"ongoing":return"bg-green-100 text-green-800 border-green-300";case"completed":return"bg-gray-100 text-gray-800 border-gray-300";case"canceled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800"}}function Ke(i){return i!==""}export{xt as default};
