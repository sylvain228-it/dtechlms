import{j as e,R as o,a as R}from"./app-CjIWy3eH.js";import{B as n}from"./button-CExzQmZc.js";import{D as h,a as j,b as w,c as S,d as y,e as u,f as D,g as q}from"./dropdown-menu-DUsmAPKS.js";import{I as z}from"./input-yCXFspsm.js";import{u as T,T as F,a as V,b as m,c as P,f as p,d as I,e as x,E as k,g as H,h as A,i as B,j as _}from"./table-ChSHwvVD.js";import{s as E}from"./tasks-gWUZeaAY.js";import{d as K}from"./index-DerrCcFj.js";import{M as O}from"./index-CHnKU68i.js";import f from"./add-answers-dialog-DX1F6pMk.js";import{C as Q}from"./chevron-down-B3Mn7iN-.js";import"./app-DfLmVDUM.js";import"./index-C4soMqjN.js";import"./index-BnYBuebb.js";import"./utils-AnTb9DBe.js";import"./index-aXAQScOB.js";import"./index-OYVf1Zwz.js";import"./index-DnZUlvAx.js";import"./index-CgNbq55-.js";import"./index-Cx1mEBwh.js";import"./index-CPWTBhsT.js";import"./index-DdCDBdhx.js";import"./index-DIo9abDA.js";import"./index-DLvqQGle.js";import"./check-C6ufmhQW.js";import"./createLucideIcon-i13MEz2U.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-BCA5NgA9.js";import"./nodes-B8QjlgCe.js";import"./iconBase-ZLoFHiO_.js";import"./form-SFwPvtEA.js";import"./dialog-fqGBwwd6.js";import"./index-Bqid9ha0.js";import"./x-CvJE1FTX.js";import"./spinner-Bb2x751J.js";import"./index-B6s6UZ6a.js";import"./square-pen-CnxbjeHe.js";const g=[{accessorKey:"order",header:"Ordre",cell:({row:l})=>e.jsx("div",{className:"capitalize",children:l.getValue("order")??"Non ordonner"})},{accessorKey:"answer_text",header:"Réponse",cell:({row:l})=>e.jsx("div",{className:"capitalize",children:E(l.getValue("answer_text"),0,30)})},{accessorKey:"is_correct",header:"Bonne réponse",cell:({row:l})=>e.jsx("div",{className:"capitalize",children:l.getValue("is_correct")==1?"Oui":"Non"})},{id:"actions",enableHiding:!1,cell:({row:l})=>{const s=l.original,a=s.question?.quize?.slug??"";function d(c){c.preventDefault(),confirm("Êtes-vous sûr de vouloir supprimer cette question ?")&&R.delete(K([a,s.question?.id??0,s.id]))}return e.jsxs(h,{children:[e.jsx(j,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Ouvrir"}),e.jsx(k,{})]})}),e.jsxs(w,{align:"end",children:[e.jsx(y,{children:"Actions"}),e.jsx(u,{onClick:()=>navigator.clipboard.writeText(s.answer_text??""),children:"Copier le texte de la réponse"}),e.jsx(D,{}),e.jsxs("div",{className:"flex items-center justify-between gap-2 px-2",children:[e.jsx("h3",{children:"Détails"}),e.jsx(f,{quizId:s.question?.quize?.id??0,title:s.question?.quize?.title??"",response:s,question:s.question??null,triggerTexte:!1,iconSize:20,className:"flex items-center justify-between !py-2 text-center text-app-blue"})]}),e.jsxs(u,{onClick:d,children:["Supprimer",e.jsx(q,{children:e.jsx(O,{className:"text-red-500"})})]})]})]})}}];function De({questAnswers:l,question:s}){const[a,d]=o.useState([]),[c,C]=o.useState([]),[b,v]=o.useState({}),[M,N]=o.useState({}),i=T({data:l,columns:g,onSortingChange:d,onColumnFiltersChange:C,getCoreRowModel:_(),getPaginationRowModel:B(),getSortedRowModel:A(),getFilteredRowModel:H(),onColumnVisibilityChange:v,onRowSelectionChange:N,state:{sorting:a,columnFilters:c,columnVisibility:b,rowSelection:M}});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-3 flex flex-col justify-between gap-2 lg:flex-row lg:gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[e.jsx(z,{placeholder:"Filtrer par réponse...",value:i.getColumn("answer_text")?.getFilterValue()??"",onChange:t=>i.getColumn("answer_text")?.setFilterValue(t.target.value),className:"max-w-sm"}),e.jsxs(h,{children:[e.jsx(j,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:["Colonne ",e.jsx(Q,{})]})}),e.jsx(w,{align:"end",children:i.getAllColumns().filter(t=>t.getCanHide()).map(t=>e.jsx(S,{className:"capitalize",checked:t.getIsVisible(),onCheckedChange:r=>t.toggleVisibility(!!r),children:t.id},t.id))})]})]}),e.jsx(f,{quizId:s.quize?.id??0,title:s.quize?.title??"",question:s??null,className:"btn-primary flex items-center bg-app-blue !py-2 text-center text-white"})]}),e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(F,{children:[e.jsx(V,{children:i.getHeaderGroups().map(t=>e.jsx(m,{children:t.headers.map(r=>e.jsx(P,{children:r.isPlaceholder?null:p(r.column.columnDef.header,r.getContext())},r.id))},t.id))}),e.jsx(I,{children:i.getRowModel().rows?.length?i.getRowModel().rows.map(t=>e.jsx(m,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(r=>e.jsx(x,{children:p(r.column.columnDef.cell,r.getContext())},r.id))},t.id)):e.jsx(m,{children:e.jsx(x,{colSpan:g.length,className:"h-24 text-center",children:"Pas de résultats."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[i.getFilteredSelectedRowModel().rows.length," sur"," ",i.getFilteredRowModel().rows.length," ligne(s) sélectionné(s)."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>i.previousPage(),disabled:!i.getCanPreviousPage(),children:"Précédent"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>i.nextPage(),disabled:!i.getCanNextPage(),children:"Suivant"})]})]})]})}export{g as columns,De as default};
