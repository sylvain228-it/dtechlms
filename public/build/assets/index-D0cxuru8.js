import{c as z,u as D,j as t,L as i,a as F}from"./app-BzXwBPBx.js";import{T as I}from"./teacher-layouts-C7E0jZE8.js";import{I as L,J as T,w as A,K as E}from"./type-DhUEUhhk.js";import{s as J}from"./index-CU8SWGOj.js";import{c as P,a as _,e as $,b as K}from"./index-Ch72Gdeg.js";import{C as B}from"./circle-alert-BO1etdrS.js";import{P as M}from"./plus-B-26VCmn.js";import{E as R}from"./eye-BYN-RAfN.js";import{S as V}from"./square-pen-Ctqm5fCP.js";import{T as q}from"./trash-2-BNIFS4ij.js";import{A as G}from"./arrow-left-AHTPeAno.js";import"./app-BlAWqAGg.js";import"./page-banner-CF78MDYO.js";import"./button-DpCkL2lj.js";import"./index-D1DaFm8C.js";import"./index-CmvPZPYG.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-DF2umSuw.js";import"./iconBase-BH9TG5R0.js";import"./app-logo-icon-C2LaG9_Q.js";import"./user-profile-trigger-Dk_TTr5J.js";import"./sun-D7S3RfEj.js";import"./createLucideIcon-BboBuA9R.js";import"./avatar-BR3sBMG9.js";import"./index-BWbkfBfC.js";import"./index-BZwf-zK1.js";import"./index-B2cDW95s.js";import"./avatar-fallback-D5NPW7a4.js";import"./use-initials-GDEZD6-s.js";import"./divider-B09NDvil.js";import"./profile-svg-DwoHoZ6q.js";import"./dropdown-menu-DlZS67It.js";import"./index-VdYImSg5.js";import"./index-CJlYDfk2.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BucdvD4Q.js";import"./index-BRTuzqyl.js";import"./check-BHZKRPmL.js";import"./logout-user-Ce_sIJue.js";import"./spinner-CIZwnsdn.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-BkvcRscv.js";import"./index-Vl0f8Y-f.js";import"./index-DMEIf3eg.js";import"./index-BemDBUNW.js";import"./index-CQybyuYf.js";import"./index-B_X-8rh8.js";import"./index-D-fKvoRm.js";import"./index-BGGtLgwn.js";import"./index-DXuqG7by.js";import"./gauge-Cjf8cet3.js";import"./calendar-BjFjFj4e.js";import"./book-open-DAOtQgtK.js";import"./settings-NUZ-cO65.js";import"./x-BWOBLZ9u.js";import"./menu-CWhsNS-k.js";import"./index-DH9SVvWg.js";import"./index-CJeVcETn.js";import"./index-BD3HuK-g.js";import"./index-C4OL-TuX.js";import"./index-Bwrcs2qz.js";import"./index-DerrCcFj.js";import"./index-DqzhMcYD.js";function ot(){const e=z.c(39),{activity:r,criterias:l}=D().props;let g;e[0]!==r.slug?(g=s=>{window.confirm("Êtes-vous sûr de vouloir supprimer ce critère?")&&F.delete(K([r.slug,s]))},e[0]=r.slug,e[1]=g):g=e[1];const f=g,C=`Critères d'évaluation - ${r.title}`;let m;e[2]!==r.slug?(m=J([r.slug,""]),e[2]=r.slug,e[3]=m):m=e[3];let a;e[4]!==r.title||e[5]!==m?(a=t.jsx(i,{href:m,className:"text-sm text-blue-600 hover:underline",children:r.title}),e[4]=r.title,e[5]=m,e[6]=a):a=e[6];let b,y;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("span",{className:"text-gray-400",children:"/"}),y=t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Critères d'évaluation"}),e[7]=b,e[8]=y):(b=e[7],y=e[8]);let o;e[9]!==a?(o=t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a,b,y]}),e[9]=a,e[10]=o):o=e[10];let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Critères d'évaluation"}),e[11]=j):j=e[11];const S=l.length!==1?"s":"",k=l.length!==1?"s":"";let n;e[12]!==l.length||e[13]!==S||e[14]!==k?(n=t.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[l.length," critère",S," créé",k]}),e[12]=l.length,e[13]=S,e[14]=k,e[15]=n):n=e[15];let d;e[16]!==n||e[17]!==o?(d=t.jsxs("div",{children:[o,j,n]}),e[16]=n,e[17]=o,e[18]=d):d=e[18];let N;e[19]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsxs(i,{onClick:H,className:"inline-flex items-center gap-2 rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium hover:bg-gray-50",children:[t.jsx(G,{className:"h-4 w-4"}),"Retour"]}),e[19]=N):N=e[19];let x;e[20]!==r.slug?(x=P(r.slug),e[20]=r.slug,e[21]=x):x=e[21];let v;e[22]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(M,{className:"h-4 w-4"}),e[22]=v):v=e[22];let p;e[23]!==x?(p=t.jsxs("div",{className:"flex w-full items-center gap-2 md:w-auto",children:[N,t.jsxs(i,{href:x,className:"inline-flex w-full items-center justify-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 md:w-auto",children:[v,"Ajouter un critère"]})]}),e[23]=x,e[24]=p):p=e[24];let c;e[25]!==d||e[26]!==p?(c=t.jsxs("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[d,p]}),e[25]=d,e[26]=p,e[27]=c):c=e[27];let h;e[28]!==r.note_unit||e[29]!==r.slug||e[30]!==l||e[31]!==f?(h=l.length===0?t.jsxs("div",{className:"rounded-lg border border-dashed border-gray-300 bg-gray-50 p-12 text-center",children:[t.jsx(B,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Aucun critère d'évaluation"}),t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Commencez par créer votre premier critère d'évaluation."}),t.jsxs(i,{href:P(r.slug),className:"mt-4 inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[t.jsx(M,{className:"h-4 w-4"}),"Créer le premier critère"]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden overflow-x-auto rounded-lg border border-gray-200 shadow-sm md:block",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"border-b bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Criterium"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Méthode"}),t.jsx("th",{className:"px-6 py-3 text-center text-sm font-semibold text-gray-700",children:"Pondération"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Statut"}),t.jsx("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:l.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:s.title}),s.description&&t.jsx("p",{className:"line-clamp-1 text-sm text-gray-500",children:s.description})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"inline-block rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:L(s.criterion_type)})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:T(s.evaluation_method)}),t.jsxs("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:[s.weight,"%"]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-block rounded-full px-2 py-1 text-xs font-medium ${E(s.status)}`,children:A(s.status)})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(i,{href:_([r.slug,s.id]),className:"inline-flex items-center gap-1 rounded-md border border-gray-200 px-2 py-1 text-sm hover:bg-gray-50",title:"Voir les détails",children:t.jsx(R,{className:"h-4 w-4"})}),t.jsx(i,{href:$([r.slug,s.id]),className:"inline-flex items-center gap-1 rounded-md border border-gray-200 px-2 py-1 text-sm hover:bg-gray-50",title:"Modifier",children:t.jsx(V,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>f(s.id),className:"inline-flex items-center gap-1 rounded-md border border-red-200 px-2 py-1 text-sm text-red-600 hover:bg-red-50",title:"Supprimer",children:t.jsx(q,{className:"h-4 w-4"})})]})})]},s.id))})]})}),t.jsx("div",{className:"space-y-3 md:hidden",children:l.map(s=>t.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 pr-2",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:s.title}),s.description&&t.jsx("p",{className:"line-clamp-1 text-xs text-gray-500",children:s.description})]}),t.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium whitespace-nowrap ${E(s.status)}`,children:A(s.status)})]}),t.jsxs("div",{className:"mb-3 flex gap-2",children:[t.jsx("span",{className:"inline-block rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:L(s.criterion_type)}),t.jsx("span",{className:"inline-block rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700",children:T(s.evaluation_method)}),t.jsxs("span",{className:"inline-block rounded-full bg-purple-50 px-2 py-1 text-xs font-medium text-purple-700",children:["Poids: ",s.weight,r.note_unit]})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsxs(i,{href:_([r.slug,s.id]),className:"inline-flex items-center gap-1 rounded-md border border-gray-200 px-2 py-1 text-xs hover:bg-gray-50",children:[t.jsx(R,{className:"h-3 w-3"}),"Voir"]}),t.jsxs(i,{href:$([r.slug,s.id]),className:"inline-flex items-center gap-1 rounded-md border border-gray-200 px-2 py-1 text-xs hover:bg-gray-50",children:[t.jsx(V,{className:"h-3 w-3"}),"Éditer"]})]}),t.jsxs("button",{onClick:()=>f(s.id),className:"inline-flex items-center gap-1 rounded-md border border-red-200 px-2 py-1 text-xs text-red-600 hover:bg-red-50",children:[t.jsx(q,{className:"h-3 w-3"}),"Suppr"]})]})]},s.id))})]}),e[28]=r.note_unit,e[29]=r.slug,e[30]=l,e[31]=f,e[32]=h):h=e[32];let u;e[33]!==c||e[34]!==h?(u=t.jsxs("div",{className:"mx-auto mt-6 max-w-6xl px-4",children:[c,h]}),e[33]=c,e[34]=h,e[35]=u):u=e[35];let w;return e[36]!==C||e[37]!==u?(w=t.jsx(I,{title:C,children:u}),e[36]=C,e[37]=u,e[38]=w):w=e[38],w}function H(){return history.back()}export{ot as default};
