import{r as m,j as n}from"./app-klcUL3EL.js";import{E as p}from"./editor-1mVTiBqv.js";import{c as s}from"./lexical-headless-BoxOyP-N.js";import"./app-Ci7uHgFL.js";import"./nodes-CfCS7w2W.js";import"./tooltip-BfRZZUzk.js";import"./index-C7Q-OePl.js";import"./index-Ds5qzORP.js";import"./index-DATr0Fl4.js";import"./index-DkAn70oM.js";import"./index-qHu87rw-.js";import"./index-BrvB-LOg.js";import"./index-C9hgHX-E.js";import"./index-CNnHLPwR.js";import"./utils-e8IeQt0G.js";import"./content-editable-k0U21XP-.js";import"./createLucideIcon-DknjQr1d.js";import"./dialog-CgQ1vonM.js";import"./index-DTV9AGlb.js";import"./x-DGooslga.js";import"./command-DZlE8gfH.js";import"./search-lzJ3zhHt.js";import"./button-Bh8WI1Ty.js";import"./index-A7wesXx6.js";import"./index-CyaJm5Nq.js";import"./input-DzuxS5O4.js";import"./label-W6XNthsN.js";import"./index-CPeTD8AP.js";import"./index-D7xMndjq.js";import"./popover-YHBFhHiO.js";import"./check-9HY1vcbG.js";import"./trash-C-FiMWHJ.js";import"./separator-Dhwn2oUZ.js";import"./index-Y2kYg-Ir.js";import"./index-CJQLk1SD.js";import"./chevron-up-xXppIf4P.js";import"./chevron-down-BwnMHMwc.js";import"./list-BtZo7ljf.js";import"./image-dVCsMYpd.js";const e={root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}};function X({isNew:o=!1}){const[r,a]=m.useState(()=>{if(typeof window>"u")return e;try{const t=localStorage.getItem(o?"textContentState":"textEditContentState"),i=t?JSON.parse(t):e;return console.log("savedState",i),i.root.children.length===0?e:i}catch{return e}});return m.useEffect(()=>{localStorage.setItem(o?"textContentState":"textEditContentState",JSON.stringify(r)),(async()=>{try{const t=await s(JSON.stringify(r));localStorage.setItem(o?"textHtmlContentState":"textEditHtmlContentState",t)}catch(t){console.error("Failed to convert editor state to HTML",t)}})()},[r,o]),n.jsx(p,{editorSerializedState:r,onSerializedChange:t=>a(t)})}export{X as default,e as initialValue};
