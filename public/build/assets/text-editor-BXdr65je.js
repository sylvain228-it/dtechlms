import{r as m,j as n}from"./app-BzXwBPBx.js";import{E as p}from"./editor-CtaAfrVO.js";import{c as s}from"./lexical-headless-DaF8M3S2.js";import"./app-BlAWqAGg.js";import"./nodes-CSrlFqt9.js";import"./tooltip-4iVuFll3.js";import"./index-BWbkfBfC.js";import"./index-CmvPZPYG.js";import"./index-BZwf-zK1.js";import"./index-B2cDW95s.js";import"./index-BRTuzqyl.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BzRNNGYp.js";import"./utils-e8IeQt0G.js";import"./content-editable-ByXDa-st.js";import"./createLucideIcon-BboBuA9R.js";import"./dialog-BPFiSOET.js";import"./index-ti3WiRrV.js";import"./x-BWOBLZ9u.js";import"./command-DSYCSJsJ.js";import"./search-N_1dfqU-.js";import"./trash-2-BNIFS4ij.js";import"./button-DpCkL2lj.js";import"./index-D1DaFm8C.js";import"./index-CyaJm5Nq.js";import"./input-Dbi88rSi.js";import"./label-D5CJeCuB.js";import"./index-BucdvD4Q.js";import"./index-CJlYDfk2.js";import"./popover-DYCgjmhj.js";import"./check-BHZKRPmL.js";import"./trash-EdiUFurY.js";import"./separator-KQUxJ4_U.js";import"./index-QfX0IA0x.js";import"./index-BtFGMy8Q.js";import"./chevron-up-CefL2SWm.js";import"./chevron-down-eKEbewAb.js";import"./list-DzzLKJvF.js";import"./image-Gtj0aFvc.js";import"./plus-B-26VCmn.js";const e={root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}};function Z({isNew:o=!1}){const[r,a]=m.useState(()=>{if(typeof window>"u")return e;try{const t=localStorage.getItem(o?"textContentState":"textEditContentState"),i=t?JSON.parse(t):e;return console.log("savedState",i),i.root.children.length===0?e:i}catch{return e}});return m.useEffect(()=>{localStorage.setItem(o?"textContentState":"textEditContentState",JSON.stringify(r)),(async()=>{try{const t=await s(JSON.stringify(r));localStorage.setItem(o?"textHtmlContentState":"textEditHtmlContentState",t)}catch(t){console.error("Failed to convert editor state to HTML",t)}})()},[r,o]),n.jsx(p,{editorSerializedState:r,onSerializedChange:t=>a(t)})}export{Z as default,e as initialValue};
