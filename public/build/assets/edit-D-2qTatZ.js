import{c as I,u as F,r as R,b as U,j as r,a as L,H as T}from"./app-BzXwBPBx.js";import{I as P}from"./form-B-fdkg48.js";import{B as V}from"./button-DpCkL2lj.js";import{S as $}from"./spinner-CIZwnsdn.js";import{u as k}from"./index-wHDUIrgA.js";import q from"./user-layout-DNF8Rk4b.js";import"./app-BlAWqAGg.js";import"./index-D1DaFm8C.js";import"./index-CmvPZPYG.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./createLucideIcon-BboBuA9R.js";import"./index-CMWG4mbA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./nav-bar-B-BV3cj0.js";import"./app-logo-icon-C2LaG9_Q.js";import"./user-profile-trigger-Dk_TTr5J.js";import"./sun-D7S3RfEj.js";import"./avatar-BR3sBMG9.js";import"./index-BWbkfBfC.js";import"./index-BZwf-zK1.js";import"./index-B2cDW95s.js";import"./avatar-fallback-D5NPW7a4.js";import"./use-initials-GDEZD6-s.js";import"./divider-B09NDvil.js";import"./profile-svg-DwoHoZ6q.js";import"./dropdown-menu-DlZS67It.js";import"./index-VdYImSg5.js";import"./index-CJlYDfk2.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BucdvD4Q.js";import"./index-BRTuzqyl.js";import"./check-BHZKRPmL.js";import"./logout-user-Ce_sIJue.js";import"./log-out-BkvcRscv.js";import"./index-Vl0f8Y-f.js";import"./index-DMEIf3eg.js";import"./index-BemDBUNW.js";import"./index-CQybyuYf.js";import"./index-B_X-8rh8.js";import"./index-Ch72Gdeg.js";import"./index-D-fKvoRm.js";import"./index-DH9SVvWg.js";import"./index-CJeVcETn.js";import"./index-CU8SWGOj.js";import"./index-BD3HuK-g.js";import"./index-C4OL-TuX.js";import"./index-Bwrcs2qz.js";import"./index-DerrCcFj.js";import"./index-DqzhMcYD.js";import"./settings-NUZ-cO65.js";import"./x-BWOBLZ9u.js";import"./user-page-banner-DeLOck_W.js";import"./index-DF2umSuw.js";import"./iconBase-BH9TG5R0.js";import"./arrow-left-AHTPeAno.js";function Oe(){const e=I.c(40),M=F(),{auth:B}=M.props,v=B.user,[h,C]=R.useState(!1),{errors:i}=F().props,N=v?.first_name??"",y=v?.last_name??"",w=v?.phone_number??"";let x;e[0]!==N||e[1]!==y||e[2]!==w?(x={first_name:N,last_name:y,phone_number:w},e[0]=N,e[1]=y,e[2]=w,e[3]=x):x=e[3];const{data:t,setData:o,reset:E}=U(x);let m;if(e[4]!==t||e[5]!==E){let s=function(){C(!1),E()};m=async function(H){H.preventDefault(),C(!0),await L.put(k(),t,{onFinish:s})},e[4]=t,e[5]=E,e[6]=m}else m=e[6];const D=t.first_name!=""&&t.last_name!=""&&t.phone_number!="";let b,j;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=r.jsx(T,{title:"Modifier le profil"}),j=r.jsx("h1",{className:"mb-4 text-2xl font-semibold",children:"Modifier le profil"}),e[7]=b,e[8]=j):(b=e[7],j=e[8]);let a;e[9]!==o?(a=s=>o("first_name",s),e[9]=o,e[10]=a):a=e[10];let n;e[11]!==t.first_name||e[12]!==i.first_name||e[13]!==a?(n=r.jsx(P,{label:"Prénom",value:t.first_name,onChange:a,error:i.first_name}),e[11]=t.first_name,e[12]=i.first_name,e[13]=a,e[14]=n):n=e[14];let p;e[15]!==o?(p=s=>o("last_name",s),e[15]=o,e[16]=p):p=e[16];let l;e[17]!==t.last_name||e[18]!==i.last_name||e[19]!==p?(l=r.jsx(P,{label:"Nom",value:t.last_name,onChange:p,error:i.last_name}),e[17]=t.last_name,e[18]=i.last_name,e[19]=p,e[20]=l):l=e[20];let f;e[21]!==o?(f=s=>o("phone_number",s),e[21]=o,e[22]=f):f=e[22];let c;e[23]!==t.phone_number||e[24]!==i.phone_number||e[25]!==f?(c=r.jsx(P,{label:"Téléphone",value:t.phone_number,onChange:f,error:i.phone_number}),e[23]=t.phone_number,e[24]=i.phone_number,e[25]=f,e[26]=c):c=e[26];let u;e[27]!==c||e[28]!==n||e[29]!==l?(u=r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n,l,c]}),e[27]=c,e[28]=n,e[29]=l,e[30]=u):u=e[30];const S=h||!D;let _;e[31]!==h?(_=h&&r.jsx($,{}),e[31]=h,e[32]=_):_=e[32];let d;e[33]!==S||e[34]!==_?(d=r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs(V,{type:"submit",disabled:S,className:"btn-primary flex items-center gap-1",children:[_,"Enregistrer"]})})}),e[33]=S,e[34]=_,e[35]=d):d=e[35];let g;return e[36]!==m||e[37]!==u||e[38]!==d?(g=r.jsx(q,{title:"Mise à jour profile",children:r.jsxs("div",{className:"mx-auto max-w-3xl p-4",children:[b,j,r.jsxs("form",{onSubmit:m,className:"space-y-6 rounded-lg bg-white p-6 shadow",children:[u,d]})]})}),e[36]=m,e[37]=u,e[38]=d,e[39]=g):g=e[39],g}export{Oe as default};
