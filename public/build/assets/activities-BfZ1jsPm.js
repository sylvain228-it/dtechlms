import{c as Oe,r as ce,j as t,L as fe}from"./app-BOmU1wmL.js";import{S as se}from"./form-Cdl3Pe45.js";import{B as le}from"./badge-BRg0hAT0.js";import{s as de}from"./tasks-WJQL2uDA.js";import{o as Ee,q as Be,t as De,u as Re,j as be,v as ye,a as ve}from"./type-DDACwUq3.js";import{d as je,f as Ne}from"./utils-e8IeQt0G.js";import{d as we}from"./index-B5Wz6g3U.js";import{X as ze}from"./x-Cxqud0xV.js";import{C as ae}from"./calendar-B0CvDZ_G.js";import{C as me}from"./clock-ghieVZHB.js";import{A as _e}from"./arrow-right-CBOQb_Du.js";import{V as Te,G as Ge,M as qe}from"./video-ivbZ5t5t.js";import{S as Se}from"./search-CS9TKoj2.js";import{C as Pe}from"./chevron-down-Cr3D6SAa.js";import{L as Ie}from"./list-DNO3BUta.js";import{M as ke}from"./map-pin-DZB8YUnN.js";import"./app-VvtKnDwK.js";import"./index-sq8JxwLA.js";import"./index-CtUadT9n.js";import"./index-CyaJm5Nq.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-CJI_HsZI.js";import"./nodes-CImg-T9u.js";import"./createLucideIcon-DUOuwx2-.js";function wt(a){const e=Oe.c(104),{activities:r}=a;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E={search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""},e[0]=E):E=e[0];const[s,xe]=ce.useState(E),[d,he]=ce.useState("grid"),[c,Ce]=ce.useState(!1);let B;if(e[1]!==r||e[2]!==s.activityType||e[3]!==s.activity_status||e[4]!==s.modality||e[5]!==s.search||e[6]!==s.status||e[7]!==s.visibility){let l;e[9]!==s.activityType||e[10]!==s.activity_status||e[11]!==s.modality||e[12]!==s.search||e[13]!==s.status||e[14]!==s.visibility?(l=o=>{const oe=o.title.toLowerCase().includes(s.search.toLowerCase())||o.description?.toLowerCase().includes(s.search.toLowerCase()),Fe=!s.activityType||o.activity_type===s.activityType,Ae=!s.status||o.status===s.status,Me=!s.activity_status||o.activity_status===s.activity_status,Ve=!s.visibility||o.visibility===s.visibility,$e=!s.modality||o.modality===s.modality;return oe&&Fe&&Ae&&Me&&Ve&&$e},e[9]=s.activityType,e[10]=s.activity_status,e[11]=s.modality,e[12]=s.search,e[13]=s.status,e[14]=s.visibility,e[15]=l):l=e[15],B=r.filter(l),e[1]=r,e[2]=s.activityType,e[3]=s.activity_status,e[4]=s.modality,e[5]=s.search,e[6]=s.status,e[7]=s.visibility,e[8]=B}else B=e[8];const i=B;let D;e[16]===Symbol.for("react.memo_cache_sentinel")?(D=(l,o)=>{xe(oe=>({...oe,[l]:o}))},e[16]=D):D=e[16];const O=D;let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{xe({search:"",activityType:"",status:"",activity_status:"",visibility:"",modality:""})},e[17]=R):R=e[17];const Le=R,n=Object.values(s).some(We),pe=Ue,ge=Qe,ue=Ke;let z;e[18]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("div",{className:"mb-8 flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl dark:text-gray-300",children:"Calendrier des activités"}),t.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Gérez et organisez vos activités pédagogiques"})]})}),e[18]=z):z=e[18];let G;e[19]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("p",{className:"text-sm font-medium",children:"Total"}),e[19]=G):G=e[19];let m;e[20]!==r.length?(m=t.jsxs("div",{children:[G,t.jsx("p",{className:"mt-2 text-3xl font-bold",children:r.length})]}),e[20]=r.length,e[21]=m):m=e[21];let q;e[22]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(ae,{className:"h-10 w-10 text-blue-400"}),e[22]=q):q=e[22];let x;e[23]!==m?(x=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[m,q]})}),e[23]=m,e[24]=x):x=e[24];let P;e[25]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-sm font-medium",children:"À venir"}),e[25]=P):P=e[25];let h;e[26]!==r?(h=r.filter(Je),e[26]=r,e[27]=h):h=e[27];let p;e[28]!==h.length?(p=t.jsxs("div",{children:[P,t.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-600",children:h.length})]}),e[28]=h.length,e[29]=p):p=e[29];let I;e[30]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(me,{className:"h-10 w-10 text-blue-400"}),e[30]=I):I=e[30];let g;e[31]!==p?(g=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[p,I]})}),e[31]=p,e[32]=g):g=e[32];let X;e[33]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("p",{className:"text-sm font-medium",children:"En cours"}),e[33]=X):X=e[33];let u;e[34]!==r?(u=r.filter(He),e[34]=r,e[35]=u):u=e[35];let f;e[36]!==u.length?(f=t.jsxs("div",{children:[X,t.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:u.length})]}),e[36]=u.length,e[37]=f):f=e[37];let H;e[38]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(Te,{className:"h-10 w-10 text-green-400"}),e[38]=H):H=e[38];let b;e[39]!==f?(b=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[f,H]})}),e[39]=f,e[40]=b):b=e[40];let J;e[41]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("p",{className:"text-sm font-medium",children:"Filtrés"}),e[41]=J):J=e[41];let y;e[42]!==i.length?(y=t.jsxs("div",{children:[J,t.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-600",children:i.length})]}),e[42]=i.length,e[43]=y):y=e[43];let K;e[44]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Se,{className:"h-10 w-10 text-purple-400"}),e[44]=K):K=e[44];let v;e[45]!==y?(v=t.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg dark:bg-cdcard",children:t.jsxs("div",{className:"flex items-center justify-between",children:[y,K]})}),e[45]=y,e[46]=v):v=e[46];let j;e[47]!==g||e[48]!==b||e[49]!==v||e[50]!==x?(j=t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[x,g,b,v]}),e[47]=g,e[48]=b,e[49]=v,e[50]=x,e[51]=j):j=e[51];let Q;e[52]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Se,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e[52]=Q):Q=e[52];let U;e[53]===Symbol.for("react.memo_cache_sentinel")?(U=l=>O("search",l.target.value),e[53]=U):U=e[53];let N;e[54]!==s.search?(N=t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[Q,t.jsx("input",{type:"text",placeholder:"Rechercher un événement...",value:s.search,onChange:U,className:"w-full rounded-lg border border-gray-300 py-3 pr-4 pl-10 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none dark:border-gray-400"})]})}),e[54]=s.search,e[55]=N):N=e[55];let w;e[56]!==c?(w=()=>Ce(!c),e[56]=c,e[57]=w):w=e[57];const ie=`h-4 w-4 transition-transform ${c?"rotate-180":""}`;let _;e[58]!==ie?(_=t.jsx(Pe,{className:ie}),e[58]=ie,e[59]=_):_=e[59];let S;e[60]!==s||e[61]!==n?(S=n&&t.jsx("span",{className:"ml-2 inline-block rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:Object.values(s).filter(Xe).length}),e[60]=s,e[61]=n,e[62]=S):S=e[62];let k;e[63]!==w||e[64]!==_||e[65]!==S?(k=t.jsxs("button",{onClick:w,className:"flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:text-gray-400",children:[_,"Filtres avancés",S]}),e[63]=w,e[64]=_,e[65]=S,e[66]=k):k=e[66];let W;e[67]===Symbol.for("react.memo_cache_sentinel")?(W=()=>he("grid"),e[67]=W):W=e[67];const re=`rounded-md px-3 py-2 transition-all ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`;let Y;e[68]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Ge,{className:"h-5 w-5"}),e[68]=Y):Y=e[68];let T;e[69]!==re?(T=t.jsx("button",{onClick:W,className:re,title:"Vue grille",children:Y}),e[69]=re,e[70]=T):T=e[70];let Z;e[71]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>he("list"),e[71]=Z):Z=e[71];const ne=`rounded-md px-3 py-2 transition-all ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100 dark:text-gray-400"}`;let ee;e[72]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Ie,{className:"h-5 w-5"}),e[72]=ee):ee=e[72];let C;e[73]!==ne?(C=t.jsx("button",{onClick:Z,className:ne,title:"Vue liste",children:ee}),e[73]=ne,e[74]=C):C=e[74];let L;e[75]!==T||e[76]!==C?(L=t.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-gray-300 p-1",children:[T,C]}),e[75]=T,e[76]=C,e[77]=L):L=e[77];let F;e[78]!==k||e[79]!==L?(F=t.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4",children:[k,L]}),e[78]=k,e[79]=L,e[80]=F):F=e[80];let A;e[81]!==c||e[82]!==s.activityType||e[83]!==s.activity_status||e[84]!==s.modality||e[85]!==s.visibility||e[86]!==n?(A=c&&t.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(se,{label:"Type d'activité",value:s.activityType,emptyOption:"Tous les types",options:Ee,onChange:l=>O("activityType",l)}),t.jsx(se,{label:"Statut de l'activité",value:s.activity_status,emptyOption:"Tous les statuts d'activité",options:Be,onChange:l=>O("activity_status",l)}),t.jsx(se,{label:"Visibilité",value:s.visibility,emptyOption:"Toutes les visibilités",options:De,onChange:l=>O("visibility",l)}),t.jsx(se,{label:"Type de lieu",value:s.modality,emptyOption:"Tous les lieux",options:Re,onChange:l=>O("modality",l)})]}),n&&t.jsxs("button",{onClick:Le,className:"flex items-center gap-2 rounded-lg border border-red-300 px-4 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50",children:[t.jsx(ze,{className:"h-4 w-4"}),"Réinitialiser les filtres"]})]}),e[81]=c,e[82]=s.activityType,e[83]=s.activity_status,e[84]=s.modality,e[85]=s.visibility,e[86]=n,e[87]=A):A=e[87];let M;e[88]!==N||e[89]!==F||e[90]!==A?(M=t.jsxs("div",{className:"mb-8 rounded-xl border border-gray-400 p-6 shadow-md",children:[N,F,A]}),e[88]=N,e[89]=F,e[90]=A,e[91]=M):M=e[91];let V;e[92]!==i||e[93]!==n||e[94]!==d?(V=i.length===0?t.jsxs("div",{className:"rounded-xl p-12 text-center shadow-md",children:[t.jsx(ae,{className:"mx-auto mb-4 h-16 w-16"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Aucun événement trouvé"}),t.jsx("p",{className:"mt-2",children:n?"Essayez de modifier vos critères de filtrage":"Créez votre premier événement pour commencer"})]}):t.jsxs(t.Fragment,{children:[d==="grid"&&t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(l=>t.jsxs("div",{className:"group overflow-hidden rounded-xl bg-white shadow-md transition-all duration-300 hover:shadow-lg dark:bg-cdcard",children:[t.jsx("div",{className:"h-1",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"p-3 sm:p-6",children:[t.jsx("h3",{className:"mb-3 line-clamp-2 text-lg font-semibold text-gray-900 transition-colors group-hover:text-blue-600 dark:text-gray-200",children:l.title}),l.description&&t.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-gray-600 dark:text-gray-300",children:l.description}),t.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[t.jsx(le,{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${ge(l.activity_type)}`,children:de(be(l.activity_type),0,37)}),t.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${pe(l.status)}`,children:ye(l.activity_status)})]}),t.jsxs("div",{className:"mb-4 space-y-2 border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[t.jsx(ae,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:je(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[t.jsx(me,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{children:["Durée:"," ",Ne(l.duration_minutes)]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[ue(l),t.jsx(le,{children:de(ve(l.modality),0,35)})]})]}),t.jsx("div",{className:"flex gap-2 pt-4",children:t.jsxs(fe,{href:we(l.slug),className:"flex items-center gap-2 font-medium text-blue-600 transition-colors hover:text-blue-800",children:[t.jsx(_e,{className:"h-4 w-4"}),"Détails"]})})]})]},l.id))}),d==="list"&&t.jsx("div",{className:"space-y-2 overflow-hidden rounded-xl shadow-md",children:i.map(l=>t.jsxs("div",{className:"group flex flex-col gap-4 border-b border-gray-200 bg-white p-4 transition-colors last:border-b-0 hover:bg-gray-50 sm:p-6 lg:flex-row lg:items-center lg:justify-between dark:bg-cdcard dark:hover:bg-gray-800",children:[t.jsxs("div",{className:"flex flex-1 items-start gap-3 sm:gap-4",children:[t.jsx("div",{className:"h-12 w-1 flex-shrink-0 rounded-full",style:{backgroundColor:"#3B82F6"}}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[t.jsx("h3",{className:"line-clamp-1 text-sm font-semibold text-gray-900 group-hover:text-blue-600 sm:text-base dark:text-gray-200",children:l.title}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(le,{className:`text-xs font-semibold whitespace-nowrap ${ge(l.activity_type)}`,children:de(be(l.activity_type),0,37)}),t.jsx(le,{className:`text-xs font-semibold whitespace-nowrap ${pe(l.status)}`,children:ye(l.activity_status)})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-600 sm:gap-4 sm:text-sm dark:text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.jsx(ae,{className:"h-4 w-4 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1",children:je(l.start_at??"")})]}),l.duration_minutes&&t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.jsx(me,{className:"h-4 w-4 flex-shrink-0"}),t.jsx("span",{children:Ne(l.duration_minutes)})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[ue(l),t.jsx("span",{className:"line-clamp-1",children:ve(l.modality)})]})]})]})]}),t.jsx("div",{className:"flex flex-shrink-0 items-center pt-2 sm:pt-0 lg:ml-4",children:t.jsxs(fe,{href:we(l.slug),className:"flex items-center gap-2 text-sm font-medium whitespace-nowrap text-blue-600 transition-colors hover:text-blue-800 sm:text-base",children:[t.jsx(_e,{className:"h-4 w-4"}),"Détails"]})})]},l.id))})]}),e[92]=i,e[93]=n,e[94]=d,e[95]=V):V=e[95];let $;e[96]!==i.length||e[97]!==n?($=i.length>0&&t.jsx("div",{className:"mt-8 rounded-lg border border-blue-200 bg-blue-50 p-4 text-center dark:bg-blue-200",children:t.jsxs("p",{className:"text-sm text-blue-800",children:["Affichage de"," ",t.jsx("span",{className:"font-semibold",children:i.length})," ","activité",i.length>1?"s":""," ",n&&"correspondant aux critères"]})}),e[96]=i.length,e[97]=n,e[98]=$):$=e[98];let te;return e[99]!==j||e[100]!==M||e[101]!==V||e[102]!==$?(te=t.jsx("div",{className:"min-h-screen py-8",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[z,j,M,V,$]})}),e[99]=j,e[100]=M,e[101]=V,e[102]=$,e[103]=te):te=e[103],te}function Xe(a){return a!==""}function He(a){return a.activity_status==="live"}function Je(a){return a.status==="scheduled"}function Ke(a){return a.is_synchronous?a.modality==="onsite"?t.jsx(ke,{className:"h-4 w-4 text-orange-500"}):a.modality==="online"?t.jsx(Te,{className:"h-4 w-4 text-blue-500"}):t.jsx(ke,{className:"h-4 w-4 text-purple-500"}):t.jsx(qe,{className:"h-4 w-4 text-gray-500"})}function Qe(a){switch(a){case"formative":return"text-blue-600 bg-blue-50";case"summative":return"text-purple-600 bg-purple-50";case"certifying":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}}function Ue(a){switch(a){case"upcoming":return"bg-blue-100 text-blue-800 border-blue-300";case"ongoing":return"bg-green-100 text-green-800 border-green-300";case"completed":return"bg-gray-100 text-gray-800 border-gray-300";case"canceled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800"}}function We(a){return a!==""}export{wt as default};
