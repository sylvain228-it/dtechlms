import{c as z,u as I,r as C,j as t}from"./app-DeYJtq_f.js";import{I as M,S as B}from"./form-D4lzfrK5.js";import{B as F}from"./button-BcaJHoph.js";import{T as P}from"./teacher-layouts-LU79ne-f.js";import{e as T,a as R}from"./type-DDACwUq3.js";import{U as L}from"./avatar-fallback-B4U7h7tJ.js";import{M as $}from"./mail-DrlPzYIP.js";import{P as A}from"./phone-4t29428h.js";import{M as E}from"./map-pin-7J8dEpfM.js";import{B as q}from"./book-open-HnbYJyRm.js";import"./app-BCy0fQWz.js";import"./index-CEnOPdIs.js";import"./index-B11fw4J1.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./page-banner-C1yrir3H.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-k2eac2c_.js";import"./iconBase-C8Bl2Plt.js";import"./arrow-left-Irc5x4Dh.js";import"./createLucideIcon-CfblyJan.js";import"./app-logo-icon-CWsD0s5t.js";import"./user-profile-trigger-Xak7ovX_.js";import"./sun-snLyNwyX.js";import"./avatar-5JSxo7RZ.js";import"./index-CPAp0ZwD.js";import"./index-CRYvoW22.js";import"./index-Vxp116jM.js";import"./divider-5bYZGO3M.js";import"./profile-svg-iVkyBrBD.js";import"./dropdown-menu-IxUt_7SR.js";import"./index-BwNBMMTM.js";import"./index-BCH18vAN.js";import"./index-CGIMGQ61.js";import"./index-BQl0Ih9O.js";import"./index-CRl0w9kv.js";import"./index-Wx2anTsr.js";import"./check-BmdHRGGA.js";import"./logout-user-Ei4iZAgh.js";import"./spinner-B5HXeZy2.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-Cg8HsoaD.js";import"./index-CsOHd55-.js";import"./index-DMEIf3eg.js";import"./index-B5Wz6g3U.js";import"./index-088ta_6r.js";import"./index-BV0lf3jj.js";import"./index-D-fKvoRm.js";import"./index-DH9SVvWg.js";import"./index-CJeVcETn.js";import"./index-CU8SWGOj.js";import"./index-BD3HuK-g.js";import"./index-C4OL-TuX.js";import"./index-Bwrcs2qz.js";import"./index-DerrCcFj.js";import"./index-D_EaEfK3.js";import"./index-BLr2fv5a.js";import"./index-Y0wxV_16.js";import"./gauge-CABQgVsA.js";import"./calendar-JDaLO9Dd.js";import"./settings-CGmjSwyj.js";import"./x-gqbQ14sC.js";import"./menu-G3x5lOUn.js";import"./use-initials-GDEZD6-s.js";function O({student:e}){const o=`${e.first_name||""} ${e.last_name||""}`.trim()||"Étudiant sans nom",h=(e.first_name?.[0]||"S")+(e.last_name?.[0]||"A");return t.jsxs("div",{className:"flex flex-col overflow-hidden rounded-lg border border-gray-200 bg-white shadow transition hover:shadow-lg",children:[t.jsx("div",{className:"h-20 bg-gradient-to-r from-blue-400 to-blue-500"}),t.jsxs("div",{className:"relative px-4 pb-4",children:[t.jsxs("div",{className:"flex items-end gap-4",children:[t.jsx("div",{className:"-mt-10 flex-shrink-0",children:e.profile_picture_url?t.jsx("img",{src:e.profile_picture_url,alt:o,className:"h-20 w-20 rounded-full border-4 border-white object-cover shadow-sm"}):t.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full border-4 border-white bg-gray-200 text-lg font-semibold text-gray-700 shadow-sm",children:h})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h3",{className:"truncate text-lg font-semibold text-gray-900",children:o}),e.is_active?t.jsx("span",{className:"inline-block rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-800",children:"Actif"}):t.jsx("span",{className:"inline-block rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800",children:"Inactif"})]})]}),t.jsx("div",{className:"my-3 border-t border-gray-200"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.email&&t.jsxs("div",{className:"flex items-start gap-2 truncate",children:[t.jsx($,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),t.jsx("a",{href:`mailto:${e.email}`,className:"truncate text-blue-600 hover:underline",children:e.email})]}),e.phone_number&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(A,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),t.jsx("span",{children:e.phone_number})]}),(e.city||e.country)&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(E,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),t.jsx("span",{className:"truncate",children:[e.city,e.country].filter(Boolean).join(", ")})]}),e.program&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(q,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),t.jsx("span",{className:"truncate",children:e.program})]}),e.student_code&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(L,{size:16,className:"mt-0.5 flex-shrink-0 text-gray-400"}),t.jsx("span",{className:"font-mono text-xs",children:e.student_code})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-1 border-t border-gray-200 pt-3",children:[e.current_level&&t.jsx("span",{className:"inline-block rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:T(e.current_level)}),e.study_mode&&t.jsx("span",{className:"inline-block rounded-md bg-purple-50 px-2 py-1 text-xs font-medium text-purple-700",children:R(e.study_mode)})]})]})]})}function it(){const e=z.c(34),{teacher_students:o,courses:h}=I().props,[s,S]=C.useState(""),[r,k]=C.useState(void 0);let g;if(e[0]!==r||e[1]!==s||e[2]!==o){let i;e[4]!==r?(i=l=>r&&l.course_id!==r?!1:!r||l.course_id===r,e[4]=r,e[5]=i):i=e[5];let _;e[6]!==s?(_=l=>{if(!l)return!1;const w=s.toLowerCase();return(l.first_name||"").toLowerCase().includes(w)||(l.last_name||"").toLowerCase().includes(w)||(l.email||"").toLowerCase().includes(w)||(l.phone_number||"").toLowerCase().includes(w)},e[6]=s,e[7]=_):_=e[7],g=(o||[]).filter(i).map(V).filter(_),e[0]=r,e[1]=s,e[2]=o,e[3]=g}else g=e[3];const a=g;let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=i=>S(i),e[8]=j):j=e[8];let m;e[9]!==s?(m=t.jsx("div",{className:"sm:col-span-2 md:col-span-2",children:t.jsx(M,{label:"",placeholder:"Rechercher par nom, prénom, numéro ou email...",value:s,onChange:j})}),e[9]=s,e[10]=m):m=e[10];let n;e[11]!==h?(n=h.map(Q),e[11]=h,e[12]=n):n=e[12];let c;e[13]!==r?(c=r?.toString()??"",e[13]=r,e[14]=c):c=e[14];let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=i=>k(Number(i)),e[15]=b):b=e[15];let p;e[16]!==n||e[17]!==c?(p=t.jsx(B,{options:n,label:"",emptyOption:"Filtrer par cours",value:c,onChange:b}),e[16]=n,e[17]=c,e[18]=p):p=e[18];let y;e[19]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(F,{onClick:()=>{S(""),k(void 0)},className:"btn-primary mt-2",children:"Réinitialiser"}),e[19]=y):y=e[19];let d;e[20]!==m||e[21]!==p?(d=t.jsxs("div",{className:"grid w-full grid-cols-1 items-center justify-center gap-4 sm:grid-cols-5 md:grid-cols-5",children:[m,p,y]}),e[20]=m,e[21]=p,e[22]=d):d=e[22];let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes étudiants"}),e[23]=N):N=e[23];let x;e[24]!==a.length?(x=t.jsxs("div",{className:"mb-8",children:[N,t.jsxs("p",{className:"mt-2 text-gray-600",children:["Total :"," ",t.jsx("span",{className:"font-semibold",children:a.length})," ","étudiant(s)"]})]}),e[24]=a.length,e[25]=x):x=e[25];let f;e[26]!==a?(f=a.length>0?t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.map(U)}):t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-12 text-center",children:[t.jsx(L,{size:48,className:"mx-auto text-gray-400"}),t.jsx("p",{className:"mt-4 text-lg font-medium text-gray-700",children:"Aucun étudiant trouvé"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Vous n'avez pas encore d'étudiants assignés."})]}),e[26]=a,e[27]=f):f=e[27];let u;e[28]!==x||e[29]!==f?(u=t.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[x,f]}),e[28]=x,e[29]=f,e[30]=u):u=e[30];let v;return e[31]!==u||e[32]!==d?(v=t.jsxs(P,{title:"Liste des étudiants",children:[d,u]}),e[31]=u,e[32]=d,e[33]=v):v=e[33],v}function U(e){return t.jsx(O,{student:e},e.id)}function Q(e){return{key:e.id.toString(),value:e.title}}function V(e){return e.student}export{it as default};
