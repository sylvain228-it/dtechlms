import{c as q,r as I,u as O,b as G,j as s,a as J}from"./app-DeYJtq_f.js";import{H as K}from"./heading-small-C7TuZkFA.js";import{I as V}from"./form-D4lzfrK5.js";import{B as Q}from"./button-BcaJHoph.js";import{L as z}from"./label-CEbg4Q6S.js";import{S as U}from"./spinner-B5HXeZy2.js";import{D as W}from"./display-flash-msg-C9eex2W9.js";import{u as X}from"./index-v3lNCs8j.js";import{a as Y,b as Z}from"./index-k2eac2c_.js";import"./app-BCy0fQWz.js";import"./index-CEnOPdIs.js";import"./index-B11fw4J1.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-CRYvoW22.js";import"./createLucideIcon-CfblyJan.js";import"./index-CMWG4mbA.js";import"./iconBase-C8Bl2Plt.js";function ge(){const e=q.c(45),[h,M]=I.useState(!1),{token:B,email:H}=O().props,{errors:r}=O().props,S=H??"",P=B??"";let g;e[0]!==S||e[1]!==P?(g={email:S,token:P,password:"",password_confirmation:""},e[0]=S,e[1]=P,e[2]=g):g=e[2];const{data:t,setData:o,reset:k}=G(g);let i;if(e[3]!==t||e[4]!==k){let w=function(){M(!1),k()};i=async function($){$.preventDefault(),M(!0),await J.post(X(),t,{onFinish:w})},e[3]=t,e[4]=k,e[5]=i}else i=e[5];const L=t.email!=""&&t.token!=""&&t.password!=""&&t.password_confirmation!=""&&t.password==t.password_confirmation,[a,T]=I.useState(!0);let b;e[6]!==a?(b=function(R){R.preventDefault(),T(!a)},e[6]=a,e[7]=b):b=e[7];const C=b;let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j={background:"url(/assets/learn_bg.png) no-repeat center/cover"},e[8]=j):j=e[8];const A=j;let y,_;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(K,{title:"RÃ©initialiser le mot de passe"}),_=s.jsx(W,{}),e[9]=y,e[10]=_):(y=e[9],_=e[10]);let l;e[11]!==t.email?(l=s.jsx("div",{className:"grid gap-2",children:s.jsx(z,{children:t.email})}),e[11]=t.email,e[12]=l):l=e[12];const D=a?"password":"text";let n;e[13]!==o?(n=w=>o("password",w),e[13]=o,e[14]=n):n=e[14];let m;e[15]!==t.password||e[16]!==r.password||e[17]!==D||e[18]!==n?(m=s.jsx("div",{className:"grid gap-2",children:s.jsx(V,{label:"Mot de passe",type:D,value:t.password,onChange:n,placeholder:"Nouveau mot de passe ",error:r.password})}),e[15]=t.password,e[16]=r.password,e[17]=D,e[18]=n,e[19]=m):m=e[19];const F=a?"password":"text";let c;e[20]!==o?(c=w=>o("password_confirmation",w),e[20]=o,e[21]=c):c=e[21];let p;e[22]!==t.password_confirmation||e[23]!==r.password_confirmation||e[24]!==F||e[25]!==c?(p=s.jsx("div",{className:"grid gap-2",children:s.jsx(V,{label:"Confirmation",type:F,value:t.password_confirmation,onChange:c,placeholder:"Confirmer le mot de passe ",error:r.password_confirmation})}),e[22]=t.password_confirmation,e[23]=r.password_confirmation,e[24]=F,e[25]=c,e[26]=p):p=e[26];let v;e[27]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(z,{htmlFor:"",children:"Afficher les mots de passes"}),e[27]=v):v=e[27];let d;e[28]!==a?(d=a?s.jsx(Y,{size:20}):s.jsx(Z,{size:20}),e[28]=a,e[29]=d):d=e[29];let f;e[30]!==C||e[31]!==d?(f=s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[v,s.jsx("button",{className:"px-3",onClick:C,children:d})]}),e[30]=C,e[31]=d,e[32]=f):f=e[32];const E=h||!L;let u;e[33]!==h?(u=h&&s.jsx(U,{}),e[33]=h,e[34]=u):u=e[34];let x;e[35]!==E||e[36]!==u?(x=s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs(Q,{type:"submit",disabled:E,className:"btn-primary flex items-center gap-1",children:[u,"Enregistrer"]})}),e[35]=E,e[36]=u,e[37]=x):x=e[37];let N;return e[38]!==i||e[39]!==m||e[40]!==p||e[41]!==f||e[42]!==x||e[43]!==l?(N=s.jsx("div",{className:"flex min-h-screen items-center justify-center",style:A,children:s.jsxs("div",{className:"w-full max-w-lg bg-white p-8 shadow-md sm:rounded-2xl dark:bg-gray-800",children:[y,_,s.jsxs("form",{onSubmit:i,className:"mt-3 space-y-6 rounded-lg p-6 shadow",children:[l,m,p,f,x]})]})}),e[38]=i,e[39]=m,e[40]=p,e[41]=f,e[42]=x,e[43]=l,e[44]=N):N=e[44],N}export{ge as default};
