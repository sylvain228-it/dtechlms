import{r as u,c as P,j as I}from"./app-CjIWy3eH.js";import{R as Ce,P as Ie,O as Re,b as $e}from"./index-Bqid9ha0.js";import{P as $}from"./index-OYVf1Zwz.js";import{u as K}from"./index-DLvqQGle.js";import{c as z}from"./index-BnYBuebb.js";import{c as O}from"./utils-AnTb9DBe.js";import{S as Ae}from"./search-Dx3AsdWN.js";var pe=1,Me=.9,je=.8,Ne=.17,te=.1,re=.999,De=.9999,Fe=.99,Ke=/[\\\/_+.#"@\[\(\{&]/,Pe=/[\\\/_+.#"@\[\(\{&]/g,Le=/[\s-]/,ge=/[\s-]/g;function le(r,e,t,a,l,o,d){if(o===e.length)return l===r.length?pe:Fe;var m=`${l},${o}`;if(d[m]!==void 0)return d[m];for(var b=a.charAt(o),s=t.indexOf(b,l),v=0,h,S,w,C;s>=0;)h=le(r,e,t,a,s+1,o+1,d),h>v&&(s===l?h*=pe:Ke.test(r.charAt(s-1))?(h*=je,w=r.slice(l,s-1).match(Pe),w&&l>0&&(h*=Math.pow(re,w.length))):Le.test(r.charAt(s-1))?(h*=Me,C=r.slice(l,s-1).match(ge),C&&l>0&&(h*=Math.pow(re,C.length))):(h*=Ne,l>0&&(h*=Math.pow(re,s-l))),r.charAt(s)!==e.charAt(o)&&(h*=De)),(h<te&&t.charAt(s-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&t.charAt(s-1)!==a.charAt(o))&&(S=le(r,e,t,a,s+1,o+2,d),S*te>h&&(h=S*te)),h>v&&(v=h),s=t.indexOf(b,s+1);return d[m]=v,v}function ve(r){return r.toLowerCase().replace(ge," ")}function qe(r,e,t){return r=t&&t.length>0?`${r+" "+t.join(" ")}`:r,le(r,e,ve(r),ve(e),0,0,{})}var V='[cmdk-group=""]',ne='[cmdk-group-items=""]',Ve='[cmdk-group-heading=""]',be='[cmdk-item=""]',he=`${be}:not([aria-disabled="true"])`,ae="cmdk-item-select",D="data-value",ze=(r,e,t)=>qe(r,e,t),xe=u.createContext(void 0),B=()=>u.useContext(xe),ye=u.createContext(void 0),oe=()=>u.useContext(ye),we=u.createContext(void 0),ke=u.forwardRef((r,e)=>{let t=F(()=>{var n,c;return{search:"",value:(c=(n=r.value)!=null?n:r.defaultValue)!=null?c:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=F(()=>new Set),l=F(()=>new Map),o=F(()=>new Map),d=F(()=>new Set),m=Ee(r),{label:b,children:s,value:v,onValueChange:h,filter:S,shouldFilter:w,loop:C,disablePointerSelection:H=!1,vimBindings:A=!0,..._}=r,T=K(),ue=K(),W=K(),M=u.useRef(null),x=Ye();j(()=>{if(v!==void 0){let n=v.trim();t.current.value=n,k.emit()}},[v]),j(()=>{x(6,se)},[]);let k=u.useMemo(()=>({subscribe:n=>(d.current.add(n),()=>d.current.delete(n)),snapshot:()=>t.current,setState:(n,c,f)=>{var i,p,g,E;if(!Object.is(t.current[n],c)){if(t.current[n]=c,n==="search")Q(),X(),x(1,Y);else if(n==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let y=document.getElementById(W);y?y.focus():(i=document.getElementById(T))==null||i.focus()}if(x(7,()=>{var y;t.current.selectedItemId=(y=N())==null?void 0:y.id,k.emit()}),f||x(5,se),((p=m.current)==null?void 0:p.value)!==void 0){let y=c??"";(E=(g=m.current).onValueChange)==null||E.call(g,y);return}}k.emit()}},emit:()=>{d.current.forEach(n=>n())}}),[]),J=u.useMemo(()=>({value:(n,c,f)=>{var i;c!==((i=o.current.get(n))==null?void 0:i.value)&&(o.current.set(n,{value:c,keywords:f}),t.current.filtered.items.set(n,ie(c,f)),x(2,()=>{X(),k.emit()}))},item:(n,c)=>(a.current.add(n),c&&(l.current.has(c)?l.current.get(c).add(n):l.current.set(c,new Set([n]))),x(3,()=>{Q(),X(),t.current.value||Y(),k.emit()}),()=>{o.current.delete(n),a.current.delete(n),t.current.filtered.items.delete(n);let f=N();x(4,()=>{Q(),f?.getAttribute("id")===n&&Y(),k.emit()})}),group:n=>(l.current.has(n)||l.current.set(n,new Set),()=>{o.current.delete(n),l.current.delete(n)}),filter:()=>m.current.shouldFilter,label:b||r["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:T,inputId:W,labelId:ue,listInnerRef:M}),[]);function ie(n,c){var f,i;let p=(i=(f=m.current)==null?void 0:f.filter)!=null?i:ze;return n?p(n,t.current.search,c):0}function X(){if(!t.current.search||m.current.shouldFilter===!1)return;let n=t.current.filtered.items,c=[];t.current.filtered.groups.forEach(i=>{let p=l.current.get(i),g=0;p.forEach(E=>{let y=n.get(E);g=Math.max(y,g)}),c.push([i,g])});let f=M.current;q().sort((i,p)=>{var g,E;let y=i.getAttribute("id"),G=p.getAttribute("id");return((g=n.get(G))!=null?g:0)-((E=n.get(y))!=null?E:0)}).forEach(i=>{let p=i.closest(ne);p?p.appendChild(i.parentElement===p?i:i.closest(`${ne} > *`)):f.appendChild(i.parentElement===f?i:i.closest(`${ne} > *`))}),c.sort((i,p)=>p[1]-i[1]).forEach(i=>{var p;let g=(p=M.current)==null?void 0:p.querySelector(`${V}[${D}="${encodeURIComponent(i[0])}"]`);g?.parentElement.appendChild(g)})}function Y(){let n=q().find(f=>f.getAttribute("aria-disabled")!=="true"),c=n?.getAttribute(D);k.setState("value",c||void 0)}function Q(){var n,c,f,i;if(!t.current.search||m.current.shouldFilter===!1){t.current.filtered.count=a.current.size;return}t.current.filtered.groups=new Set;let p=0;for(let g of a.current){let E=(c=(n=o.current.get(g))==null?void 0:n.value)!=null?c:"",y=(i=(f=o.current.get(g))==null?void 0:f.keywords)!=null?i:[],G=ie(E,y);t.current.filtered.items.set(g,G),G>0&&p++}for(let[g,E]of l.current)for(let y of E)if(t.current.filtered.items.get(y)>0){t.current.filtered.groups.add(g);break}t.current.filtered.count=p}function se(){var n,c,f;let i=N();i&&(((n=i.parentElement)==null?void 0:n.firstChild)===i&&((f=(c=i.closest(V))==null?void 0:c.querySelector(Ve))==null||f.scrollIntoView({block:"nearest"})),i.scrollIntoView({block:"nearest"}))}function N(){var n;return(n=M.current)==null?void 0:n.querySelector(`${be}[aria-selected="true"]`)}function q(){var n;return Array.from(((n=M.current)==null?void 0:n.querySelectorAll(he))||[])}function Z(n){let c=q()[n];c&&k.setState("value",c.getAttribute(D))}function ee(n){var c;let f=N(),i=q(),p=i.findIndex(E=>E===f),g=i[p+n];(c=m.current)!=null&&c.loop&&(g=p+n<0?i[i.length-1]:p+n===i.length?i[0]:i[p+n]),g&&k.setState("value",g.getAttribute(D))}function ce(n){let c=N(),f=c?.closest(V),i;for(;f&&!i;)f=n>0?Je(f,V):Xe(f,V),i=f?.querySelector(he);i?k.setState("value",i.getAttribute(D)):ee(n)}let de=()=>Z(q().length-1),fe=n=>{n.preventDefault(),n.metaKey?de():n.altKey?ce(1):ee(1)},me=n=>{n.preventDefault(),n.metaKey?Z(0):n.altKey?ce(-1):ee(-1)};return u.createElement($.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:n=>{var c;(c=_.onKeyDown)==null||c.call(_,n);let f=n.nativeEvent.isComposing||n.keyCode===229;if(!(n.defaultPrevented||f))switch(n.key){case"n":case"j":{A&&n.ctrlKey&&fe(n);break}case"ArrowDown":{fe(n);break}case"p":case"k":{A&&n.ctrlKey&&me(n);break}case"ArrowUp":{me(n);break}case"Home":{n.preventDefault(),Z(0);break}case"End":{n.preventDefault(),de();break}case"Enter":{n.preventDefault();let i=N();if(i){let p=new Event(ae);i.dispatchEvent(p)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:Ze},b),U(r,n=>u.createElement(ye.Provider,{value:k},u.createElement(xe.Provider,{value:J},n))))}),Oe=u.forwardRef((r,e)=>{var t,a;let l=K(),o=u.useRef(null),d=u.useContext(we),m=B(),b=Ee(r),s=(a=(t=b.current)==null?void 0:t.forceMount)!=null?a:d?.forceMount;j(()=>{if(!s)return m.item(l,d?.id)},[s]);let v=Se(l,o,[r.value,r.children,o],r.keywords),h=oe(),S=R(x=>x.value&&x.value===v.current),w=R(x=>s||m.filter()===!1?!0:x.search?x.filtered.items.get(l)>0:!0);u.useEffect(()=>{let x=o.current;if(!(!x||r.disabled))return x.addEventListener(ae,C),()=>x.removeEventListener(ae,C)},[w,r.onSelect,r.disabled]);function C(){var x,k;H(),(k=(x=b.current).onSelect)==null||k.call(x,v.current)}function H(){h.setState("value",v.current,!0)}if(!w)return null;let{disabled:A,value:_,onSelect:T,forceMount:ue,keywords:W,...M}=r;return u.createElement($.div,{ref:z(o,e),...M,id:l,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!S,"data-disabled":!!A,"data-selected":!!S,onPointerMove:A||m.getDisablePointerSelection()?void 0:H,onClick:A?void 0:C},r.children)}),Be=u.forwardRef((r,e)=>{let{heading:t,children:a,forceMount:l,...o}=r,d=K(),m=u.useRef(null),b=u.useRef(null),s=K(),v=B(),h=R(w=>l||v.filter()===!1?!0:w.search?w.filtered.groups.has(d):!0);j(()=>v.group(d),[]),Se(d,m,[r.value,r.heading,b]);let S=u.useMemo(()=>({id:d,forceMount:l}),[l]);return u.createElement($.div,{ref:z(m,e),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&u.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:s},t),U(r,w=>u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?s:void 0},u.createElement(we.Provider,{value:S},w))))}),_e=u.forwardRef((r,e)=>{let{alwaysRender:t,...a}=r,l=u.useRef(null),o=R(d=>!d.search);return!t&&!o?null:u.createElement($.div,{ref:z(l,e),...a,"cmdk-separator":"",role:"separator"})}),Ge=u.forwardRef((r,e)=>{let{onValueChange:t,...a}=r,l=r.value!=null,o=oe(),d=R(s=>s.search),m=R(s=>s.selectedItemId),b=B();return u.useEffect(()=>{r.value!=null&&o.setState("search",r.value)},[r.value]),u.createElement($.input,{ref:e,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":m,id:b.inputId,type:"text",value:l?r.value:d,onChange:s=>{l||o.setState("search",s.target.value),t?.(s.target.value)}})}),Ue=u.forwardRef((r,e)=>{let{children:t,label:a="Suggestions",...l}=r,o=u.useRef(null),d=u.useRef(null),m=R(s=>s.selectedItemId),b=B();return u.useEffect(()=>{if(d.current&&o.current){let s=d.current,v=o.current,h,S=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let w=s.offsetHeight;v.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return S.observe(s),()=>{cancelAnimationFrame(h),S.unobserve(s)}}},[]),u.createElement($.div,{ref:z(o,e),...l,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":a,id:b.listId},U(r,s=>u.createElement("div",{ref:z(d,b.listInnerRef),"cmdk-list-sizer":""},s)))}),He=u.forwardRef((r,e)=>{let{open:t,onOpenChange:a,overlayClassName:l,contentClassName:o,container:d,...m}=r;return u.createElement(Ce,{open:t,onOpenChange:a},u.createElement(Ie,{container:d},u.createElement(Re,{"cmdk-overlay":"",className:l}),u.createElement($e,{"aria-label":r.label,"cmdk-dialog":"",className:o},u.createElement(ke,{ref:e,...m}))))}),Te=u.forwardRef((r,e)=>R(t=>t.filtered.count===0)?u.createElement($.div,{ref:e,...r,"cmdk-empty":"",role:"presentation"}):null),We=u.forwardRef((r,e)=>{let{progress:t,children:a,label:l="Loading...",...o}=r;return u.createElement($.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},U(r,d=>u.createElement("div",{"aria-hidden":!0},d)))}),L=Object.assign(ke,{List:Ue,Item:Oe,Input:Ge,Group:Be,Separator:_e,Dialog:He,Empty:Te,Loading:We});function Je(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function Xe(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function Ee(r){let e=u.useRef(r);return j(()=>{e.current=r}),e}var j=typeof window>"u"?u.useEffect:u.useLayoutEffect;function F(r){let e=u.useRef();return e.current===void 0&&(e.current=r()),e}function R(r){let e=oe(),t=()=>r(e.snapshot());return u.useSyncExternalStore(e.subscribe,t,t)}function Se(r,e,t,a=[]){let l=u.useRef(),o=B();return j(()=>{var d;let m=(()=>{var s;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(s=v.current.textContent)==null?void 0:s.trim():l.current}})(),b=a.map(s=>s.trim());o.value(r,m,b),(d=e.current)==null||d.setAttribute(D,m),l.current=m}),l}var Ye=()=>{let[r,e]=u.useState(),t=F(()=>new Map);return j(()=>{t.current.forEach(a=>a()),t.current=new Map},[r]),(a,l)=>{t.current.set(a,l),e({})}};function Qe(r){let e=r.type;return typeof e=="function"?e(r.props):"render"in e?e.render(r.props):r}function U({asChild:r,children:e},t){return r&&u.isValidElement(e)?u.cloneElement(Qe(e),{ref:e.ref},t(e.props.children)):t(e)}var Ze={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ut(r){const e=P.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let l;e[3]!==t?(l=O("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=I.jsx(L,{"data-slot":"command",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}function it(r){const e=P.c(9);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=I.jsx(Ae,{className:"size-4 shrink-0 opacity-50"}),e[3]=l):l=e[3];let o;e[4]!==t?(o=O("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),e[4]=t,e[5]=o):o=e[5];let d;return e[6]!==a||e[7]!==o?(d=I.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[l,I.jsx(L.Input,{"data-slot":"command-input",className:o,...a})]}),e[6]=a,e[7]=o,e[8]=d):d=e[8],d}function st(r){const e=P.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let l;e[3]!==t?(l=O("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=I.jsx(L.List,{"data-slot":"command-list",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}function ct(r){const e=P.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let a;return e[2]!==t?(a=I.jsx(L.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t}),e[2]=t,e[3]=a):a=e[3],a}function dt(r){const e=P.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let l;e[3]!==t?(l=O("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=I.jsx(L.Group,{"data-slot":"command-group",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}function ft(r){const e=P.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let l;e[3]!==t?(l=O("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=I.jsx(L.Item,{"data-slot":"command-item",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}export{ut as C,it as a,st as b,ct as c,dt as d,ft as e};
