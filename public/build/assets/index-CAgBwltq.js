import{c as I,u as k,r as w,j as t,L as C}from"./app-klcUL3EL.js";import{I as F,S as q}from"./form-CvObqJ4P.js";import{A as B,a as A,b as R}from"./avatar-BdB_hIma.js";import{B as E}from"./button-Bh8WI1Ty.js";import{u as _}from"./use-initials-GDEZD6-s.js";import{I as D,d as O}from"./institut-layouts-B-3pKq25.js";import{B as P}from"./simple-utility-C2YBhWiw.js";import{s as $}from"./type-BKOnXlFr.js";import{b as z}from"./utils-e8IeQt0G.js";import{d as S}from"./index-DD88zi8k.js";import"./app-Ci7uHgFL.js";import"./index-C7Q-OePl.js";import"./index-Ds5qzORP.js";import"./index-DATr0Fl4.js";import"./index-DkAn70oM.js";import"./index-A7wesXx6.js";import"./index-CyaJm5Nq.js";import"./page-banner-DONW1mv1.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-BQcbsxov.js";import"./iconBase-BVw07lCS.js";import"./arrow-left-DMV9iy1g.js";import"./createLucideIcon-DknjQr1d.js";import"./app-logo-icon-ijSwabQD.js";import"./divider-Dzwd8ovy.js";import"./dropdown-menu-Buaj86n5.js";import"./index-hw-50Y8m.js";import"./index-D7xMndjq.js";import"./index-BrvB-LOg.js";import"./index-C9hgHX-E.js";import"./index-CPeTD8AP.js";import"./index-qHu87rw-.js";import"./check-9HY1vcbG.js";import"./avatar-fallback-BDH5mD5T.js";import"./logout-user-CTkV5_42.js";import"./spinner-2t8r_D1R.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-uPqsp4v0.js";import"./index-BtCACXPK.js";import"./index-ClAXPadg.js";import"./index-DMEIf3eg.js";import"./index-B5Wz6g3U.js";import"./index-B_X-8rh8.js";import"./index-Bfjphteo.js";import"./index-DIHBWcL6.js";import"./index-CvwxozaB.js";import"./index-CwtRjVPi.js";import"./index-DRwoOeWz.js";import"./index-Drn0ezkX.js";import"./index-DmWZapw3.js";import"./index-BgFRERlA.js";import"./gauge-BODaeFnF.js";import"./book-open-qbgfrGvc.js";import"./settings-C4I39P2J.js";import"./x-DGooslga.js";import"./menu-CTQlVSPW.js";import"./file-text-sqyhFZ4U.js";import"./image-dVCsMYpd.js";import"./play-WubiZ-Ti.js";const G=[{title:"Dashboard",href:O().url}];function Xe(){const e=I.c(25),p=_(),{courses:v}=k().props,[r,N]=w.useState(""),[i,y]=w.useState(void 0);let o;e[0]!==v?(o=v||[],e[0]=v,e[1]=o):o=e[1];let u;if(e[2]!==i||e[3]!==r||e[4]!==o){let s;e[6]!==i||e[7]!==r?(s=c=>{if(i&&c.status!==i)return!1;if(!r)return!0;const d=r.toLowerCase();return(c.title||"").toLowerCase().includes(d)||(c.description||"").toLowerCase().includes(d)||(c.teacher?.last_name||"").toLowerCase().includes(d)},e[6]=i,e[7]=r,e[8]=s):s=e[8],u=o.filter(s),e[2]=i,e[3]=r,e[4]=o,e[5]=u}else u=e[5];const h=u;let x;e[9]===Symbol.for("react.memo_cache_sentinel")?(x=s=>N(s),e[9]=x):x=e[9];let l;e[10]!==r?(l=t.jsx("div",{className:"sm:col-span-4 md:col-span-6",children:t.jsx(F,{label:"",placeholder:"Rechercher par titre, description, teacher...",value:r,onChange:x})}),e[10]=r,e[11]=l):l=e[11];const b=i??"";let f;e[12]===Symbol.for("react.memo_cache_sentinel")?(f=s=>y(s),e[12]=f):f=e[12];let a;e[13]!==b?(a=t.jsx("div",{className:"sm:col-span-2 md:col-span-2",children:t.jsx(q,{options:$,emptyOption:"Filtrer par statut",label:"",value:b,onChange:f})}),e[13]=b,e[14]=a):a=e[14];let j;e[15]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(E,{onClick:()=>{N(""),y(void 0)},className:"btn-primary mt-2",children:"Réinitialiser"}),e[15]=j):j=e[15];let m;e[16]!==l||e[17]!==a?(m=t.jsxs("div",{className:"grid w-full grid-cols-1 items-center gap-2 sm:grid-cols-8 md:grid-cols-10",children:[l,a,j]}),e[16]=l,e[17]=a,e[18]=m):m=e[18];let n;e[19]!==h||e[20]!==p?(n=t.jsx("div",{className:"mx-auto my-5",children:h.length==0?t.jsx("div",{children:"Pas de course"}):t.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:h.map((s,c)=>{const d=s.modules?.length||0,L=s.modules?.reduce(M,0).valueOf();return t.jsxs("div",{className:"overflow-hidden rounded-lg border bg-white shadow-lg transition-shadow duration-300 hover:scale-105 hover:shadow-xl",children:[t.jsxs("div",{className:"relative",children:[t.jsx(C,{href:S(s.slug),children:t.jsx("img",{className:"h-[120px] w-full object-cover",src:s.cover_url??"",alt:s.title})}),t.jsx("div",{className:"absolute right-2 -bottom-2",children:t.jsx(P,{status:s.status})})]}),t.jsxs("div",{className:"flex justify-between px-4 py-2 text-sm text-gray-600",children:[t.jsxs("div",{children:["Modules: ",d]}),t.jsxs("div",{children:["Séquences: ",L]})]}),t.jsxs("div",{className:"px-4 pb-4",children:[t.jsx(C,{href:S(s.slug),children:t.jsx("h3",{className:"line-clamp-1 text-[15px] font-semibold text-gray-800 capitalize",children:s.title})}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:"font-bold text-blue-600",children:s.price?`${s.price} F`:"Gratuit"})})]}),t.jsx("div",{className:"border-t px-4 py-2",children:t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(B,{className:"cursor-pointer overflow-hidden rounded-full",children:[s.profile_picture_url!=null&&t.jsx(A,{src:s.teacher?.profile_picture_url??"",alt:s.teacher?.first_name}),t.jsx(R,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:p(s.teacher?.first_name??s.teacher?.last_name??"")})]}),t.jsxs("p",{className:"line-clamp-1 text-sm text-gray-500",children:[s.teacher?.first_name??""," "]})]}),t.jsxs("span",{className:"text-[10px] text-gray-400",children:["le ",z(s.created_at)]})]})})]},c)})})}),e[19]=h,e[20]=p,e[21]=n):n=e[21];let g;return e[22]!==m||e[23]!==n?(g=t.jsxs(D,{breadcrumbs:G,title:"Liste des cours",children:[m,n]}),e[22]=m,e[23]=n,e[24]=g):g=e[24],g}function M(e,p){return e+(p.sequences?.length||0)}export{Xe as default};
