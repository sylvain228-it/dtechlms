import{c as P,u as I,r as L,j as s,L as o}from"./app-CjIWy3eH.js";import{A as E}from"./app-logo-icon-hvVxL52x.js";import{D as M}from"./divider-D-eLoZ7M.js";import{D as $}from"./profile-svg-Cv26bH6a.js";import{P as S}from"./user-profile-trigger-CmjyThd_.js";import{B}from"./button-CExzQmZc.js";import{D as O,a as A,b as T}from"./dropdown-menu-DUsmAPKS.js";import{L as z}from"./logout-user-BBug3-28.js";import{i as U,l as R,r as X}from"./index-wHDUIrgA.js";import{i as q}from"./index-DGvaH1zc.js";import{d as F}from"./index-5dwg6Nh6.js";import{d as G}from"./index-DtNXQYgP.js";import{U as H}from"./avatar-fallback-DKyWtIhb.js";import{S as J}from"./settings-P3TSVHSR.js";import{X as C}from"./x-CvJE1FTX.js";import{c as K}from"./createLucideIcon-i13MEz2U.js";const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a7 7 0 1 0 10 10",key:"1yuj32"}]],V=K("Eclipse",Q);function D(){const e=P.c(2);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(o,{href:R(),className:"btn-primary !hover:bg-app-blue !hover:text-white !my-1 border border-current !bg-transparent !text-app-blue",children:"Se connecter"}),e[0]=c):c=e[0];let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"flex items-center space-x-2",children:[c,s.jsx(o,{href:X(),className:"btn-primary",children:"S'inscrire"})]}),e[1]=r):r=e[1],r}function he(){const e=P.c(38),c=I(),{auth:r}=c.props,[l,w]=L.useState(!1);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=[{title:"Mes Cours",href:"/"}],e[0]=g):g=e[0];const k=g;let j;e[1]===Symbol.for("react.memo_cache_sentinel")?(j={title:"Mon Profil",href:U().url,icon:H},e[1]=j):j=e[1];let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b={title:"ParamÃ¨tres",href:q().url,icon:J},e[2]=b):b=e[2];let i;if(e[3]!==r.user){if(i=[j,b],r.user){let t;e[5]!==r.user.account_role?(t=r.user.account_role=="student"?F().url:G().url,e[5]=r.user.account_role,e[6]=t):t=e[6];let n;e[7]!==t?(n={title:"Mon interface",href:t,icon:V},e[7]=t,e[8]=n):n=e[8],i.push(n)}e[3]=r.user,e[4]=i}else i=e[4];let v;e[9]!==l?(v=function(){w(!l)},e[9]=l,e[10]=v):v=e[10];const a=v;let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"flex gap-6",children:s.jsx("div",{className:"order-last lg:order-first",children:s.jsx(o,{href:"/",className:"flex items-center gap-2",children:s.jsx(E,{className:"h-[30px]"})})})}),e[11]=y):y=e[11];let N;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=k.map(Y),e[12]=N):N=e[12];let m;e[13]!==r.user?(m=r.user==null&&s.jsx(D,{}),e[13]=r.user,e[14]=m):m=e[14];let u;e[15]!==m?(u=s.jsxs("div",{className:"hidden lg:flex lg:items-center lg:gap-8",children:[N,m]}),e[15]=m,e[16]=u):u=e[16];let d;e[17]!==r.user||e[18]!==i?(d=r.user!=null&&s.jsx("div",{className:"hidden lg:block",children:s.jsxs(O,{children:[s.jsx(A,{asChild:!0,children:s.jsx(B,{variant:"ghost",className:"size-10 rounded-full p-1",children:s.jsx(S,{user:r.user})})}),s.jsxs(T,{className:"w-56 transition-all duration-300 ease-in-out",align:"end",children:[s.jsx("div",{children:i.map(t=>{const n=t.icon;return s.jsxs(o,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600",onClick:()=>{w(!1)},children:[s.jsx(n,{size:16}),t.title]},t.href)})}),s.jsx(z,{})]})]})}),e[17]=r.user,e[18]=i,e[19]=d):d=e[19];let f;e[20]!==r.user||e[21]!==l?(f=l?s.jsx(C,{size:24}):s.jsx("div",{children:r.user==null?s.jsx($,{}):s.jsx(S,{user:r.user})}),e[20]=r.user,e[21]=l,e[22]=f):f=e[22];let x;e[23]!==a||e[24]!==f?(x=s.jsx("button",{onClick:a,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100 lg:hidden",children:f}),e[23]=a,e[24]=f,e[25]=x):x=e[25];let h;e[26]!==x||e[27]!==u||e[28]!==d?(h=s.jsx("nav",{className:"h-[56px] border-b border-gray-200 bg-white shadow-sm",children:s.jsx("div",{className:"mx-auto px-4 sm:w-full sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex h-16 items-center justify-between",children:[y,u,d,x]})})}),e[26]=x,e[27]=u,e[28]=d,e[29]=h):h=e[29];let p;e[30]!==r.user||e[31]!==a||e[32]!==l||e[33]!==i?(p=l&&s.jsxs("div",{children:[s.jsx("div",{onClick:a,className:"fixed top-0 z-40 h-full w-full bg-black/50 transition-all duration-300 ease-in-out"}),s.jsxs("div",{className:`fixed right-0 bottom-0 z-50 w-full animate-in gap-4 overflow-y-auto rounded-t-lg bg-white p-4 shadow-lg transition-all duration-300 ease-in-out ${l?"slide-in-from-bottom":"slide-out-to-bottom"}`,children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:a,className:"rounded-lg p-2 text-gray-700 hover:bg-gray-100",children:s.jsx(C,{size:24})})}),k.map(W),r.user!=null&&s.jsxs("div",{children:[s.jsx(M,{}),s.jsxs("div",{className:"mb-3 flex items-center gap-3 px-4 py-2",children:[s.jsx(S,{user:r.user}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.user.first_name==null&&r.user.last_name==null?s.jsxs("span",{children:[r.user.first_name," ",r.user.last_name]}):s.jsx("span",{children:r.user.username})}),s.jsx("p",{className:"text-xs text-gray-600",children:r.user.email})]})]}),i.map(t=>{const n=t.icon;return s.jsxs(o,{href:t.href,className:"flex items-center gap-2 rounded-lg px-4 py-2 text-sm text-gray-700 transition-colors hover:bg-blue-50 hover:text-blue-600",onClick:()=>{w(!1)},children:[s.jsx(n,{size:16}),t.title]},t.href)}),s.jsx(z,{})]}),r.user==null&&s.jsxs("div",{children:[s.jsx(M,{}),s.jsx(D,{})]})]})]}),e[30]=r.user,e[31]=a,e[32]=l,e[33]=i,e[34]=p):p=e[34];let _;return e[35]!==h||e[36]!==p?(_=s.jsxs("div",{className:"sticky top-0 right-0 left-0 z-40 sm:z-50",children:[h,p]}),e[35]=h,e[36]=p,e[37]=_):_=e[37],_}function W(e){return s.jsx(o,{href:e.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600",children:e.title},e.href)}function Y(e){return s.jsx(o,{href:e.href,className:"text-sm font-medium text-gray-700 transition-colors hover:text-blue-600",children:e.title},e.href)}export{he as P};
