import{c as k,u as C,r as _,j as t}from"./app-BzXwBPBx.js";import{I as L,S}from"./form-B-fdkg48.js";import{A as R,a as A,b as E}from"./avatar-BR3sBMG9.js";import{B as F}from"./badge-fo3-CsRB.js";import{B}from"./button-DpCkL2lj.js";import{u as P}from"./use-initials-GDEZD6-s.js";import{I as U}from"./institut-layouts-CBcyooqb.js";import{d as q}from"./type-DhUEUhhk.js";import z from"./user-profile-civjfFTi.js";import"./app-BlAWqAGg.js";import"./index-BWbkfBfC.js";import"./index-CmvPZPYG.js";import"./index-BZwf-zK1.js";import"./index-B2cDW95s.js";import"./utils-e8IeQt0G.js";import"./index-D1DaFm8C.js";import"./index-CyaJm5Nq.js";import"./page-banner-CF78MDYO.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-DF2umSuw.js";import"./iconBase-BH9TG5R0.js";import"./arrow-left-AHTPeAno.js";import"./createLucideIcon-BboBuA9R.js";import"./app-logo-icon-C2LaG9_Q.js";import"./divider-B09NDvil.js";import"./dropdown-menu-DlZS67It.js";import"./index-VdYImSg5.js";import"./index-CJlYDfk2.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BucdvD4Q.js";import"./index-BRTuzqyl.js";import"./check-BHZKRPmL.js";import"./avatar-fallback-D5NPW7a4.js";import"./logout-user-Ce_sIJue.js";import"./spinner-CIZwnsdn.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-BkvcRscv.js";import"./index-BtCACXPK.js";import"./index-Vl0f8Y-f.js";import"./index-DMEIf3eg.js";import"./index-BemDBUNW.js";import"./index-CQybyuYf.js";import"./index-B_X-8rh8.js";import"./index-Bfjphteo.js";import"./index-DIHBWcL6.js";import"./index-DD88zi8k.js";import"./index-CvwxozaB.js";import"./index-CwtRjVPi.js";import"./index-DRwoOeWz.js";import"./index-BGGtLgwn.js";import"./index-DXuqG7by.js";import"./index-Bw5qd42G.js";import"./gauge-Cjf8cet3.js";import"./book-open-DAOtQgtK.js";import"./settings-NUZ-cO65.js";import"./x-BWOBLZ9u.js";import"./menu-CWhsNS-k.js";import"./profile-svg-DwoHoZ6q.js";import"./dialog-BPFiSOET.js";import"./index-ti3WiRrV.js";function Ve(){const e=k.c(26),v=P(),{users:b}=C().props,[i,N]=_.useState(""),[s,w]=_.useState(void 0);let o;e[0]!==b?(o=b||[],e[0]=b,e[1]=o):o=e[1];let p;if(e[2]!==i||e[3]!==s||e[4]!==o){let r;e[6]!==i||e[7]!==s?(r=c=>{if(s&&c.account_role!==s)return!1;if(!i)return!0;const j=i.toLowerCase();return(c.first_name||"").toLowerCase().includes(j)||(c.last_name||"").toLowerCase().includes(j)||(c.email||"").toLowerCase().includes(j)||(c.phone_number||"").toLowerCase().includes(j)},e[6]=i,e[7]=s,e[8]=r):r=e[8],p=o.filter(r),e[2]=i,e[3]=s,e[4]=o,e[5]=p}else p=e[5];const d=p;let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=[{key:"guest",value:"Utilisateur"},{key:"student",value:"Etudiant"},{key:"teacher",value:"Enseignant"}],e[9]=u):u=e[9];const I=u;let f;e[10]===Symbol.for("react.memo_cache_sentinel")?(f=r=>N(r),e[10]=f):f=e[10];let l;e[11]!==i?(l=t.jsx("div",{className:"sm:col-span-4 md:col-span-4",children:t.jsx(L,{label:"",placeholder:"Rechercher par nom, prénom, numéro ou email...",value:i,onChange:f})}),e[11]=i,e[12]=l):l=e[12];const y=s??"";let h;e[13]===Symbol.for("react.memo_cache_sentinel")?(h=r=>w(r),e[13]=h):h=e[13];let m;e[14]!==y?(m=t.jsx("div",{className:"md:col-span-2",children:t.jsx(S,{options:I,label:"",value:y,onChange:h})}),e[14]=y,e[15]=m):m=e[15];let x;e[16]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(B,{onClick:()=>{N(""),w(void 0)},className:"btn-primary mt-2",children:"Réinitialiser"}),e[16]=x):x=e[16];let a;e[17]!==l||e[18]!==m?(a=t.jsxs("div",{className:"grid w-full grid-cols-1 items-center gap-2 sm:grid-cols-8 md:grid-cols-10",children:[l,m,x]}),e[17]=l,e[18]=m,e[19]=a):a=e[19];let n;e[20]!==d||e[21]!==v?(n=t.jsx("div",{className:"mx-auto my-5",children:d.length==0?t.jsx("div",{children:"Pas d'utilisateur"}):t.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:d.map(r=>t.jsxs("div",{className:"flex flex-col justify-center rounded border border-gray-200 bg-white p-3 shadow-xs",children:[" ",t.jsx("div",{className:"grid justify-center",children:t.jsxs(R,{className:"size-24 cursor-pointer overflow-hidden rounded-full",children:[r.profile_picture_url!=null&&t.jsx(A,{src:r.profile_picture_url,alt:r.username}),t.jsx(E,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:v(r.username)})]})}),t.jsx("div",{className:"mt-1 grid justify-center",children:t.jsxs(F,{title:r.username,variant:"outline",children:["@-",q(r.account_role)]})}),t.jsxs("div",{className:"mt-4 grid justify-center text-center",children:[t.jsxs("h3",{children:[r.first_name??""," ",r.last_name??""]}),t.jsx(z,{user:r,title:"Détails"})]})]},r.id))})}),e[20]=d,e[21]=v,e[22]=n):n=e[22];let g;return e[23]!==n||e[24]!==a?(g=t.jsxs(U,{title:"Liste ds utilisateurs",children:[a,n]}),e[23]=n,e[24]=a,e[25]=g):g=e[25],g}export{Ve as default};
