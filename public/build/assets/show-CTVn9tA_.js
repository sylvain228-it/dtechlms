import{c as te,u as se,j as t,L as K}from"./app-BzXwBPBx.js";import{U as ie}from"./upload-list-shared-D3_j6EXi.js";import{B as X}from"./button-DpCkL2lj.js";import{T as le}from"./student-layouts-t6pggq_i.js";import{C as re}from"./type-DhUEUhhk.js";import{d as me}from"./utils-e8IeQt0G.js";import{d as ae}from"./index-BemDBUNW.js";import{c as Y}from"./index-CQybyuYf.js";import{D as oe}from"./download-DP38PM1j.js";import{C as ce}from"./clock-BtWjw7tR.js";import{C as ne}from"./circle-check-big-EYTKQ_CH.js";import"./app-BlAWqAGg.js";import"./createLucideIcon-BboBuA9R.js";import"./index-D1DaFm8C.js";import"./index-CmvPZPYG.js";import"./index-CyaJm5Nq.js";import"./page-banner-CF78MDYO.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./index-DF2umSuw.js";import"./iconBase-BH9TG5R0.js";import"./arrow-left-AHTPeAno.js";import"./app-logo-icon-C2LaG9_Q.js";import"./divider-B09NDvil.js";import"./profile-svg-DwoHoZ6q.js";import"./user-profile-trigger-Dk_TTr5J.js";import"./sun-D7S3RfEj.js";import"./avatar-BR3sBMG9.js";import"./index-BWbkfBfC.js";import"./index-BZwf-zK1.js";import"./index-B2cDW95s.js";import"./avatar-fallback-D5NPW7a4.js";import"./use-initials-GDEZD6-s.js";import"./dropdown-menu-DlZS67It.js";import"./index-VdYImSg5.js";import"./index-CJlYDfk2.js";import"./index-DAHL75PX.js";import"./index-BQPF0Rq9.js";import"./index-BucdvD4Q.js";import"./index-BRTuzqyl.js";import"./check-BHZKRPmL.js";import"./logout-user-Ce_sIJue.js";import"./spinner-CIZwnsdn.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-BkvcRscv.js";import"./index-Vl0f8Y-f.js";import"./index-DMEIf3eg.js";import"./index-B_X-8rh8.js";import"./nav-items-Ccw_83S7.js";import"./index-BGGtLgwn.js";import"./settings-NUZ-cO65.js";import"./gauge-Cjf8cet3.js";import"./book-Br9QRIqO.js";import"./calendar-BjFjFj4e.js";import"./book-open-DAOtQgtK.js";import"./x-BWOBLZ9u.js";import"./menu-CWhsNS-k.js";function gt(){const e=te.c(88),{submission:s,submissionUploads:l,activity:i,parentCourse:Z}=se().props;let A;e[0]!==l?(A=l??[],e[0]=l,e[1]=A):A=e[1];const r=A.length>0,ee=de;let m;e[2]!==i.title?(m=t.jsx("h1",{className:"mt-2 text-2xl font-bold text-gray-900 dark:text-white",children:i.title}),e[2]=i.title,e[3]=m):m=e[3];let T;e[4]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("span",{className:"mr-4 inline-block text-xs font-medium text-gray-600",children:"Course:"}),e[4]=T):T=e[4];const M=Z?.title??"-";let a;e[5]!==M?(a=t.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[T,t.jsx("span",{className:"text-sm text-gray-700",children:M})]}),e[5]=M,e[6]=a):a=e[6];let o;e[7]!==m||e[8]!==a?(o=t.jsxs("div",{children:[m,a]}),e[7]=m,e[8]=a,e[9]=o):o=e[9];let c;e[10]!==i.slug?(c=Y(i.slug),e[10]=i.slug,e[11]=c):c=e[11];let n;e[12]!==c.url?(n=t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(K,{href:c.url,className:"inline-flex items-center gap-2 rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium hover:bg-gray-50",children:"Retour / Nouvelle soumission"})}),e[12]=c.url,e[13]=n):n=e[13];let d;e[14]!==o||e[15]!==n?(d=t.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o,n]}),e[14]=o,e[15]=n,e[16]=d):d=e[16];let E;e[17]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Détails de l'activité"}),e[17]=E):E=e[17];let x;e[18]!==i.slug?(x=ae(i.slug),e[18]=i.slug,e[19]=x):x=e[19];let p;e[20]!==i.title||e[21]!==x?(p=t.jsx("p",{className:"text-md mt-1 text-gray-800 hover:text-cblue",children:t.jsx(K,{href:x,children:i.title})}),e[20]=i.title,e[21]=x,e[22]=p):p=e[22];let f;e[23]!==i.description?(f=t.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-gray-700",children:i.description}),e[23]=i.description,e[24]=f):f=e[24];let h;e[25]!==p||e[26]!==f?(h=t.jsx("div",{className:"mb-4 flex items-start justify-between border-b pb-4",children:t.jsxs("div",{className:"pr-4",children:[E,p,f]})}),e[25]=p,e[26]=f,e[27]=h):h=e[27];let P;e[28]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Détails de la soumission"}),e[28]=P):P=e[28];let u;e[29]!==s?(u=s?.title&&t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s.title}),e[29]=s,e[30]=u):u=e[30];let g;e[31]!==u?(g=t.jsxs("div",{className:"pr-4",children:[P,u]}),e[31]=u,e[32]=g):g=e[32];const Q=s?.status;let j;e[33]!==Q?(j=t.jsx("div",{children:ee(Q)}),e[33]=Q,e[34]=j):j=e[34];let b;e[35]!==g||e[36]!==j?(b=t.jsxs("div",{className:"flex items-start justify-between",children:[g,j]}),e[35]=g,e[36]=j,e[37]=b):b=e[37];let F;e[38]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("h3",{className:"mb-2 font-medium text-gray-800",children:"Description / Commentaires"}),e[38]=F):F=e[38];let N;e[39]!==s?(N=t.jsxs("div",{className:"mt-4 text-sm text-gray-700",children:[F,s?.description?t.jsx("div",{className:"prose max-w-none text-sm text-gray-700",children:s.description}):t.jsx("div",{className:"text-sm text-gray-400",children:"Aucune description fournie."})]}),e[39]=s,e[40]=N):N=e[40];let I;e[41]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-700",children:"Fichiers joints"}),e[41]=I):I=e[41];let y;e[42]!==r||e[43]!==l?(y=t.jsxs("div",{className:"mt-6",children:[I,r?t.jsx(ie,{submissionUploads:l}):t.jsx("div",{className:"text-sm text-gray-400",children:"Aucun fichier joint pour cette soumission."})]}),e[42]=r,e[43]=l,e[44]=y):y=e[44];let O;e[45]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("h4",{className:"mb-2 text-sm font-medium text-gray-700",children:"Retour de l'enseignant"}),e[45]=O):O=e[45];let v;e[46]!==s?(v=t.jsxs("div",{className:"mt-6",children:[O,s?.feedback?t.jsx("div",{className:"rounded-md border border-green-100 bg-green-50 p-4 text-sm text-gray-800",children:s.feedback}):t.jsx("div",{className:"text-sm text-gray-400",children:"Aucun feedback pour le moment."})]}),e[46]=s,e[47]=v):v=e[47];let _;e[48]!==h||e[49]!==b||e[50]!==N||e[51]!==y||e[52]!==v?(_=t.jsx("div",{className:"space-y-4 lg:col-span-2",children:t.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[h,b,N,y,v]})}),e[48]=h,e[49]=b,e[50]=N,e[51]=y,e[52]=v,e[53]=_):_=e[53];let $;e[54]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Informations"}),e[54]=$):$=e[54];let q;e[55]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("div",{className:"text-xs text-gray-500",children:"Statut"}),e[55]=q):q=e[55];let w;e[56]!==s?(w=s?re(s.status):"Pas de soumission",e[56]=s,e[57]=w):w=e[57];let S;e[58]!==w?(S=t.jsxs("div",{children:[q,t.jsx("div",{className:"mt-1 font-medium",children:w})]}),e[58]=w,e[59]=S):S=e[59];let z;e[60]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("div",{className:"text-xs text-gray-500",children:"Soumis le"}),e[60]=z):z=e[60];let k;e[61]!==s?(k=s?.submitted_at?me(s.submitted_at):"-",e[61]=s,e[62]=k):k=e[62];let C;e[63]!==k?(C=t.jsxs("div",{children:[z,t.jsx("div",{className:"mt-1 font-medium",children:k})]}),e[63]=k,e[64]=C):C=e[64];let G;e[65]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("div",{className:"text-xs text-gray-500",children:"Soumission tardive"}),e[65]=G):G=e[65];const V=s?.late_submission?"Oui":"Non";let D;e[66]!==V?(D=t.jsxs("div",{children:[G,t.jsx("div",{className:"mt-1 font-medium",children:V})]}),e[66]=V,e[67]=D):D=e[67];let H;e[68]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("div",{className:"text-xs text-gray-500",children:"Note"}),e[68]=H):H=e[68];const W=s?.score??"—";let L;e[69]!==W?(L=t.jsxs("div",{children:[H,t.jsx("div",{className:"mt-1 font-medium text-green-600",children:W})]}),e[69]=W,e[70]=L):L=e[70];let R;e[71]!==i.slug||e[72]!==r||e[73]!==s||e[74]!==l?(R=t.jsx("div",{className:"mt-4",children:s?t.jsxs("div",{className:"flex flex-col gap-2",children:[r&&t.jsx(X,{asChild:!0,children:t.jsxs("a",{href:l[0].url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2",children:[t.jsx(oe,{className:"h-4 w-4"})," ","Télécharger le premier fichier"]})}),s.status!=="graded"&&t.jsx(K,{href:Y(i.slug).url,className:"block",children:t.jsx(X,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",children:"Re-soumettre"})})]}):t.jsx(K,{href:Y(i.slug).url,className:"block",children:t.jsx(X,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",children:"Soumettre maintenant"})})}),e[71]=i.slug,e[72]=r,e[73]=s,e[74]=l,e[75]=R):R=e[75];let B;e[76]!==S||e[77]!==C||e[78]!==D||e[79]!==L||e[80]!==R?(B=t.jsx("aside",{className:"col-span-1",children:t.jsxs("div",{className:"sticky top-20 rounded-lg border bg-white p-6 shadow-sm",children:[$,t.jsxs("div",{className:"mt-4 space-y-3 text-sm text-gray-700",children:[S,C,D,L,R]})]})}),e[76]=S,e[77]=C,e[78]=D,e[79]=L,e[80]=R,e[81]=B):B=e[81];let U;e[82]!==_||e[83]!==B?(U=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[_,B]}),e[82]=_,e[83]=B,e[84]=U):U=e[84];let J;return e[85]!==U||e[86]!==d?(J=t.jsx(le,{title:"Détails de la soumission",children:t.jsxs("div",{className:"mx-auto mt-6 max-w-6xl px-4",children:[d,U]})}),e[85]=U,e[86]=d,e[87]=J):J=e[87],J}function de(e){switch(e){case"graded":return t.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-50 px-3 py-1 text-sm font-medium text-green-700",children:[t.jsx(ne,{className:"h-4 w-4"})," Évaluée"]});case"submitted":return t.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-sm font-medium text-blue-700",children:[t.jsx(ce,{className:"h-4 w-4"})," Soumise"]});default:return t.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-gray-100 px-3 py-1 text-sm font-medium text-gray-700",children:e??"—"})}}export{gt as default};
