import{c as ne,u as ae,R as ce,b as ue,j as t,a as Z}from"./app-DeYJtq_f.js";import{I as W,T as de,C as me}from"./form-D4lzfrK5.js";import{B as ee}from"./button-BcaJHoph.js";import{D as pe,a as xe,c as fe,b as he,d as te,e as je,g as ge,f as _e}from"./dialog-DWSLz7e0.js";import{S as be}from"./spinner-B5HXeZy2.js";import{u as ve,s as qe}from"./index-DerrCcFj.js";import{I as De}from"./index-C6tUrqH7.js";import{S as Ce}from"./square-pen-CuwZBDmf.js";import"./app-BCy0fQWz.js";import"./index-CEnOPdIs.js";import"./index-B11fw4J1.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-CBhd-ph8.js";import"./index-CPAp0ZwD.js";import"./index-CRYvoW22.js";import"./index-Wx2anTsr.js";import"./index-Vxp116jM.js";import"./x-gqbQ14sC.js";import"./createLucideIcon-CfblyJan.js";import"./index-CMWG4mbA.js";import"./iconBase-C8Bl2Plt.js";function Ke(re){const e=ne.c(76),{quizId:S,response:n,question:l,title:P,className:se,iconSize:T,triggerTexte:X}=re,ie=X===void 0?!0:X,{errors:o}=ae().props,[E,Y]=ce.useState(!1),a=!!n,R=l?.id,B=n?.answer_text??"",O=n?.numeric_value??"",k=n?.tolerance??"",V=n?.order??"",H=n?.is_correct??!1;let N;e[0]!==R||e[1]!==B||e[2]!==O||e[3]!==k||e[4]!==V||e[5]!==H?(N={quiz_question_id:R,answer_text:B,numeric_value:O,tolerance:k,order:V,is_correct:H},e[0]=R,e[1]=B,e[2]=O,e[3]=k,e[4]=V,e[5]=H,e[6]=N):N=e[6];const{data:r,setData:s,reset:M}=ue(N);let c;if(e[7]!==r||e[8]!==a||e[9]!==l?.id||e[10]!==S||e[11]!==M||e[12]!==n){c=oe=>{oe.preventDefault(),Y(!0),a?Z.put(ve([S,l?.id??0,n.id]),r,{onFinish:i}):Z.post(qe([S,l?.id??0]),r,{onFinish:i})};const i=()=>{M(),Y(!1)};e[7]=r,e[8]=a,e[9]=l?.id,e[10]=S,e[11]=M,e[12]=n,e[13]=c}else c=e[13];const le=S!=0&&l!=null,Q=se??"btn-primary flex w-full items-center justify-center gap-4",$=ie?a?"Modifier":"Ajouter":"";let u;e[14]!==$?(u=t.jsx("b",{children:$}),e[14]=$,e[15]=u):u=e[15];let d;e[16]!==T||e[17]!==a?(d=a?t.jsx(Ce,{size:T??30}):t.jsx(De,{size:T??30}),e[16]=T,e[17]=a,e[18]=d):d=e[18];let m;e[19]!==u||e[20]!==d||e[21]!==Q?(m=t.jsx(pe,{asChild:!0,children:t.jsxs("button",{className:Q,children:[u,d]})}),e[19]=u,e[20]=d,e[21]=Q,e[22]=m):m=e[22];let z;e[23]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(xe,{children:"Ajouter une réponse"}),e[23]=z):z=e[23];const G=l?.question_text;let p;e[24]!==G?(p=t.jsx("b",{children:G}),e[24]=G,e[25]=p):p=e[25];let x;e[26]!==P?(x=t.jsx("b",{children:P}),e[26]=P,e[27]=x):x=e[27];let f;e[28]!==p||e[29]!==x?(f=t.jsxs(fe,{children:[z,t.jsxs(he,{children:["Ajouter une réponse pour la question"," ",p," du quize :"," ",x]})]}),e[28]=p,e[29]=x,e[30]=f):f=e[30];const J=r.answer_text??"";let h;e[31]!==s?(h=i=>s("answer_text",i),e[31]=s,e[32]=h):h=e[32];const K=o.answer_text;let j;e[33]!==J||e[34]!==h||e[35]!==K?(j=t.jsx("div",{className:"sm:col-span-2",children:t.jsx(de,{label:"Texte de la réponse",placeholder:"Entrez le contenu de la réponse",value:J,onChange:h,error:K,required:!0})}),e[33]=J,e[34]=h,e[35]=K,e[36]=j):j=e[36];let g;e[37]!==s?(g=i=>s("order",i),e[37]=s,e[38]=g):g=e[38];let _;e[39]!==r.order||e[40]!==o.order||e[41]!==g?(_=t.jsx(W,{label:"Ordre d'apparition",type:"number",value:r.order,onChange:g,error:o.order,placeholder:"Exemple: 1, 2, 3...",required:!0}),e[39]=r.order,e[40]=o.order,e[41]=g,e[42]=_):_=e[42];let b;e[43]!==r.numeric_value||e[44]!==r.tolerance||e[45]!==o.numeric_value||e[46]!==o.tolerance||e[47]!==l||e[48]!==s?(b=l&&l.question_type=="numeric"&&t.jsxs("div",{children:[t.jsx(W,{label:"Valeur numérique",type:"number",value:r.numeric_value,onChange:i=>s("numeric_value",i),error:o.numeric_value,placeholder:"Exemple: 10 points",required:!0}),t.jsx(W,{label:"Tolérance",type:"number",value:r.tolerance,onChange:i=>s("tolerance",i),error:o.tolerance,placeholder:"Exemple: 2",required:!0})]}),e[43]=r.numeric_value,e[44]=r.tolerance,e[45]=o.numeric_value,e[46]=o.tolerance,e[47]=l,e[48]=s,e[49]=b):b=e[49];const L=!!r.is_correct;let v;e[50]!==s?(v=i=>s("is_correct",i),e[50]=s,e[51]=v):v=e[51];let q;e[52]!==L||e[53]!==v?(q=t.jsx(me,{label:"Bonne réponse",checked:L,onChange:v}),e[52]=L,e[53]=v,e[54]=q):q=e[54];let D;e[55]!==j||e[56]!==_||e[57]!==b||e[58]!==q?(D=t.jsx("div",{className:"mb-4 grid w-full gap-4",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[j,_,b,q]})}),e[55]=j,e[56]=_,e[57]=b,e[58]=q,e[59]=D):D=e[59];let I;e[60]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(te,{asChild:!0,children:t.jsx(ee,{variant:"outline",children:"Fermer"})}),e[60]=I):I=e[60];const U=!le||E;let C;e[61]!==E?(C=E&&t.jsx(be,{}),e[61]=E,e[62]=C):C=e[62];let w;e[63]!==U||e[64]!==C?(w=t.jsxs(je,{className:"mt-4",children:[I,t.jsx(te,{asChild:!0,children:t.jsxs(ee,{type:"submit",className:"btn-primary w-full",tabIndex:4,disabled:U,children:[C,"Enregistrer"]})})]}),e[63]=U,e[64]=C,e[65]=w):w=e[65];let y;e[66]!==c||e[67]!==D||e[68]!==w?(y=t.jsxs("form",{method:"POST",onSubmit:c,children:[D,w]}),e[66]=c,e[67]=D,e[68]=w,e[69]=y):y=e[69];let F;e[70]!==f||e[71]!==y?(F=t.jsxs(ge,{className:"max-h-[90vh] w-4xl overflow-y-auto",children:[f,y]}),e[70]=f,e[71]=y,e[72]=F):F=e[72];let A;return e[73]!==m||e[74]!==F?(A=t.jsxs(_e,{children:[m,F]}),e[73]=m,e[74]=F,e[75]=A):A=e[75],A}export{Ke as default};
