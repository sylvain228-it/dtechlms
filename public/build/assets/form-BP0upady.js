import{c as He,u as Re,b as Je,r as Ke,j as s,a as Ue}from"./app-CjIWy3eH.js";import{I as Z,T as $e,S as Qe,C as ee}from"./form-SFwPvtEA.js";import{B as Ae}from"./button-CExzQmZc.js";import{S as Ve}from"./spinner-Bb2x751J.js";import{T as We}from"./teacher-layouts-C060YcPY.js";import{I as Xe,E as Ye}from"./type-DDACwUq3.js";import{u as Ze,a as et}from"./index-Ba98UH71.js";import"./app-DfLmVDUM.js";import"./index-C4soMqjN.js";import"./index-BnYBuebb.js";import"./utils-AnTb9DBe.js";import"./createLucideIcon-i13MEz2U.js";import"./tasks-gWUZeaAY.js";import"./index-BqTge0le.js";import"./index-CMWG4mbA.js";import"./lexical-headless-BCA5NgA9.js";import"./nodes-B8QjlgCe.js";import"./page-banner-IgGXIOfs.js";import"./index-CHnKU68i.js";import"./iconBase-ZLoFHiO_.js";import"./arrow-left-DAnQtW-a.js";import"./app-logo-icon-hvVxL52x.js";import"./divider-D-eLoZ7M.js";import"./profile-svg-Cv26bH6a.js";import"./user-profile-trigger-CmjyThd_.js";import"./avatar-8Q0-AYNg.js";import"./index-OYVf1Zwz.js";import"./index-DnZUlvAx.js";import"./index-Cx1mEBwh.js";import"./avatar-fallback-DKyWtIhb.js";import"./use-initials-GDEZD6-s.js";import"./dropdown-menu-DUsmAPKS.js";import"./index-aXAQScOB.js";import"./index-CgNbq55-.js";import"./index-CPWTBhsT.js";import"./index-DdCDBdhx.js";import"./index-DIo9abDA.js";import"./index-DLvqQGle.js";import"./check-C6ufmhQW.js";import"./logout-user-BBug3-28.js";import"./index-wHDUIrgA.js";import"./index-v3lNCs8j.js";import"./index-DGvaH1zc.js";import"./log-out-Bz_ayeBV.js";import"./index-5dwg6Nh6.js";import"./index-DMEIf3eg.js";import"./index-BCspIYgb.js";import"./index-V0aQkvK_.js";import"./index-DtNXQYgP.js";import"./index-D-fKvoRm.js";import"./index-DH9SVvWg.js";import"./index-CJeVcETn.js";import"./index-CU8SWGOj.js";import"./index-51Gsxs9j.js";import"./index-Cer0vd8q.js";import"./index-DXT9ONqy.js";import"./index-lBAoiumE.js";import"./index-Di1vi8wQ.js";import"./gauge-au9SJ6qx.js";import"./calendar-Bfdj--jJ.js";import"./message-circle-CqdwJGEq.js";import"./settings-P3TSVHSR.js";import"./x-CvJE1FTX.js";import"./menu-F5M2EXT6.js";import"./index-Bwrcs2qz.js";import"./index-DerrCcFj.js";function fs(){const e=He.c(154),{activity:a,quize:o}=Re().props,c=!!o,{errors:r}=Re().props,re=o?.title??"",le=o?.description??"",oe=o?.quize_instructions??"",ne=o?.note_unit??"",me=o?.quiz_type??"formative",ae=o?.time_limit_minutes??null,ce=o?.max_attempts??1,ue=o?.is_mandatory??!1,pe=o?.shuffle_questions??!0,de=o?.shuffle_answers??!0,fe=o?.show_results_immediately??!0,he=o?.show_correct_answers??!1,_e=o?.max_score??null,xe=o?.success_threshold??null;let te;e[0]!==a.id||e[1]!==re||e[2]!==le||e[3]!==fe||e[4]!==he||e[5]!==_e||e[6]!==xe||e[7]!==oe||e[8]!==ne||e[9]!==me||e[10]!==ae||e[11]!==ce||e[12]!==ue||e[13]!==pe||e[14]!==de?(te={activity_id:a.id,title:re,description:le,quize_instructions:oe,note_unit:ne,quiz_type:me,time_limit_minutes:ae,max_attempts:ce,is_mandatory:ue,shuffle_questions:pe,shuffle_answers:de,show_results_immediately:fe,show_correct_answers:he,max_score:_e,success_threshold:xe},e[0]=a.id,e[1]=re,e[2]=le,e[3]=fe,e[4]=he,e[5]=_e,e[6]=xe,e[7]=oe,e[8]=ne,e[9]=me,e[10]=ae,e[11]=ce,e[12]=ue,e[13]=pe,e[14]=de,e[15]=te):te=e[15];const{data:l,setData:t,reset:be}=Je(te),[m,Be]=Ke.useState(!1);let n;if(e[16]!==a.id||e[17]!==l||e[18]!==c||e[19]!==o||e[20]!==be){let i=function(){c||be(),Be(!1)};n=Ge=>{Ge.preventDefault(),Be(!0);const Oe={...l,_method:c?"put":"post"};c&&o?.id?Ue.put(Ze([a.id,o.id]),Oe,{onFinish:i}):Ue.post(et(a.id),Oe,{onFinish:i})},e[16]=a.id,e[17]=l,e[18]=c,e[19]=o,e[20]=be,e[21]=n}else n=e[21];const Pe=!!(l.title&&l.quiz_type),je=c?"Modifier le quiz":"Nouveau quiz",ge=c?"Modifier le quiz":"Créer un quiz";let u;e[22]!==ge?(u=s.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-800",children:ge}),e[22]=ge,e[23]=u):u=e[23];const ye=!Pe||m;let p;e[24]!==n?(p=i=>{i.preventDefault(),n(i)},e[24]=n,e[25]=p):p=e[25];let d;e[26]!==m?(d=m&&s.jsx(Ve,{}),e[26]=m,e[27]=d):d=e[27];let f;e[28]!==ye||e[29]!==p||e[30]!==d?(f=s.jsxs(Ae,{className:"btn-primary",disabled:ye,onClick:p,children:[d,"Enregistrer"]}),e[28]=ye,e[29]=p,e[30]=d,e[31]=f):f=e[31];let h;e[32]!==u||e[33]!==f?(h=s.jsxs("div",{className:"mb-5 flex items-center justify-between border-b p-3",children:[u,f]}),e[32]=u,e[33]=f,e[34]=h):h=e[34];let _;e[35]!==t?(_=i=>t("title",i),e[35]=t,e[36]=_):_=e[36];let x;e[37]!==l.title||e[38]!==r.title||e[39]!==_?(x=s.jsx("div",{className:"mb-4",children:s.jsx(Z,{label:"Titre",value:l.title,onChange:_,required:!0,error:r.title,placeholder:"Titre du quiz"})}),e[37]=l.title,e[38]=r.title,e[39]=_,e[40]=x):x=e[40];const qe=l.description??"";let b;e[41]!==t?(b=i=>t("description",i),e[41]=t,e[42]=b):b=e[42];let j;e[43]!==r.description||e[44]!==qe||e[45]!==b?(j=s.jsx("div",{className:"mb-4",children:s.jsx($e,{label:"Description",value:qe,onChange:b,rows:4,placeholder:"Courte description du quiz",error:r.description})}),e[43]=r.description,e[44]=qe,e[45]=b,e[46]=j):j=e[46];const ve=l.quiz_type??"";let g;e[47]!==t?(g=i=>t("quiz_type",i),e[47]=t,e[48]=g):g=e[48];let y;e[49]!==r.quiz_type||e[50]!==ve||e[51]!==g?(y=s.jsx("div",{className:"mb-4",children:s.jsx(Qe,{label:"Type de quiz",value:ve,onChange:g,options:Xe,required:!0,error:r.quiz_type})}),e[49]=r.quiz_type,e[50]=ve,e[51]=g,e[52]=y):y=e[52];const ze=l.time_limit_minutes??"";let q;e[53]!==t?(q=i=>t("time_limit_minutes",i?Number(i):null),e[53]=t,e[54]=q):q=e[54];let v;e[55]!==r.time_limit_minutes||e[56]!==ze||e[57]!==q?(v=s.jsx(Z,{label:"Durée (minutes)",type:"number",value:ze,onChange:q,error:r.time_limit_minutes,placeholder:"ex: 30"}),e[55]=r.time_limit_minutes,e[56]=ze,e[57]=q,e[58]=v):v=e[58];const we=l.max_attempts??1;let z;e[59]!==t?(z=i=>t("max_attempts",i?Number(i):1),e[59]=t,e[60]=z):z=e[60];let w;e[61]!==r.max_attempts||e[62]!==we||e[63]!==z?(w=s.jsx(Z,{label:"Tentatives max",type:"number",value:we,onChange:z,error:r.max_attempts,placeholder:"ex: 3"}),e[61]=r.max_attempts,e[62]=we,e[63]=z,e[64]=w):w=e[64];let N;e[65]!==v||e[66]!==w?(N=s.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2",children:[v,w]}),e[65]=v,e[66]=w,e[67]=N):N=e[67];const Ne=!!l.is_mandatory;let C;e[68]!==t?(C=i=>t("is_mandatory",i),e[68]=t,e[69]=C):C=e[69];let S;e[70]!==Ne||e[71]!==C?(S=s.jsx("div",{children:s.jsx(ee,{label:"Obligatoire",checked:Ne,onChange:C})}),e[70]=Ne,e[71]=C,e[72]=S):S=e[72];const Ce=!!l.shuffle_questions;let T;e[73]!==t?(T=i=>t("shuffle_questions",i),e[73]=t,e[74]=T):T=e[74];let k;e[75]!==Ce||e[76]!==T?(k=s.jsx("div",{children:s.jsx(ee,{label:"Mélanger les questions",checked:Ce,onChange:T})}),e[75]=Ce,e[76]=T,e[77]=k):k=e[77];let F;e[78]!==S||e[79]!==k?(F=s.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2",children:[S,k]}),e[78]=S,e[79]=k,e[80]=F):F=e[80];const Se=!!l.shuffle_answers;let E;e[81]!==t?(E=i=>t("shuffle_answers",i),e[81]=t,e[82]=E):E=e[82];let D;e[83]!==Se||e[84]!==E?(D=s.jsx("div",{children:s.jsx(ee,{label:"Mélanger les réponses",checked:Se,onChange:E})}),e[83]=Se,e[84]=E,e[85]=D):D=e[85];const Te=!!l.show_results_immediately;let I;e[86]!==t?(I=i=>t("show_results_immediately",i),e[86]=t,e[87]=I):I=e[87];let L;e[88]!==Te||e[89]!==I?(L=s.jsx("div",{children:s.jsx(ee,{label:"Afficher résultats immédiatement",checked:Te,onChange:I})}),e[88]=Te,e[89]=I,e[90]=L):L=e[90];let M;e[91]!==D||e[92]!==L?(M=s.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2",children:[D,L]}),e[91]=D,e[92]=L,e[93]=M):M=e[93];const ke=l.note_unit??"fr";let A;e[94]!==t?(A=i=>t("note_unit",i),e[94]=t,e[95]=A):A=e[95];let B;e[96]!==r.note_unit||e[97]!==ke||e[98]!==A?(B=s.jsx(Qe,{label:"Unité de notation",value:ke,onChange:A,options:Ye,required:!0,error:r.note_unit}),e[96]=r.note_unit,e[97]=ke,e[98]=A,e[99]=B):B=e[99];const Fe=l.max_score??"";let P;e[100]!==t?(P=i=>t("max_score",i?Number(i):null),e[100]=t,e[101]=P):P=e[101];let O;e[102]!==r.max_score||e[103]!==Fe||e[104]!==P?(O=s.jsx(Z,{label:"Score max",type:"number",value:Fe,onChange:P,error:r.max_score,placeholder:"ex: 100"}),e[102]=r.max_score,e[103]=Fe,e[104]=P,e[105]=O):O=e[105];let R;e[106]!==B||e[107]!==O?(R=s.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2",children:[B,O]}),e[106]=B,e[107]=O,e[108]=R):R=e[108];const Ee=!!l.show_correct_answers;let U;e[109]!==t?(U=i=>t("show_correct_answers",i),e[109]=t,e[110]=U):U=e[110];let $;e[111]!==Ee||e[112]!==U?($=s.jsx("div",{children:s.jsx(ee,{label:"Afficher réponses correctes",checked:Ee,onChange:U})}),e[111]=Ee,e[112]=U,e[113]=$):$=e[113];const De=`Seuil de réussite (${l.note_unit??""})`,Ie=l.success_threshold??"";let Q;e[114]!==t?(Q=i=>t("success_threshold",i?Number(i):null),e[114]=t,e[115]=Q):Q=e[115];let V;e[116]!==r.success_threshold||e[117]!==De||e[118]!==Ie||e[119]!==Q?(V=s.jsx("div",{children:s.jsx(Z,{label:De,type:"number",value:Ie,onChange:Q,error:r.success_threshold,placeholder:"ex: 60"})}),e[116]=r.success_threshold,e[117]=De,e[118]=Ie,e[119]=Q,e[120]=V):V=e[120];let G;e[121]!==$||e[122]!==V?(G=s.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2",children:[$,V]}),e[121]=$,e[122]=V,e[123]=G):G=e[123];const Le=l.quize_instructions??"";let H;e[124]!==t?(H=i=>t("quize_instructions",i),e[124]=t,e[125]=H):H=e[125];let J;e[126]!==r.quize_instructions||e[127]!==Le||e[128]!==H?(J=s.jsx("div",{className:"mb-4",children:s.jsx($e,{label:"Instructions",value:Le,onChange:H,rows:4,placeholder:"Les instructions du quiz",error:r.quize_instructions})}),e[126]=r.quize_instructions,e[127]=Le,e[128]=H,e[129]=J):J=e[129];let se;e[130]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(Ae,{variant:"ghost",onClick:tt,className:"border",children:"Annuler"}),e[130]=se):se=e[130];const Me=!Pe||m;let K;e[131]!==m?(K=m&&s.jsx(Ve,{}),e[131]=m,e[132]=K):K=e[132];let W;e[133]!==Me||e[134]!==K?(W=s.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[se,s.jsxs(Ae,{type:"submit",className:"btn-primary",disabled:Me,children:[K,"Enregistrer"]})]}),e[133]=Me,e[134]=K,e[135]=W):W=e[135];let X;e[136]!==n||e[137]!==x||e[138]!==j||e[139]!==y||e[140]!==N||e[141]!==F||e[142]!==M||e[143]!==R||e[144]!==G||e[145]!==J||e[146]!==W?(X=s.jsxs("form",{onSubmit:n,className:"rounded-lg border bg-white p-6 shadow",method:"POST",children:[x,j,y,N,F,M,R,G,J,W]}),e[136]=n,e[137]=x,e[138]=j,e[139]=y,e[140]=N,e[141]=F,e[142]=M,e[143]=R,e[144]=G,e[145]=J,e[146]=W,e[147]=X):X=e[147];let Y;e[148]!==h||e[149]!==X?(Y=s.jsxs("div",{className:"mx-auto mt-8 max-w-3xl",children:[h,X]}),e[148]=h,e[149]=X,e[150]=Y):Y=e[150];let ie;return e[151]!==je||e[152]!==Y?(ie=s.jsx(We,{title:je,children:Y}),e[151]=je,e[152]=Y,e[153]=ie):ie=e[153],ie}function tt(){return history.back()}export{fs as default};
