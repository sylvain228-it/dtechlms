import{c as H,r as O,u as L,b as R,j as e,a as T}from"./app-klcUL3EL.js";import{H as U}from"./heading-small-BrL_AVd7.js";import{I as E}from"./form-CvObqJ4P.js";import{B as k}from"./button-Bh8WI1Ty.js";import{L as $}from"./label-W6XNthsN.js";import{S as q}from"./spinner-2t8r_D1R.js";import{D as G}from"./display-flash-msg-B1SYhBLf.js";import{u as J}from"./index-DGvaH1zc.js";import{a as K,b as Q}from"./index-BQcbsxov.js";import"./app-Ci7uHgFL.js";import"./index-A7wesXx6.js";import"./index-Ds5qzORP.js";import"./index-CyaJm5Nq.js";import"./utils-e8IeQt0G.js";import"./index-DATr0Fl4.js";import"./createLucideIcon-DknjQr1d.js";import"./index-CMWG4mbA.js";import"./iconBase-BVw07lCS.js";function us(){const s=H.c(47),[_,z]=O.useState(!1),{errors:r}=L().props;let b;s[0]===Symbol.for("react.memo_cache_sentinel")?(b={current_password:"",password:"",password_confirmation:""},s[0]=b):b=s[0];const{data:t,setData:a,reset:P}=R(b);let l;if(s[1]!==t||s[2]!==P){let i=function(){z(!1),P()};l=async function(B){B.preventDefault(),z(!0),await T.put(J(),t,{onFinish:i})},s[1]=t,s[2]=P,s[3]=l}else l=s[3];const V=t.current_password!=""&&t.password!=""&&t.password_confirmation!=""&&t.password==t.password_confirmation,[o,A]=O.useState(!0);let g;s[4]!==o?(g=function(I){I.preventDefault(),A(!o)},s[4]=o,s[5]=g):g=s[5];const S=g;let j,y;s[6]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsx(U,{title:"Mettre à jour le mot de passe",description:"Pour garantir la sécurité de votre compte, assurez-vous d'utiliser un mot de passe long et aléatoire."}),y=e.jsx(G,{}),s[6]=j,s[7]=y):(j=s[6],y=s[7]);const C=o?"password":"text";let n;s[8]!==a?(n=i=>a("current_password",i),s[8]=a,s[9]=n):n=s[9];let p;s[10]!==t.current_password||s[11]!==r.current_password||s[12]!==C||s[13]!==n?(p=e.jsx("div",{className:"grid gap-2",children:e.jsx(E,{label:"Ancien mot de passe",type:C,value:t.current_password,onChange:n,placeholder:"Mot de passe actuel",error:r.current_password})}),s[10]=t.current_password,s[11]=r.current_password,s[12]=C,s[13]=n,s[14]=p):p=s[14];const M=o?"password":"text";let c;s[15]!==a?(c=i=>a("password",i),s[15]=a,s[16]=c):c=s[16];let d;s[17]!==t.password||s[18]!==r.password||s[19]!==M||s[20]!==c?(d=e.jsx("div",{className:"grid gap-2",children:e.jsx(E,{label:"Mot de passe",type:M,value:t.password,onChange:c,placeholder:"Nouveau mot de passe ",error:r.password})}),s[17]=t.password,s[18]=r.password,s[19]=M,s[20]=c,s[21]=d):d=s[21];const D=o?"password":"text";let m;s[22]!==a?(m=i=>a("password_confirmation",i),s[22]=a,s[23]=m):m=s[23];let f;s[24]!==t.password_confirmation||s[25]!==r.password_confirmation||s[26]!==D||s[27]!==m?(f=e.jsx("div",{className:"grid gap-2",children:e.jsx(E,{label:"Confirmation",type:D,value:t.password_confirmation,onChange:m,placeholder:"Confirmer le mot de passe ",error:r.password_confirmation})}),s[24]=t.password_confirmation,s[25]=r.password_confirmation,s[26]=D,s[27]=m,s[28]=f):f=s[28];let v;s[29]===Symbol.for("react.memo_cache_sentinel")?(v=e.jsx($,{htmlFor:"",children:"Afficher les mots de passes"}),s[29]=v):v=s[29];let u;s[30]!==o?(u=o?e.jsx(K,{size:20}):e.jsx(Q,{size:20}),s[30]=o,s[31]=u):u=s[31];let w;s[32]!==S||s[33]!==u?(w=e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[v,e.jsx("button",{className:"px-3",onClick:S,children:u})]}),s[32]=S,s[33]=u,s[34]=w):w=s[34];const F=_||!V;let x;s[35]!==_?(x=_&&e.jsx(q,{}),s[35]=_,s[36]=x):x=s[36];let h;s[37]!==F||s[38]!==x?(h=e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(k,{type:"submit",disabled:F,className:"btn-primary flex items-center gap-1",children:[x,"Enregistrer"]})}),s[37]=F,s[38]=x,s[39]=h):h=s[39];let N;return s[40]!==l||s[41]!==f||s[42]!==w||s[43]!==h||s[44]!==p||s[45]!==d?(N=e.jsxs("div",{className:"space-y-6",children:[j,y,e.jsxs("form",{onSubmit:l,className:"space-y-6 rounded-lg bg-white p-6 shadow",children:[p,d,f,w,h]})]}),s[40]=l,s[41]=f,s[42]=w,s[43]=h,s[44]=p,s[45]=d,s[46]=N):N=s[46],N}export{us as default};
